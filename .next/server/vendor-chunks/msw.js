"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/msw";
exports.ids = ["vendor-chunks/msw"];
exports.modules = {

/***/ "(ssr)/./node_modules/msw/lib/browser/index.mjs":
/*!************************************************!*\
  !*** ./node_modules/msw/lib/browser/index.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetupWorkerApi: () => (/* binding */ SetupWorkerApi),\n/* harmony export */   setupWorker: () => (/* binding */ setupWorker)\n/* harmony export */ });\n/* harmony import */ var _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils/internal/devUtils.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _core_handlers_RequestHandler_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/handlers/RequestHandler.mjs */ \"(ssr)/./node_modules/msw/lib/core/handlers/RequestHandler.mjs\");\n/* harmony import */ var _core_utils_handleRequest_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils/handleRequest.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/handleRequest.mjs\");\n/* harmony import */ var _core_utils_toResponseInit_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils/toResponseInit.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/toResponseInit.mjs\");\n/* harmony import */ var _core_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils/internal/isHandlerKind.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs\");\n/* harmony import */ var _core_SetupApi_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/SetupApi.mjs */ \"(ssr)/./node_modules/msw/lib/core/SetupApi.mjs\");\n/* harmony import */ var _core_utils_internal_mergeRight_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/utils/internal/mergeRight.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/mergeRight.mjs\");\n/* harmony import */ var _core_ws_webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/ws/webSocketInterceptor.mjs */ \"(ssr)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs\");\n/* harmony import */ var _core_ws_handleWebSocketEvent_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/ws/handleWebSocketEvent.mjs */ \"(ssr)/./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs\");\n/* harmony import */ var _core_ws_utils_attachWebSocketLogger_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/ws/utils/attachWebSocketLogger.mjs */ \"(ssr)/./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs\");\n// node_modules/.pnpm/outvariant@1.4.3/node_modules/outvariant/lib/index.mjs\nvar POSITIONALS_EXP = /(%?)(%([sdijo]))/g;\nfunction serializePositional(positional, flag) {\n  switch (flag) {\n    case \"s\":\n      return positional;\n    case \"d\":\n    case \"i\":\n      return Number(positional);\n    case \"j\":\n      return JSON.stringify(positional);\n    case \"o\": {\n      if (typeof positional === \"string\") {\n        return positional;\n      }\n      const json = JSON.stringify(positional);\n      if (json === \"{}\" || json === \"[]\" || /^\\[object .+?\\]$/.test(json)) {\n        return positional;\n      }\n      return json;\n    }\n  }\n}\nfunction format(message, ...positionals) {\n  if (positionals.length === 0) {\n    return message;\n  }\n  let positionalIndex = 0;\n  let formattedMessage = message.replace(\n    POSITIONALS_EXP,\n    (match, isEscaped, _, flag) => {\n      const positional = positionals[positionalIndex];\n      const value = serializePositional(positional, flag);\n      if (!isEscaped) {\n        positionalIndex++;\n        return value;\n      }\n      return match;\n    }\n  );\n  if (positionalIndex < positionals.length) {\n    formattedMessage += ` ${positionals.slice(positionalIndex).join(\" \")}`;\n  }\n  formattedMessage = formattedMessage.replace(/%{2,2}/g, \"%\");\n  return formattedMessage;\n}\nvar STACK_FRAMES_TO_IGNORE = 2;\nfunction cleanErrorStack(error2) {\n  if (!error2.stack) {\n    return;\n  }\n  const nextStack = error2.stack.split(\"\\n\");\n  nextStack.splice(1, STACK_FRAMES_TO_IGNORE);\n  error2.stack = nextStack.join(\"\\n\");\n}\nvar InvariantError = class extends Error {\n  constructor(message, ...positionals) {\n    super(message);\n    this.message = message;\n    this.name = \"Invariant Violation\";\n    this.message = format(message, ...positionals);\n    cleanErrorStack(this);\n  }\n};\nvar invariant = (predicate, message, ...positionals) => {\n  if (!predicate) {\n    throw new InvariantError(message, ...positionals);\n  }\n};\ninvariant.as = (ErrorConstructor, predicate, message, ...positionals) => {\n  if (!predicate) {\n    const formatMessage = positionals.length === 0 ? message : format(message, ...positionals);\n    let error2;\n    try {\n      error2 = Reflect.construct(ErrorConstructor, [\n        formatMessage\n      ]);\n    } catch (err) {\n      error2 = ErrorConstructor(formatMessage);\n    }\n    throw error2;\n  }\n};\n\n// node_modules/.pnpm/is-node-process@1.2.0/node_modules/is-node-process/lib/index.mjs\nfunction isNodeProcess() {\n  if (typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\") {\n    return true;\n  }\n  if (typeof process !== \"undefined\") {\n    const type = process.type;\n    if (type === \"renderer\" || type === \"worker\") {\n      return false;\n    }\n    return !!(process.versions && process.versions.node);\n  }\n  return false;\n}\n\n// src/browser/setupWorker/start/createStartHandler.ts\n\n\n// node_modules/.pnpm/@open-draft+until@2.1.0/node_modules/@open-draft/until/lib/index.mjs\nvar until = async (promise) => {\n  try {\n    const data = await promise().catch((error2) => {\n      throw error2;\n    });\n    return { error: null, data };\n  } catch (error2) {\n    return { error: error2, data: null };\n  }\n};\n\n// src/browser/setupWorker/start/utils/getWorkerInstance.ts\n\n\n// src/browser/utils/getAbsoluteWorkerUrl.ts\nfunction getAbsoluteWorkerUrl(workerUrl) {\n  return new URL(workerUrl, location.href).href;\n}\n\n// src/browser/setupWorker/start/utils/getWorkerByRegistration.ts\nfunction getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker) {\n  const allStates = [\n    registration.active,\n    registration.installing,\n    registration.waiting\n  ];\n  const relevantStates = allStates.filter((state) => {\n    return state != null;\n  });\n  const worker = relevantStates.find((worker2) => {\n    return findWorker(worker2.scriptURL, absoluteWorkerUrl);\n  });\n  return worker || null;\n}\n\n// src/browser/setupWorker/start/utils/getWorkerInstance.ts\nvar getWorkerInstance = async (url, options = {}, findWorker) => {\n  const absoluteWorkerUrl = getAbsoluteWorkerUrl(url);\n  const mockRegistrations = await navigator.serviceWorker.getRegistrations().then(\n    (registrations) => registrations.filter(\n      (registration) => getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker)\n    )\n  );\n  if (!navigator.serviceWorker.controller && mockRegistrations.length > 0) {\n    location.reload();\n  }\n  const [existingRegistration] = mockRegistrations;\n  if (existingRegistration) {\n    existingRegistration.update();\n    return [\n      getWorkerByRegistration(\n        existingRegistration,\n        absoluteWorkerUrl,\n        findWorker\n      ),\n      existingRegistration\n    ];\n  }\n  const registrationResult = await until(\n    async () => {\n      const registration = await navigator.serviceWorker.register(url, options);\n      return [\n        // Compare existing worker registration by its worker URL,\n        // to prevent irrelevant workers to resolve here (such as Codesandbox worker).\n        getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker),\n        registration\n      ];\n    }\n  );\n  if (registrationResult.error) {\n    const isWorkerMissing = registrationResult.error.message.includes(\"(404)\");\n    if (isWorkerMissing) {\n      const scopeUrl = new URL(options?.scope || \"/\", location.href);\n      throw new Error(\n        _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(`Failed to register a Service Worker for scope ('${scopeUrl.href}') with script ('${absoluteWorkerUrl}'): Service Worker script does not exist at the given path.\n\nDid you forget to run \"npx msw init <PUBLIC_DIR>\"?\n\nLearn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`)\n      );\n    }\n    throw new Error(\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n        \"Failed to register the Service Worker:\\n\\n%s\",\n        registrationResult.error.message\n      )\n    );\n  }\n  return registrationResult.data;\n};\n\n// src/browser/setupWorker/start/utils/enableMocking.ts\n\n\n// src/browser/setupWorker/start/utils/printStartMessage.ts\n\nfunction printStartMessage(args = {}) {\n  if (args.quiet) {\n    return;\n  }\n  const message = args.message || \"Mocking enabled.\";\n  console.groupCollapsed(\n    `%c${_core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(message)}`,\n    \"color:orangered;font-weight:bold;\"\n  );\n  console.log(\n    \"%cDocumentation: %chttps://mswjs.io/docs\",\n    \"font-weight:bold\",\n    \"font-weight:normal\"\n  );\n  console.log(\"Found an issue? https://github.com/mswjs/msw/issues\");\n  if (args.workerUrl) {\n    console.log(\"Worker script URL:\", args.workerUrl);\n  }\n  if (args.workerScope) {\n    console.log(\"Worker scope:\", args.workerScope);\n  }\n  if (args.client) {\n    console.log(\"Client ID: %s (%s)\", args.client.id, args.client.frameType);\n  }\n  console.groupEnd();\n}\n\n// src/browser/setupWorker/start/utils/enableMocking.ts\nasync function enableMocking(context, options) {\n  context.workerChannel.send(\"MOCK_ACTIVATE\");\n  const { payload } = await context.events.once(\"MOCKING_ENABLED\");\n  if (context.isMockingEnabled) {\n    _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n      `Found a redundant \"worker.start()\" call. Note that starting the worker while mocking is already enabled will have no effect. Consider removing this \"worker.start()\" call.`\n    );\n    return;\n  }\n  context.isMockingEnabled = true;\n  printStartMessage({\n    quiet: options.quiet,\n    workerScope: context.registration?.scope,\n    workerUrl: context.worker?.scriptURL,\n    client: payload.client\n  });\n}\n\n// src/browser/setupWorker/start/utils/createMessageChannel.ts\nvar WorkerChannel = class {\n  constructor(port) {\n    this.port = port;\n  }\n  postMessage(event, ...rest) {\n    const [data, transfer] = rest;\n    this.port.postMessage({ type: event, data }, { transfer });\n  }\n};\n\n// src/browser/utils/pruneGetRequestBody.ts\nfunction pruneGetRequestBody(request) {\n  if ([\"HEAD\", \"GET\"].includes(request.method)) {\n    return void 0;\n  }\n  return request.body;\n}\n\n// src/browser/utils/deserializeRequest.ts\nfunction deserializeRequest(serializedRequest) {\n  return new Request(serializedRequest.url, {\n    ...serializedRequest,\n    body: pruneGetRequestBody(serializedRequest)\n  });\n}\n\n// src/browser/setupWorker/start/createRequestListener.ts\n\n\n\n\n\nvar createRequestListener = (context, options) => {\n  return async (event, message) => {\n    const messageChannel = new WorkerChannel(event.ports[0]);\n    const requestId = message.payload.id;\n    const request = deserializeRequest(message.payload);\n    const requestCloneForLogs = request.clone();\n    const requestClone = request.clone();\n    _core_handlers_RequestHandler_mjs__WEBPACK_IMPORTED_MODULE_1__.RequestHandler.cache.set(request, requestClone);\n    try {\n      await (0,_core_utils_handleRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.handleRequest)(\n        request,\n        requestId,\n        context.getRequestHandlers().filter((0,_core_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_3__.isHandlerKind)(\"RequestHandler\")),\n        options,\n        context.emitter,\n        {\n          onPassthroughResponse() {\n            messageChannel.postMessage(\"PASSTHROUGH\");\n          },\n          async onMockedResponse(response, { handler, parsedResult }) {\n            const responseClone = response.clone();\n            const responseCloneForLogs = response.clone();\n            const responseInit = (0,_core_utils_toResponseInit_mjs__WEBPACK_IMPORTED_MODULE_4__.toResponseInit)(response);\n            if (context.supports.readableStreamTransfer) {\n              const responseStreamOrNull = response.body;\n              messageChannel.postMessage(\n                \"MOCK_RESPONSE\",\n                {\n                  ...responseInit,\n                  body: responseStreamOrNull\n                },\n                responseStreamOrNull ? [responseStreamOrNull] : void 0\n              );\n            } else {\n              const responseBufferOrNull = response.body === null ? null : await responseClone.arrayBuffer();\n              messageChannel.postMessage(\"MOCK_RESPONSE\", {\n                ...responseInit,\n                body: responseBufferOrNull\n              });\n            }\n            if (!options.quiet) {\n              context.emitter.once(\"response:mocked\", () => {\n                handler.log({\n                  request: requestCloneForLogs,\n                  response: responseCloneForLogs,\n                  parsedResult\n                });\n              });\n            }\n          }\n        }\n      );\n    } catch (error2) {\n      if (error2 instanceof Error) {\n        _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.error(\n          `Uncaught exception in the request handler for \"%s %s\":\n\n%s\n\nThis exception has been gracefully handled as a 500 response, however, it's strongly recommended to resolve this error, as it indicates a mistake in your code. If you wish to mock an error response, please see this guide: https://mswjs.io/docs/http/mocking-responses/error-responses`,\n          request.method,\n          request.url,\n          error2.stack ?? error2\n        );\n        messageChannel.postMessage(\"MOCK_RESPONSE\", {\n          status: 500,\n          statusText: \"Request Handler Error\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: error2.name,\n            message: error2.message,\n            stack: error2.stack\n          })\n        });\n      }\n    }\n  };\n};\n\n// src/browser/utils/checkWorkerIntegrity.ts\n\nasync function checkWorkerIntegrity(context) {\n  context.workerChannel.send(\"INTEGRITY_CHECK_REQUEST\");\n  const { payload } = await context.events.once(\"INTEGRITY_CHECK_RESPONSE\");\n  if (payload.checksum !== \"f5825c521429caf22a4dd13b66e243af\") {\n    _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n      `The currently registered Service Worker has been generated by a different version of MSW (${payload.packageVersion}) and may not be fully compatible with the installed version.\n\nIt's recommended you update your worker script by running this command:\n\n  \\u2022 npx msw init <PUBLIC_DIR>\n\nYou can also automate this process and make the worker script update automatically upon the library installations. Read more: https://mswjs.io/docs/cli/init.`\n    );\n  }\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/chunk-6HYIRFX2.mjs\nvar encoder = new TextEncoder();\nfunction encodeBuffer(text) {\n  return encoder.encode(text);\n}\nfunction decodeBuffer(buffer, encoding) {\n  const decoder = new TextDecoder(encoding);\n  return decoder.decode(buffer);\n}\nfunction toArrayBuffer(array) {\n  return array.buffer.slice(\n    array.byteOffset,\n    array.byteOffset + array.byteLength\n  );\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/chunk-3RXCRGL2.mjs\nvar IS_PATCHED_MODULE = Symbol(\"isPatchedModule\");\nfunction canParseUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch (_error) {\n    return false;\n  }\n}\nfunction getValueBySymbol(symbolName, source) {\n  const ownSymbols = Object.getOwnPropertySymbols(source);\n  const symbol = ownSymbols.find((symbol2) => {\n    return symbol2.description === symbolName;\n  });\n  if (symbol) {\n    return Reflect.get(source, symbol);\n  }\n  return;\n}\nvar _FetchResponse = class extends Response {\n  static isConfigurableStatusCode(status) {\n    return status >= 200 && status <= 599;\n  }\n  static isRedirectResponse(status) {\n    return _FetchResponse.STATUS_CODES_WITH_REDIRECT.includes(status);\n  }\n  /**\n   * Returns a boolean indicating whether the given response status\n   * code represents a response that can have a body.\n   */\n  static isResponseWithBody(status) {\n    return !_FetchResponse.STATUS_CODES_WITHOUT_BODY.includes(status);\n  }\n  static setUrl(url, response) {\n    if (!url || url === \"about:\" || !canParseUrl(url)) {\n      return;\n    }\n    const state = getValueBySymbol(\"state\", response);\n    if (state) {\n      state.urlList.push(new URL(url));\n    } else {\n      Object.defineProperty(response, \"url\", {\n        value: url,\n        enumerable: true,\n        configurable: true,\n        writable: false\n      });\n    }\n  }\n  /**\n   * Parses the given raw HTTP headers into a Fetch API `Headers` instance.\n   */\n  static parseRawHeaders(rawHeaders) {\n    const headers = new Headers();\n    for (let line = 0; line < rawHeaders.length; line += 2) {\n      headers.append(rawHeaders[line], rawHeaders[line + 1]);\n    }\n    return headers;\n  }\n  constructor(body, init = {}) {\n    var _a;\n    const status = (_a = init.status) != null ? _a : 200;\n    const safeStatus = _FetchResponse.isConfigurableStatusCode(status) ? status : 200;\n    const finalBody = _FetchResponse.isResponseWithBody(status) ? body : null;\n    super(finalBody, {\n      status: safeStatus,\n      statusText: init.statusText,\n      headers: init.headers\n    });\n    if (status !== safeStatus) {\n      const state = getValueBySymbol(\"state\", this);\n      if (state) {\n        state.status = status;\n      } else {\n        Object.defineProperty(this, \"status\", {\n          value: status,\n          enumerable: true,\n          configurable: true,\n          writable: false\n        });\n      }\n    }\n    _FetchResponse.setUrl(init.url, this);\n  }\n};\nvar FetchResponse = _FetchResponse;\nFetchResponse.STATUS_CODES_WITHOUT_BODY = [101, 103, 204, 205, 304];\nFetchResponse.STATUS_CODES_WITH_REDIRECT = [301, 302, 303, 307, 308];\nvar kRawRequest = Symbol(\"kRawRequest\");\nfunction setRawRequest(request, rawRequest) {\n  Reflect.set(request, kRawRequest, rawRequest);\n}\n\n// node_modules/.pnpm/@open-draft+logger@0.3.0/node_modules/@open-draft/logger/lib/index.mjs\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar colors_exports = {};\n__export(colors_exports, {\n  blue: () => blue,\n  gray: () => gray,\n  green: () => green,\n  red: () => red,\n  yellow: () => yellow\n});\nfunction yellow(text) {\n  return `\\x1B[33m${text}\\x1B[0m`;\n}\nfunction blue(text) {\n  return `\\x1B[34m${text}\\x1B[0m`;\n}\nfunction gray(text) {\n  return `\\x1B[90m${text}\\x1B[0m`;\n}\nfunction red(text) {\n  return `\\x1B[31m${text}\\x1B[0m`;\n}\nfunction green(text) {\n  return `\\x1B[32m${text}\\x1B[0m`;\n}\nvar IS_NODE = isNodeProcess();\nvar Logger = class {\n  constructor(name) {\n    this.name = name;\n    this.prefix = `[${this.name}]`;\n    const LOGGER_NAME = getVariable(\"DEBUG\");\n    const LOGGER_LEVEL = getVariable(\"LOG_LEVEL\");\n    const isLoggingEnabled = LOGGER_NAME === \"1\" || LOGGER_NAME === \"true\" || typeof LOGGER_NAME !== \"undefined\" && this.name.startsWith(LOGGER_NAME);\n    if (isLoggingEnabled) {\n      this.debug = isDefinedAndNotEquals(LOGGER_LEVEL, \"debug\") ? noop : this.debug;\n      this.info = isDefinedAndNotEquals(LOGGER_LEVEL, \"info\") ? noop : this.info;\n      this.success = isDefinedAndNotEquals(LOGGER_LEVEL, \"success\") ? noop : this.success;\n      this.warning = isDefinedAndNotEquals(LOGGER_LEVEL, \"warning\") ? noop : this.warning;\n      this.error = isDefinedAndNotEquals(LOGGER_LEVEL, \"error\") ? noop : this.error;\n    } else {\n      this.info = noop;\n      this.success = noop;\n      this.warning = noop;\n      this.error = noop;\n      this.only = noop;\n    }\n  }\n  prefix;\n  extend(domain) {\n    return new Logger(`${this.name}:${domain}`);\n  }\n  /**\n   * Print a debug message.\n   * @example\n   * logger.debug('no duplicates found, creating a document...')\n   */\n  debug(message, ...positionals) {\n    this.logEntry({\n      level: \"debug\",\n      message: gray(message),\n      positionals,\n      prefix: this.prefix,\n      colors: {\n        prefix: \"gray\"\n      }\n    });\n  }\n  /**\n   * Print an info message.\n   * @example\n   * logger.info('start parsing...')\n   */\n  info(message, ...positionals) {\n    this.logEntry({\n      level: \"info\",\n      message,\n      positionals,\n      prefix: this.prefix,\n      colors: {\n        prefix: \"blue\"\n      }\n    });\n    const performance2 = new PerformanceEntry();\n    return (message2, ...positionals2) => {\n      performance2.measure();\n      this.logEntry({\n        level: \"info\",\n        message: `${message2} ${gray(`${performance2.deltaTime}ms`)}`,\n        positionals: positionals2,\n        prefix: this.prefix,\n        colors: {\n          prefix: \"blue\"\n        }\n      });\n    };\n  }\n  /**\n   * Print a success message.\n   * @example\n   * logger.success('successfully created document')\n   */\n  success(message, ...positionals) {\n    this.logEntry({\n      level: \"info\",\n      message,\n      positionals,\n      prefix: `\\u2714 ${this.prefix}`,\n      colors: {\n        timestamp: \"green\",\n        prefix: \"green\"\n      }\n    });\n  }\n  /**\n   * Print a warning.\n   * @example\n   * logger.warning('found legacy document format')\n   */\n  warning(message, ...positionals) {\n    this.logEntry({\n      level: \"warning\",\n      message,\n      positionals,\n      prefix: `\\u26A0 ${this.prefix}`,\n      colors: {\n        timestamp: \"yellow\",\n        prefix: \"yellow\"\n      }\n    });\n  }\n  /**\n   * Print an error message.\n   * @example\n   * logger.error('something went wrong')\n   */\n  error(message, ...positionals) {\n    this.logEntry({\n      level: \"error\",\n      message,\n      positionals,\n      prefix: `\\u2716 ${this.prefix}`,\n      colors: {\n        timestamp: \"red\",\n        prefix: \"red\"\n      }\n    });\n  }\n  /**\n   * Execute the given callback only when the logging is enabled.\n   * This is skipped in its entirety and has no runtime cost otherwise.\n   * This executes regardless of the log level.\n   * @example\n   * logger.only(() => {\n   *   logger.info('additional info')\n   * })\n   */\n  only(callback) {\n    callback();\n  }\n  createEntry(level, message) {\n    return {\n      timestamp: /* @__PURE__ */ new Date(),\n      level,\n      message\n    };\n  }\n  logEntry(args) {\n    const {\n      level,\n      message,\n      prefix,\n      colors: customColors,\n      positionals = []\n    } = args;\n    const entry = this.createEntry(level, message);\n    const timestampColor = customColors?.timestamp || \"gray\";\n    const prefixColor = customColors?.prefix || \"gray\";\n    const colorize = {\n      timestamp: colors_exports[timestampColor],\n      prefix: colors_exports[prefixColor]\n    };\n    const write = this.getWriter(level);\n    write(\n      [colorize.timestamp(this.formatTimestamp(entry.timestamp))].concat(prefix != null ? colorize.prefix(prefix) : []).concat(serializeInput(message)).join(\" \"),\n      ...positionals.map(serializeInput)\n    );\n  }\n  formatTimestamp(timestamp) {\n    return `${timestamp.toLocaleTimeString(\n      \"en-GB\"\n    )}:${timestamp.getMilliseconds()}`;\n  }\n  getWriter(level) {\n    switch (level) {\n      case \"debug\":\n      case \"success\":\n      case \"info\": {\n        return log;\n      }\n      case \"warning\": {\n        return warn;\n      }\n      case \"error\": {\n        return error;\n      }\n    }\n  }\n};\nvar PerformanceEntry = class {\n  startTime;\n  endTime;\n  deltaTime;\n  constructor() {\n    this.startTime = performance.now();\n  }\n  measure() {\n    this.endTime = performance.now();\n    const deltaTime = this.endTime - this.startTime;\n    this.deltaTime = deltaTime.toFixed(2);\n  }\n};\nvar noop = () => void 0;\nfunction log(message, ...positionals) {\n  if (IS_NODE) {\n    process.stdout.write(format(message, ...positionals) + \"\\n\");\n    return;\n  }\n  console.log(message, ...positionals);\n}\nfunction warn(message, ...positionals) {\n  if (IS_NODE) {\n    process.stderr.write(format(message, ...positionals) + \"\\n\");\n    return;\n  }\n  console.warn(message, ...positionals);\n}\nfunction error(message, ...positionals) {\n  if (IS_NODE) {\n    process.stderr.write(format(message, ...positionals) + \"\\n\");\n    return;\n  }\n  console.error(message, ...positionals);\n}\nfunction getVariable(variableName) {\n  if (IS_NODE) {\n    return process.env[variableName];\n  }\n  return globalThis[variableName]?.toString();\n}\nfunction isDefinedAndNotEquals(value, expected) {\n  return value !== void 0 && value !== expected;\n}\nfunction serializeInput(message) {\n  if (typeof message === \"undefined\") {\n    return \"undefined\";\n  }\n  if (message === null) {\n    return \"null\";\n  }\n  if (typeof message === \"string\") {\n    return message;\n  }\n  if (typeof message === \"object\") {\n    return JSON.stringify(message);\n  }\n  return message.toString();\n}\n\n// node_modules/.pnpm/strict-event-emitter@0.5.1/node_modules/strict-event-emitter/lib/index.mjs\nvar MemoryLeakError = class extends Error {\n  constructor(emitter, type, count) {\n    super(\n      `Possible EventEmitter memory leak detected. ${count} ${type.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`\n    );\n    this.emitter = emitter;\n    this.type = type;\n    this.count = count;\n    this.name = \"MaxListenersExceededWarning\";\n  }\n};\nvar _Emitter = class {\n  static listenerCount(emitter, eventName) {\n    return emitter.listenerCount(eventName);\n  }\n  constructor() {\n    this.events = /* @__PURE__ */ new Map();\n    this.maxListeners = _Emitter.defaultMaxListeners;\n    this.hasWarnedAboutPotentialMemoryLeak = false;\n  }\n  _emitInternalEvent(internalEventName, eventName, listener) {\n    this.emit(\n      internalEventName,\n      ...[eventName, listener]\n    );\n  }\n  _getListeners(eventName) {\n    return Array.prototype.concat.apply([], this.events.get(eventName)) || [];\n  }\n  _removeListener(listeners, listener) {\n    const index = listeners.indexOf(listener);\n    if (index > -1) {\n      listeners.splice(index, 1);\n    }\n    return [];\n  }\n  _wrapOnceListener(eventName, listener) {\n    const onceListener = (...data) => {\n      this.removeListener(eventName, onceListener);\n      return listener.apply(this, data);\n    };\n    Object.defineProperty(onceListener, \"name\", { value: listener.name });\n    return onceListener;\n  }\n  setMaxListeners(maxListeners) {\n    this.maxListeners = maxListeners;\n    return this;\n  }\n  /**\n   * Returns the current max listener value for the `Emitter` which is\n   * either set by `emitter.setMaxListeners(n)` or defaults to\n   * `Emitter.defaultMaxListeners`.\n   */\n  getMaxListeners() {\n    return this.maxListeners;\n  }\n  /**\n   * Returns an array listing the events for which the emitter has registered listeners.\n   * The values in the array will be strings or Symbols.\n   */\n  eventNames() {\n    return Array.from(this.events.keys());\n  }\n  /**\n   * Synchronously calls each of the listeners registered for the event named `eventName`,\n   * in the order they were registered, passing the supplied arguments to each.\n   * Returns `true` if the event has listeners, `false` otherwise.\n   *\n   * @example\n   * const emitter = new Emitter<{ hello: [string] }>()\n   * emitter.emit('hello', 'John')\n   */\n  emit(eventName, ...data) {\n    const listeners = this._getListeners(eventName);\n    listeners.forEach((listener) => {\n      listener.apply(this, data);\n    });\n    return listeners.length > 0;\n  }\n  addListener(eventName, listener) {\n    this._emitInternalEvent(\"newListener\", eventName, listener);\n    const nextListeners = this._getListeners(eventName).concat(listener);\n    this.events.set(eventName, nextListeners);\n    if (this.maxListeners > 0 && this.listenerCount(eventName) > this.maxListeners && !this.hasWarnedAboutPotentialMemoryLeak) {\n      this.hasWarnedAboutPotentialMemoryLeak = true;\n      const memoryLeakWarning = new MemoryLeakError(\n        this,\n        eventName,\n        this.listenerCount(eventName)\n      );\n      console.warn(memoryLeakWarning);\n    }\n    return this;\n  }\n  on(eventName, listener) {\n    return this.addListener(eventName, listener);\n  }\n  once(eventName, listener) {\n    return this.addListener(\n      eventName,\n      this._wrapOnceListener(eventName, listener)\n    );\n  }\n  prependListener(eventName, listener) {\n    const listeners = this._getListeners(eventName);\n    if (listeners.length > 0) {\n      const nextListeners = [listener].concat(listeners);\n      this.events.set(eventName, nextListeners);\n    } else {\n      this.events.set(eventName, listeners.concat(listener));\n    }\n    return this;\n  }\n  prependOnceListener(eventName, listener) {\n    return this.prependListener(\n      eventName,\n      this._wrapOnceListener(eventName, listener)\n    );\n  }\n  removeListener(eventName, listener) {\n    const listeners = this._getListeners(eventName);\n    if (listeners.length > 0) {\n      this._removeListener(listeners, listener);\n      this.events.set(eventName, listeners);\n      this._emitInternalEvent(\"removeListener\", eventName, listener);\n    }\n    return this;\n  }\n  /**\n   * Alias for `emitter.removeListener()`.\n   *\n   * @example\n   * emitter.off('hello', listener)\n   */\n  off(eventName, listener) {\n    return this.removeListener(eventName, listener);\n  }\n  removeAllListeners(eventName) {\n    if (eventName) {\n      this.events.delete(eventName);\n    } else {\n      this.events.clear();\n    }\n    return this;\n  }\n  /**\n   * Returns a copy of the array of listeners for the event named `eventName`.\n   */\n  listeners(eventName) {\n    return Array.from(this._getListeners(eventName));\n  }\n  /**\n   * Returns the number of listeners listening to the event named `eventName`.\n   */\n  listenerCount(eventName) {\n    return this._getListeners(eventName).length;\n  }\n  rawListeners(eventName) {\n    return this.listeners(eventName);\n  }\n};\nvar Emitter = _Emitter;\nEmitter.defaultMaxListeners = 10;\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/chunk-QED3Q6Z2.mjs\nvar INTERNAL_REQUEST_ID_HEADER_NAME = \"x-interceptors-internal-request-id\";\nfunction getGlobalSymbol(symbol) {\n  return (\n    // @ts-ignore https://github.com/Microsoft/TypeScript/issues/24587\n    globalThis[symbol] || void 0\n  );\n}\nfunction setGlobalSymbol(symbol, value) {\n  globalThis[symbol] = value;\n}\nfunction deleteGlobalSymbol(symbol) {\n  delete globalThis[symbol];\n}\nvar Interceptor = class {\n  constructor(symbol) {\n    this.symbol = symbol;\n    this.readyState = \"INACTIVE\";\n    this.emitter = new Emitter();\n    this.subscriptions = [];\n    this.logger = new Logger(symbol.description);\n    this.emitter.setMaxListeners(0);\n    this.logger.info(\"constructing the interceptor...\");\n  }\n  /**\n   * Determine if this interceptor can be applied\n   * in the current environment.\n   */\n  checkEnvironment() {\n    return true;\n  }\n  /**\n   * Apply this interceptor to the current process.\n   * Returns an already running interceptor instance if it's present.\n   */\n  apply() {\n    const logger = this.logger.extend(\"apply\");\n    logger.info(\"applying the interceptor...\");\n    if (this.readyState === \"APPLIED\") {\n      logger.info(\"intercepted already applied!\");\n      return;\n    }\n    const shouldApply = this.checkEnvironment();\n    if (!shouldApply) {\n      logger.info(\"the interceptor cannot be applied in this environment!\");\n      return;\n    }\n    this.readyState = \"APPLYING\";\n    const runningInstance = this.getInstance();\n    if (runningInstance) {\n      logger.info(\"found a running instance, reusing...\");\n      this.on = (event, listener) => {\n        logger.info('proxying the \"%s\" listener', event);\n        runningInstance.emitter.addListener(event, listener);\n        this.subscriptions.push(() => {\n          runningInstance.emitter.removeListener(event, listener);\n          logger.info('removed proxied \"%s\" listener!', event);\n        });\n        return this;\n      };\n      this.readyState = \"APPLIED\";\n      return;\n    }\n    logger.info(\"no running instance found, setting up a new instance...\");\n    this.setup();\n    this.setInstance();\n    this.readyState = \"APPLIED\";\n  }\n  /**\n   * Setup the module augments and stubs necessary for this interceptor.\n   * This method is not run if there's a running interceptor instance\n   * to prevent instantiating an interceptor multiple times.\n   */\n  setup() {\n  }\n  /**\n   * Listen to the interceptor's public events.\n   */\n  on(event, listener) {\n    const logger = this.logger.extend(\"on\");\n    if (this.readyState === \"DISPOSING\" || this.readyState === \"DISPOSED\") {\n      logger.info(\"cannot listen to events, already disposed!\");\n      return this;\n    }\n    logger.info('adding \"%s\" event listener:', event, listener);\n    this.emitter.on(event, listener);\n    return this;\n  }\n  once(event, listener) {\n    this.emitter.once(event, listener);\n    return this;\n  }\n  off(event, listener) {\n    this.emitter.off(event, listener);\n    return this;\n  }\n  removeAllListeners(event) {\n    this.emitter.removeAllListeners(event);\n    return this;\n  }\n  /**\n   * Disposes of any side-effects this interceptor has introduced.\n   */\n  dispose() {\n    const logger = this.logger.extend(\"dispose\");\n    if (this.readyState === \"DISPOSED\") {\n      logger.info(\"cannot dispose, already disposed!\");\n      return;\n    }\n    logger.info(\"disposing the interceptor...\");\n    this.readyState = \"DISPOSING\";\n    if (!this.getInstance()) {\n      logger.info(\"no interceptors running, skipping dispose...\");\n      return;\n    }\n    this.clearInstance();\n    logger.info(\"global symbol deleted:\", getGlobalSymbol(this.symbol));\n    if (this.subscriptions.length > 0) {\n      logger.info(\"disposing of %d subscriptions...\", this.subscriptions.length);\n      for (const dispose of this.subscriptions) {\n        dispose();\n      }\n      this.subscriptions = [];\n      logger.info(\"disposed of all subscriptions!\", this.subscriptions.length);\n    }\n    this.emitter.removeAllListeners();\n    logger.info(\"destroyed the listener!\");\n    this.readyState = \"DISPOSED\";\n  }\n  getInstance() {\n    var _a;\n    const instance = getGlobalSymbol(this.symbol);\n    this.logger.info(\"retrieved global instance:\", (_a = instance == null ? void 0 : instance.constructor) == null ? void 0 : _a.name);\n    return instance;\n  }\n  setInstance() {\n    setGlobalSymbol(this.symbol, this);\n    this.logger.info(\"set global instance!\", this.symbol.description);\n  }\n  clearInstance() {\n    deleteGlobalSymbol(this.symbol);\n    this.logger.info(\"cleared global instance!\", this.symbol.description);\n  }\n};\nfunction createRequestId() {\n  return Math.random().toString(16).slice(2);\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/index.mjs\nvar BatchInterceptor = class extends Interceptor {\n  constructor(options) {\n    BatchInterceptor.symbol = Symbol(options.name);\n    super(BatchInterceptor.symbol);\n    this.interceptors = options.interceptors;\n  }\n  setup() {\n    const logger = this.logger.extend(\"setup\");\n    logger.info(\"applying all %d interceptors...\", this.interceptors.length);\n    for (const interceptor of this.interceptors) {\n      logger.info('applying \"%s\" interceptor...', interceptor.constructor.name);\n      interceptor.apply();\n      logger.info(\"adding interceptor dispose subscription\");\n      this.subscriptions.push(() => interceptor.dispose());\n    }\n  }\n  on(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.on(event, listener);\n    }\n    return this;\n  }\n  once(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.once(event, listener);\n    }\n    return this;\n  }\n  off(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.off(event, listener);\n    }\n    return this;\n  }\n  removeAllListeners(event) {\n    for (const interceptors of this.interceptors) {\n      interceptors.removeAllListeners(event);\n    }\n    return this;\n  }\n};\n\n// src/browser/setupWorker/start/createResponseListener.ts\nfunction createResponseListener(context) {\n  return (_, message) => {\n    const { payload: responseJson } = message;\n    const request = deserializeRequest(responseJson.request);\n    if (responseJson.response.type?.includes(\"opaque\")) {\n      return;\n    }\n    const response = responseJson.response.status === 0 ? Response.error() : new FetchResponse(\n      /**\n       * Responses may be streams here, but when we create a response object\n       * with null-body status codes, like 204, 205, 304 Response will\n       * throw when passed a non-null body, so ensure it's null here\n       * for those codes\n       */\n      FetchResponse.isResponseWithBody(responseJson.response.status) ? responseJson.response.body : null,\n      {\n        ...responseJson,\n        /**\n         * Set response URL if it's not set already.\n         * @see https://github.com/mswjs/msw/issues/2030\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Response/url\n         */\n        url: request.url\n      }\n    );\n    context.emitter.emit(\n      responseJson.isMockedResponse ? \"response:mocked\" : \"response:bypass\",\n      {\n        requestId: responseJson.request.id,\n        request,\n        response\n      }\n    );\n  };\n}\n\n// src/browser/setupWorker/start/utils/validateWorkerScope.ts\n\nfunction validateWorkerScope(registration, options) {\n  if (!options?.quiet && !location.href.startsWith(registration.scope)) {\n    _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n      `Cannot intercept requests on this page because it's outside of the worker's scope (\"${registration.scope}\"). If you wish to mock API requests on this page, you must resolve this scope issue.\n\n- (Recommended) Register the worker at the root level (\"/\") of your application.\n- Set the \"Service-Worker-Allowed\" response header to allow out-of-scope workers.`\n    );\n  }\n}\n\n// src/browser/setupWorker/start/createStartHandler.ts\nvar createStartHandler = (context) => {\n  return function start(options, customOptions) {\n    const startWorkerInstance = async () => {\n      context.events.removeAllListeners();\n      context.workerChannel.on(\n        \"REQUEST\",\n        createRequestListener(context, options)\n      );\n      context.workerChannel.on(\"RESPONSE\", createResponseListener(context));\n      const instance = await getWorkerInstance(\n        options.serviceWorker.url,\n        options.serviceWorker.options,\n        options.findWorker\n      );\n      const [worker, registration] = instance;\n      if (!worker) {\n        const missingWorkerMessage = customOptions?.findWorker ? _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n          `Failed to locate the Service Worker registration using a custom \"findWorker\" predicate.\n\nPlease ensure that the custom predicate properly locates the Service Worker registration at \"%s\".\nMore details: https://mswjs.io/docs/api/setup-worker/start#findworker\n`,\n          options.serviceWorker.url\n        ) : _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n          `Failed to locate the Service Worker registration.\n\nThis most likely means that the worker script URL \"%s\" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.\n\nPlease consider using a custom \"serviceWorker.url\" option to point to the actual worker script location, or a custom \"findWorker\" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`,\n          options.serviceWorker.url,\n          location.host\n        );\n        throw new Error(missingWorkerMessage);\n      }\n      context.worker = worker;\n      context.registration = registration;\n      context.events.addListener(window, \"beforeunload\", () => {\n        if (worker.state !== \"redundant\") {\n          context.workerChannel.send(\"CLIENT_CLOSED\");\n        }\n        window.clearInterval(context.keepAliveInterval);\n        window.postMessage({ type: \"msw/worker:stop\" });\n      });\n      await checkWorkerIntegrity(context).catch((error2) => {\n        _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.error(\n          \"Error while checking the worker script integrity. Please report this on GitHub (https://github.com/mswjs/msw/issues), including the original error below.\"\n        );\n        console.error(error2);\n      });\n      context.keepAliveInterval = window.setInterval(\n        () => context.workerChannel.send(\"KEEPALIVE_REQUEST\"),\n        5e3\n      );\n      validateWorkerScope(registration, context.startOptions);\n      return registration;\n    };\n    const workerRegistration = startWorkerInstance().then(\n      async (registration) => {\n        const pendingInstance = registration.installing || registration.waiting;\n        if (pendingInstance) {\n          await new Promise((resolve) => {\n            pendingInstance.addEventListener(\"statechange\", () => {\n              if (pendingInstance.state === \"activated\") {\n                return resolve();\n              }\n            });\n          });\n        }\n        await enableMocking(context, options).catch((error2) => {\n          throw new Error(`Failed to enable mocking: ${error2?.message}`);\n        });\n        return registration;\n      }\n    );\n    return workerRegistration;\n  };\n};\n\n// src/browser/setupWorker/stop/createStop.ts\n\n\n// src/browser/setupWorker/stop/utils/printStopMessage.ts\n\nfunction printStopMessage(args = {}) {\n  if (args.quiet) {\n    return;\n  }\n  console.log(\n    `%c${_core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\"Mocking disabled.\")}`,\n    \"color:orangered;font-weight:bold;\"\n  );\n}\n\n// src/browser/setupWorker/stop/createStop.ts\nvar createStop = (context) => {\n  return function stop() {\n    if (!context.isMockingEnabled) {\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n        'Found a redundant \"worker.stop()\" call. Note that stopping the worker while mocking already stopped has no effect. Consider removing this \"worker.stop()\" call.'\n      );\n      return;\n    }\n    context.workerChannel.send(\"MOCK_DEACTIVATE\");\n    context.isMockingEnabled = false;\n    window.clearInterval(context.keepAliveInterval);\n    window.postMessage({ type: \"msw/worker:stop\" });\n    printStopMessage({ quiet: context.startOptions?.quiet });\n  };\n};\n\n// src/browser/setupWorker/start/utils/prepareStartHandler.ts\n\nvar DEFAULT_START_OPTIONS = {\n  serviceWorker: {\n    url: \"/mockServiceWorker.js\",\n    options: null\n  },\n  quiet: false,\n  waitUntilReady: true,\n  onUnhandledRequest: \"warn\",\n  findWorker(scriptURL, mockServiceWorkerUrl) {\n    return scriptURL === mockServiceWorkerUrl;\n  }\n};\n\n// node_modules/.pnpm/@open-draft+deferred-promise@2.2.0/node_modules/@open-draft/deferred-promise/build/index.mjs\nfunction createDeferredExecutor() {\n  const executor = (resolve, reject) => {\n    executor.state = \"pending\";\n    executor.resolve = (data) => {\n      if (executor.state !== \"pending\") {\n        return;\n      }\n      executor.result = data;\n      const onFulfilled = (value) => {\n        executor.state = \"fulfilled\";\n        return value;\n      };\n      return resolve(\n        data instanceof Promise ? data : Promise.resolve(data).then(onFulfilled)\n      );\n    };\n    executor.reject = (reason) => {\n      if (executor.state !== \"pending\") {\n        return;\n      }\n      queueMicrotask(() => {\n        executor.state = \"rejected\";\n      });\n      return reject(executor.rejectionReason = reason);\n    };\n  };\n  return executor;\n}\nvar DeferredPromise = class extends Promise {\n  #executor;\n  resolve;\n  reject;\n  constructor(executor = null) {\n    const deferredExecutor = createDeferredExecutor();\n    super((originalResolve, originalReject) => {\n      deferredExecutor(originalResolve, originalReject);\n      executor?.(deferredExecutor.resolve, deferredExecutor.reject);\n    });\n    this.#executor = deferredExecutor;\n    this.resolve = this.#executor.resolve;\n    this.reject = this.#executor.reject;\n  }\n  get state() {\n    return this.#executor.state;\n  }\n  get rejectionReason() {\n    return this.#executor.rejectionReason;\n  }\n  then(onFulfilled, onRejected) {\n    return this.#decorate(super.then(onFulfilled, onRejected));\n  }\n  catch(onRejected) {\n    return this.#decorate(super.catch(onRejected));\n  }\n  finally(onfinally) {\n    return this.#decorate(super.finally(onfinally));\n  }\n  #decorate(promise) {\n    return Object.defineProperties(promise, {\n      resolve: { configurable: true, value: this.resolve },\n      reject: { configurable: true, value: this.reject }\n    });\n  }\n};\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/chunk-L37TY7LC.mjs\nvar InterceptorError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"InterceptorError\";\n    Object.setPrototypeOf(this, InterceptorError.prototype);\n  }\n};\nvar kRequestHandled = Symbol(\"kRequestHandled\");\nvar kResponsePromise = Symbol(\"kResponsePromise\");\nvar RequestController = class {\n  constructor(request) {\n    this.request = request;\n    this[kRequestHandled] = false;\n    this[kResponsePromise] = new DeferredPromise();\n  }\n  /**\n   * Respond to this request with the given `Response` instance.\n   * @example\n   * controller.respondWith(new Response())\n   * controller.respondWith(Response.json({ id }))\n   * controller.respondWith(Response.error())\n   */\n  respondWith(response) {\n    invariant.as(\n      InterceptorError,\n      !this[kRequestHandled],\n      'Failed to respond to the \"%s %s\" request: the \"request\" event has already been handled.',\n      this.request.method,\n      this.request.url\n    );\n    this[kRequestHandled] = true;\n    this[kResponsePromise].resolve(response);\n  }\n  /**\n   * Error this request with the given reason.\n   *\n   * @example\n   * controller.errorWith()\n   * controller.errorWith(new Error('Oops!'))\n   * controller.errorWith({ message: 'Oops!'})\n   */\n  errorWith(reason) {\n    invariant.as(\n      InterceptorError,\n      !this[kRequestHandled],\n      'Failed to error the \"%s %s\" request: the \"request\" event has already been handled.',\n      this.request.method,\n      this.request.url\n    );\n    this[kRequestHandled] = true;\n    this[kResponsePromise].resolve(reason);\n  }\n};\nasync function emitAsync(emitter, eventName, ...data) {\n  const listners = emitter.listeners(eventName);\n  if (listners.length === 0) {\n    return;\n  }\n  for (const listener of listners) {\n    await listener.apply(emitter, data);\n  }\n}\nfunction isObject(value, loose = false) {\n  return loose ? Object.prototype.toString.call(value).startsWith(\"[object \") : Object.prototype.toString.call(value) === \"[object Object]\";\n}\nfunction isPropertyAccessible(obj, key) {\n  try {\n    obj[key];\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction createServerErrorResponse(body) {\n  return new Response(\n    JSON.stringify(\n      body instanceof Error ? {\n        name: body.name,\n        message: body.message,\n        stack: body.stack\n      } : body\n    ),\n    {\n      status: 500,\n      statusText: \"Unhandled Exception\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n}\nfunction isResponseError(response) {\n  return response != null && response instanceof Response && isPropertyAccessible(response, \"type\") && response.type === \"error\";\n}\nfunction isResponseLike(value) {\n  return isObject(value, true) && isPropertyAccessible(value, \"status\") && isPropertyAccessible(value, \"statusText\") && isPropertyAccessible(value, \"bodyUsed\");\n}\nfunction isNodeLikeError(error2) {\n  if (error2 == null) {\n    return false;\n  }\n  if (!(error2 instanceof Error)) {\n    return false;\n  }\n  return \"code\" in error2 && \"errno\" in error2;\n}\nasync function handleRequest2(options) {\n  const handleResponse = async (response) => {\n    if (response instanceof Error) {\n      options.onError(response);\n      return true;\n    }\n    if (isResponseError(response)) {\n      options.onRequestError(response);\n      return true;\n    }\n    if (isResponseLike(response)) {\n      await options.onResponse(response);\n      return true;\n    }\n    if (isObject(response)) {\n      options.onError(response);\n      return true;\n    }\n    return false;\n  };\n  const handleResponseError = async (error2) => {\n    if (error2 instanceof InterceptorError) {\n      throw result.error;\n    }\n    if (isNodeLikeError(error2)) {\n      options.onError(error2);\n      return true;\n    }\n    if (error2 instanceof Response) {\n      return await handleResponse(error2);\n    }\n    return false;\n  };\n  options.emitter.once(\"request\", ({ requestId: pendingRequestId }) => {\n    if (pendingRequestId !== options.requestId) {\n      return;\n    }\n    if (options.controller[kResponsePromise].state === \"pending\") {\n      options.controller[kResponsePromise].resolve(void 0);\n    }\n  });\n  const requestAbortPromise = new DeferredPromise();\n  if (options.request.signal) {\n    if (options.request.signal.aborted) {\n      requestAbortPromise.reject(options.request.signal.reason);\n    } else {\n      options.request.signal.addEventListener(\n        \"abort\",\n        () => {\n          requestAbortPromise.reject(options.request.signal.reason);\n        },\n        { once: true }\n      );\n    }\n  }\n  const result = await until(async () => {\n    const requestListenersPromise = emitAsync(options.emitter, \"request\", {\n      requestId: options.requestId,\n      request: options.request,\n      controller: options.controller\n    });\n    await Promise.race([\n      // Short-circuit the request handling promise if the request gets aborted.\n      requestAbortPromise,\n      requestListenersPromise,\n      options.controller[kResponsePromise]\n    ]);\n    return await options.controller[kResponsePromise];\n  });\n  if (requestAbortPromise.state === \"rejected\") {\n    options.onError(requestAbortPromise.rejectionReason);\n    return true;\n  }\n  if (result.error) {\n    if (await handleResponseError(result.error)) {\n      return true;\n    }\n    if (options.emitter.listenerCount(\"unhandledException\") > 0) {\n      const unhandledExceptionController = new RequestController(\n        options.request\n      );\n      await emitAsync(options.emitter, \"unhandledException\", {\n        error: result.error,\n        request: options.request,\n        requestId: options.requestId,\n        controller: unhandledExceptionController\n      }).then(() => {\n        if (unhandledExceptionController[kResponsePromise].state === \"pending\") {\n          unhandledExceptionController[kResponsePromise].resolve(void 0);\n        }\n      });\n      const nextResult = await until(\n        () => unhandledExceptionController[kResponsePromise]\n      );\n      if (nextResult.error) {\n        return handleResponseError(nextResult.error);\n      }\n      if (nextResult.data) {\n        return handleResponse(nextResult.data);\n      }\n    }\n    options.onResponse(createServerErrorResponse(result.error));\n    return true;\n  }\n  if (result.data) {\n    return handleResponse(result.data);\n  }\n  return false;\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs\nfunction hasConfigurableGlobal(propertyName) {\n  const descriptor = Object.getOwnPropertyDescriptor(globalThis, propertyName);\n  if (typeof descriptor === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"function\" && typeof descriptor.get() === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"undefined\" && descriptor.value == null) {\n    return false;\n  }\n  if (typeof descriptor.set === \"undefined\" && !descriptor.configurable) {\n    console.error(\n      `[MSW] Failed to apply interceptor: the global \\`${propertyName}\\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`\n    );\n    return false;\n  }\n  return true;\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/chunk-ARPHZXGT.mjs\nfunction createNetworkError(cause) {\n  return Object.assign(new TypeError(\"Failed to fetch\"), {\n    cause\n  });\n}\nvar REQUEST_BODY_HEADERS = [\n  \"content-encoding\",\n  \"content-language\",\n  \"content-location\",\n  \"content-type\",\n  \"content-length\"\n];\nvar kRedirectCount = Symbol(\"kRedirectCount\");\nasync function followFetchRedirect(request, response) {\n  if (response.status !== 303 && request.body != null) {\n    return Promise.reject(createNetworkError());\n  }\n  const requestUrl = new URL(request.url);\n  let locationUrl;\n  try {\n    locationUrl = new URL(response.headers.get(\"location\"), request.url);\n  } catch (error2) {\n    return Promise.reject(createNetworkError(error2));\n  }\n  if (!(locationUrl.protocol === \"http:\" || locationUrl.protocol === \"https:\")) {\n    return Promise.reject(\n      createNetworkError(\"URL scheme must be a HTTP(S) scheme\")\n    );\n  }\n  if (Reflect.get(request, kRedirectCount) > 20) {\n    return Promise.reject(createNetworkError(\"redirect count exceeded\"));\n  }\n  Object.defineProperty(request, kRedirectCount, {\n    value: (Reflect.get(request, kRedirectCount) || 0) + 1\n  });\n  if (request.mode === \"cors\" && (locationUrl.username || locationUrl.password) && !sameOrigin(requestUrl, locationUrl)) {\n    return Promise.reject(\n      createNetworkError('cross origin not allowed for request mode \"cors\"')\n    );\n  }\n  const requestInit = {};\n  if ([301, 302].includes(response.status) && request.method === \"POST\" || response.status === 303 && ![\"HEAD\", \"GET\"].includes(request.method)) {\n    requestInit.method = \"GET\";\n    requestInit.body = null;\n    REQUEST_BODY_HEADERS.forEach((headerName) => {\n      request.headers.delete(headerName);\n    });\n  }\n  if (!sameOrigin(requestUrl, locationUrl)) {\n    request.headers.delete(\"authorization\");\n    request.headers.delete(\"proxy-authorization\");\n    request.headers.delete(\"cookie\");\n    request.headers.delete(\"host\");\n  }\n  requestInit.headers = request.headers;\n  return fetch(new Request(locationUrl, requestInit));\n}\nfunction sameOrigin(left, right) {\n  if (left.origin === right.origin && left.origin === \"null\") {\n    return true;\n  }\n  if (left.protocol === right.protocol && left.hostname === right.hostname && left.port === right.port) {\n    return true;\n  }\n  return false;\n}\nvar BrotliDecompressionStream = class extends TransformStream {\n  constructor() {\n    console.warn(\n      \"[Interceptors]: Brotli decompression of response streams is not supported in the browser\"\n    );\n    super({\n      transform(chunk, controller) {\n        controller.enqueue(chunk);\n      }\n    });\n  }\n};\nvar PipelineStream = class extends TransformStream {\n  constructor(transformStreams, ...strategies) {\n    super({}, ...strategies);\n    const readable = [super.readable, ...transformStreams].reduce(\n      (readable2, transform) => readable2.pipeThrough(transform)\n    );\n    Object.defineProperty(this, \"readable\", {\n      get() {\n        return readable;\n      }\n    });\n  }\n};\nfunction parseContentEncoding(contentEncoding) {\n  return contentEncoding.toLowerCase().split(\",\").map((coding) => coding.trim());\n}\nfunction createDecompressionStream(contentEncoding) {\n  if (contentEncoding === \"\") {\n    return null;\n  }\n  const codings = parseContentEncoding(contentEncoding);\n  if (codings.length === 0) {\n    return null;\n  }\n  const transformers = codings.reduceRight(\n    (transformers2, coding) => {\n      if (coding === \"gzip\" || coding === \"x-gzip\") {\n        return transformers2.concat(new DecompressionStream(\"gzip\"));\n      } else if (coding === \"deflate\") {\n        return transformers2.concat(new DecompressionStream(\"deflate\"));\n      } else if (coding === \"br\") {\n        return transformers2.concat(new BrotliDecompressionStream());\n      } else {\n        transformers2.length = 0;\n      }\n      return transformers2;\n    },\n    []\n  );\n  return new PipelineStream(transformers);\n}\nfunction decompressResponse(response) {\n  if (response.body === null) {\n    return null;\n  }\n  const decompressionStream = createDecompressionStream(\n    response.headers.get(\"content-encoding\") || \"\"\n  );\n  if (!decompressionStream) {\n    return null;\n  }\n  response.body.pipeTo(decompressionStream.writable);\n  return decompressionStream.readable;\n}\nvar _FetchInterceptor = class extends Interceptor {\n  constructor() {\n    super(_FetchInterceptor.symbol);\n  }\n  checkEnvironment() {\n    return hasConfigurableGlobal(\"fetch\");\n  }\n  async setup() {\n    const pureFetch = globalThis.fetch;\n    invariant(\n      !pureFetch[IS_PATCHED_MODULE],\n      'Failed to patch the \"fetch\" module: already patched.'\n    );\n    globalThis.fetch = async (input, init) => {\n      const requestId = createRequestId();\n      const resolvedInput = typeof input === \"string\" && typeof location !== \"undefined\" && !canParseUrl(input) ? new URL(input, location.href) : input;\n      const request = new Request(resolvedInput, init);\n      if (input instanceof Request) {\n        setRawRequest(request, input);\n      }\n      const responsePromise = new DeferredPromise();\n      const controller = new RequestController(request);\n      this.logger.info(\"[%s] %s\", request.method, request.url);\n      this.logger.info(\"awaiting for the mocked response...\");\n      this.logger.info(\n        'emitting the \"request\" event for %s listener(s)...',\n        this.emitter.listenerCount(\"request\")\n      );\n      const isRequestHandled = await handleRequest2({\n        request,\n        requestId,\n        emitter: this.emitter,\n        controller,\n        onResponse: async (rawResponse) => {\n          this.logger.info(\"received mocked response!\", {\n            rawResponse\n          });\n          const decompressedStream = decompressResponse(rawResponse);\n          const response = decompressedStream === null ? rawResponse : new FetchResponse(decompressedStream, rawResponse);\n          FetchResponse.setUrl(request.url, response);\n          if (FetchResponse.isRedirectResponse(response.status)) {\n            if (request.redirect === \"error\") {\n              responsePromise.reject(createNetworkError(\"unexpected redirect\"));\n              return;\n            }\n            if (request.redirect === \"follow\") {\n              followFetchRedirect(request, response).then(\n                (response2) => {\n                  responsePromise.resolve(response2);\n                },\n                (reason) => {\n                  responsePromise.reject(reason);\n                }\n              );\n              return;\n            }\n          }\n          if (this.emitter.listenerCount(\"response\") > 0) {\n            this.logger.info('emitting the \"response\" event...');\n            await emitAsync(this.emitter, \"response\", {\n              // Clone the mocked response for the \"response\" event listener.\n              // This way, the listener can read the response and not lock its body\n              // for the actual fetch consumer.\n              response: response.clone(),\n              isMockedResponse: true,\n              request,\n              requestId\n            });\n          }\n          responsePromise.resolve(response);\n        },\n        onRequestError: (response) => {\n          this.logger.info(\"request has errored!\", { response });\n          responsePromise.reject(createNetworkError(response));\n        },\n        onError: (error2) => {\n          this.logger.info(\"request has been aborted!\", { error: error2 });\n          responsePromise.reject(error2);\n        }\n      });\n      if (isRequestHandled) {\n        this.logger.info(\"request has been handled, returning mock promise...\");\n        return responsePromise;\n      }\n      this.logger.info(\n        \"no mocked response received, performing request as-is...\"\n      );\n      const requestCloneForResponseEvent = request.clone();\n      return pureFetch(request).then(async (response) => {\n        this.logger.info(\"original fetch performed\", response);\n        if (this.emitter.listenerCount(\"response\") > 0) {\n          this.logger.info('emitting the \"response\" event...');\n          const responseClone = response.clone();\n          await emitAsync(this.emitter, \"response\", {\n            response: responseClone,\n            isMockedResponse: false,\n            request: requestCloneForResponseEvent,\n            requestId\n          });\n        }\n        return response;\n      });\n    };\n    Object.defineProperty(globalThis.fetch, IS_PATCHED_MODULE, {\n      enumerable: true,\n      configurable: true,\n      value: true\n    });\n    this.subscriptions.push(() => {\n      Object.defineProperty(globalThis.fetch, IS_PATCHED_MODULE, {\n        value: void 0\n      });\n      globalThis.fetch = pureFetch;\n      this.logger.info(\n        'restored native \"globalThis.fetch\"!',\n        globalThis.fetch.name\n      );\n    });\n  }\n};\nvar FetchInterceptor = _FetchInterceptor;\nFetchInterceptor.symbol = Symbol(\"fetch\");\n\n// node_modules/.pnpm/@mswjs+interceptors@0.39.1/node_modules/@mswjs/interceptors/lib/browser/chunk-QKSBFQDK.mjs\nfunction concatArrayBuffer(left, right) {\n  const result = new Uint8Array(left.byteLength + right.byteLength);\n  result.set(left, 0);\n  result.set(right, left.byteLength);\n  return result;\n}\nvar EventPolyfill = class {\n  constructor(type, options) {\n    this.NONE = 0;\n    this.CAPTURING_PHASE = 1;\n    this.AT_TARGET = 2;\n    this.BUBBLING_PHASE = 3;\n    this.type = \"\";\n    this.srcElement = null;\n    this.currentTarget = null;\n    this.eventPhase = 0;\n    this.isTrusted = true;\n    this.composed = false;\n    this.cancelable = true;\n    this.defaultPrevented = false;\n    this.bubbles = true;\n    this.lengthComputable = true;\n    this.loaded = 0;\n    this.total = 0;\n    this.cancelBubble = false;\n    this.returnValue = true;\n    this.type = type;\n    this.target = (options == null ? void 0 : options.target) || null;\n    this.currentTarget = (options == null ? void 0 : options.currentTarget) || null;\n    this.timeStamp = Date.now();\n  }\n  composedPath() {\n    return [];\n  }\n  initEvent(type, bubbles, cancelable) {\n    this.type = type;\n    this.bubbles = !!bubbles;\n    this.cancelable = !!cancelable;\n  }\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n  stopPropagation() {\n  }\n  stopImmediatePropagation() {\n  }\n};\nvar ProgressEventPolyfill = class extends EventPolyfill {\n  constructor(type, init) {\n    super(type);\n    this.lengthComputable = (init == null ? void 0 : init.lengthComputable) || false;\n    this.composed = (init == null ? void 0 : init.composed) || false;\n    this.loaded = (init == null ? void 0 : init.loaded) || 0;\n    this.total = (init == null ? void 0 : init.total) || 0;\n  }\n};\nvar SUPPORTS_PROGRESS_EVENT = typeof ProgressEvent !== \"undefined\";\nfunction createEvent(target, type, init) {\n  const progressEvents = [\n    \"error\",\n    \"progress\",\n    \"loadstart\",\n    \"loadend\",\n    \"load\",\n    \"timeout\",\n    \"abort\"\n  ];\n  const ProgressEventClass = SUPPORTS_PROGRESS_EVENT ? ProgressEvent : ProgressEventPolyfill;\n  const event = progressEvents.includes(type) ? new ProgressEventClass(type, {\n    lengthComputable: true,\n    loaded: (init == null ? void 0 : init.loaded) || 0,\n    total: (init == null ? void 0 : init.total) || 0\n  }) : new EventPolyfill(type, {\n    target,\n    currentTarget: target\n  });\n  return event;\n}\nfunction findPropertySource(target, propertyName) {\n  if (!(propertyName in target)) {\n    return null;\n  }\n  const hasProperty = Object.prototype.hasOwnProperty.call(target, propertyName);\n  if (hasProperty) {\n    return target;\n  }\n  const prototype = Reflect.getPrototypeOf(target);\n  return prototype ? findPropertySource(prototype, propertyName) : null;\n}\nfunction createProxy(target, options) {\n  const proxy = new Proxy(target, optionsToProxyHandler(options));\n  return proxy;\n}\nfunction optionsToProxyHandler(options) {\n  const { constructorCall, methodCall, getProperty, setProperty } = options;\n  const handler = {};\n  if (typeof constructorCall !== \"undefined\") {\n    handler.construct = function(target, args, newTarget) {\n      const next = Reflect.construct.bind(null, target, args, newTarget);\n      return constructorCall.call(newTarget, args, next);\n    };\n  }\n  handler.set = function(target, propertyName, nextValue) {\n    const next = () => {\n      const propertySource = findPropertySource(target, propertyName) || target;\n      const ownDescriptors = Reflect.getOwnPropertyDescriptor(\n        propertySource,\n        propertyName\n      );\n      if (typeof (ownDescriptors == null ? void 0 : ownDescriptors.set) !== \"undefined\") {\n        ownDescriptors.set.apply(target, [nextValue]);\n        return true;\n      }\n      return Reflect.defineProperty(propertySource, propertyName, {\n        writable: true,\n        enumerable: true,\n        configurable: true,\n        value: nextValue\n      });\n    };\n    if (typeof setProperty !== \"undefined\") {\n      return setProperty.call(target, [propertyName, nextValue], next);\n    }\n    return next();\n  };\n  handler.get = function(target, propertyName, receiver) {\n    const next = () => target[propertyName];\n    const value = typeof getProperty !== \"undefined\" ? getProperty.call(target, [propertyName, receiver], next) : next();\n    if (typeof value === \"function\") {\n      return (...args) => {\n        const next2 = value.bind(target, ...args);\n        if (typeof methodCall !== \"undefined\") {\n          return methodCall.call(target, [propertyName, args], next2);\n        }\n        return next2();\n      };\n    }\n    return value;\n  };\n  return handler;\n}\nfunction isDomParserSupportedType(type) {\n  const supportedTypes = [\n    \"application/xhtml+xml\",\n    \"application/xml\",\n    \"image/svg+xml\",\n    \"text/html\",\n    \"text/xml\"\n  ];\n  return supportedTypes.some((supportedType) => {\n    return type.startsWith(supportedType);\n  });\n}\nfunction parseJson(data) {\n  try {\n    const json = JSON.parse(data);\n    return json;\n  } catch (_) {\n    return null;\n  }\n}\nfunction createResponse(request, body) {\n  const responseBodyOrNull = FetchResponse.isResponseWithBody(request.status) ? body : null;\n  return new FetchResponse(responseBodyOrNull, {\n    url: request.responseURL,\n    status: request.status,\n    statusText: request.statusText,\n    headers: createHeadersFromXMLHttpReqestHeaders(\n      request.getAllResponseHeaders()\n    )\n  });\n}\nfunction createHeadersFromXMLHttpReqestHeaders(headersString) {\n  const headers = new Headers();\n  const lines = headersString.split(/[\\r\\n]+/);\n  for (const line of lines) {\n    if (line.trim() === \"\") {\n      continue;\n    }\n    const [name, ...parts] = line.split(\": \");\n    const value = parts.join(\": \");\n    headers.append(name, value);\n  }\n  return headers;\n}\nasync function getBodyByteLength(input) {\n  const explicitContentLength = input.headers.get(\"content-length\");\n  if (explicitContentLength != null && explicitContentLength !== \"\") {\n    return Number(explicitContentLength);\n  }\n  const buffer = await input.arrayBuffer();\n  return buffer.byteLength;\n}\nvar kIsRequestHandled = Symbol(\"kIsRequestHandled\");\nvar IS_NODE2 = isNodeProcess();\nvar kFetchRequest = Symbol(\"kFetchRequest\");\nvar XMLHttpRequestController = class {\n  constructor(initialRequest, logger) {\n    this.initialRequest = initialRequest;\n    this.logger = logger;\n    this.method = \"GET\";\n    this.url = null;\n    this[kIsRequestHandled] = false;\n    this.events = /* @__PURE__ */ new Map();\n    this.uploadEvents = /* @__PURE__ */ new Map();\n    this.requestId = createRequestId();\n    this.requestHeaders = new Headers();\n    this.responseBuffer = new Uint8Array();\n    this.request = createProxy(initialRequest, {\n      setProperty: ([propertyName, nextValue], invoke) => {\n        switch (propertyName) {\n          case \"ontimeout\": {\n            const eventName = propertyName.slice(\n              2\n            );\n            this.request.addEventListener(eventName, nextValue);\n            return invoke();\n          }\n          default: {\n            return invoke();\n          }\n        }\n      },\n      methodCall: ([methodName, args], invoke) => {\n        var _a;\n        switch (methodName) {\n          case \"open\": {\n            const [method, url] = args;\n            if (typeof url === \"undefined\") {\n              this.method = \"GET\";\n              this.url = toAbsoluteUrl(method);\n            } else {\n              this.method = method;\n              this.url = toAbsoluteUrl(url);\n            }\n            this.logger = this.logger.extend(`${this.method} ${this.url.href}`);\n            this.logger.info(\"open\", this.method, this.url.href);\n            return invoke();\n          }\n          case \"addEventListener\": {\n            const [eventName, listener] = args;\n            this.registerEvent(eventName, listener);\n            this.logger.info(\"addEventListener\", eventName, listener);\n            return invoke();\n          }\n          case \"setRequestHeader\": {\n            const [name, value] = args;\n            this.requestHeaders.set(name, value);\n            this.logger.info(\"setRequestHeader\", name, value);\n            return invoke();\n          }\n          case \"send\": {\n            const [body] = args;\n            this.request.addEventListener(\"load\", () => {\n              if (typeof this.onResponse !== \"undefined\") {\n                const fetchResponse = createResponse(\n                  this.request,\n                  /**\n                   * The `response` property is the right way to read\n                   * the ambiguous response body, as the request's \"responseType\" may differ.\n                   * @see https://xhr.spec.whatwg.org/#the-response-attribute\n                   */\n                  this.request.response\n                );\n                this.onResponse.call(this, {\n                  response: fetchResponse,\n                  isMockedResponse: this[kIsRequestHandled],\n                  request: fetchRequest,\n                  requestId: this.requestId\n                });\n              }\n            });\n            const requestBody = typeof body === \"string\" ? encodeBuffer(body) : body;\n            const fetchRequest = this.toFetchApiRequest(requestBody);\n            this[kFetchRequest] = fetchRequest.clone();\n            const onceRequestSettled = ((_a = this.onRequest) == null ? void 0 : _a.call(this, {\n              request: fetchRequest,\n              requestId: this.requestId\n            })) || Promise.resolve();\n            onceRequestSettled.finally(() => {\n              if (!this[kIsRequestHandled]) {\n                this.logger.info(\n                  \"request callback settled but request has not been handled (readystate %d), performing as-is...\",\n                  this.request.readyState\n                );\n                if (IS_NODE2) {\n                  this.request.setRequestHeader(\n                    INTERNAL_REQUEST_ID_HEADER_NAME,\n                    this.requestId\n                  );\n                }\n                return invoke();\n              }\n            });\n            break;\n          }\n          default: {\n            return invoke();\n          }\n        }\n      }\n    });\n    define(\n      this.request,\n      \"upload\",\n      createProxy(this.request.upload, {\n        setProperty: ([propertyName, nextValue], invoke) => {\n          switch (propertyName) {\n            case \"onloadstart\":\n            case \"onprogress\":\n            case \"onaboart\":\n            case \"onerror\":\n            case \"onload\":\n            case \"ontimeout\":\n            case \"onloadend\": {\n              const eventName = propertyName.slice(\n                2\n              );\n              this.registerUploadEvent(eventName, nextValue);\n            }\n          }\n          return invoke();\n        },\n        methodCall: ([methodName, args], invoke) => {\n          switch (methodName) {\n            case \"addEventListener\": {\n              const [eventName, listener] = args;\n              this.registerUploadEvent(eventName, listener);\n              this.logger.info(\"upload.addEventListener\", eventName, listener);\n              return invoke();\n            }\n          }\n        }\n      })\n    );\n  }\n  registerEvent(eventName, listener) {\n    const prevEvents = this.events.get(eventName) || [];\n    const nextEvents = prevEvents.concat(listener);\n    this.events.set(eventName, nextEvents);\n    this.logger.info('registered event \"%s\"', eventName, listener);\n  }\n  registerUploadEvent(eventName, listener) {\n    const prevEvents = this.uploadEvents.get(eventName) || [];\n    const nextEvents = prevEvents.concat(listener);\n    this.uploadEvents.set(eventName, nextEvents);\n    this.logger.info('registered upload event \"%s\"', eventName, listener);\n  }\n  /**\n   * Responds to the current request with the given\n   * Fetch API `Response` instance.\n   */\n  async respondWith(response) {\n    this[kIsRequestHandled] = true;\n    if (this[kFetchRequest]) {\n      const totalRequestBodyLength = await getBodyByteLength(\n        this[kFetchRequest]\n      );\n      this.trigger(\"loadstart\", this.request.upload, {\n        loaded: 0,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"progress\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"load\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"loadend\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n    }\n    this.logger.info(\n      \"responding with a mocked response: %d %s\",\n      response.status,\n      response.statusText\n    );\n    define(this.request, \"status\", response.status);\n    define(this.request, \"statusText\", response.statusText);\n    define(this.request, \"responseURL\", this.url.href);\n    this.request.getResponseHeader = new Proxy(this.request.getResponseHeader, {\n      apply: (_, __, args) => {\n        this.logger.info(\"getResponseHeader\", args[0]);\n        if (this.request.readyState < this.request.HEADERS_RECEIVED) {\n          this.logger.info(\"headers not received yet, returning null\");\n          return null;\n        }\n        const headerValue = response.headers.get(args[0]);\n        this.logger.info(\n          'resolved response header \"%s\" to',\n          args[0],\n          headerValue\n        );\n        return headerValue;\n      }\n    });\n    this.request.getAllResponseHeaders = new Proxy(\n      this.request.getAllResponseHeaders,\n      {\n        apply: () => {\n          this.logger.info(\"getAllResponseHeaders\");\n          if (this.request.readyState < this.request.HEADERS_RECEIVED) {\n            this.logger.info(\"headers not received yet, returning empty string\");\n            return \"\";\n          }\n          const headersList = Array.from(response.headers.entries());\n          const allHeaders = headersList.map(([headerName, headerValue]) => {\n            return `${headerName}: ${headerValue}`;\n          }).join(\"\\r\\n\");\n          this.logger.info(\"resolved all response headers to\", allHeaders);\n          return allHeaders;\n        }\n      }\n    );\n    Object.defineProperties(this.request, {\n      response: {\n        enumerable: true,\n        configurable: false,\n        get: () => this.response\n      },\n      responseText: {\n        enumerable: true,\n        configurable: false,\n        get: () => this.responseText\n      },\n      responseXML: {\n        enumerable: true,\n        configurable: false,\n        get: () => this.responseXML\n      }\n    });\n    const totalResponseBodyLength = await getBodyByteLength(response.clone());\n    this.logger.info(\"calculated response body length\", totalResponseBodyLength);\n    this.trigger(\"loadstart\", this.request, {\n      loaded: 0,\n      total: totalResponseBodyLength\n    });\n    this.setReadyState(this.request.HEADERS_RECEIVED);\n    this.setReadyState(this.request.LOADING);\n    const finalizeResponse = () => {\n      this.logger.info(\"finalizing the mocked response...\");\n      this.setReadyState(this.request.DONE);\n      this.trigger(\"load\", this.request, {\n        loaded: this.responseBuffer.byteLength,\n        total: totalResponseBodyLength\n      });\n      this.trigger(\"loadend\", this.request, {\n        loaded: this.responseBuffer.byteLength,\n        total: totalResponseBodyLength\n      });\n    };\n    if (response.body) {\n      this.logger.info(\"mocked response has body, streaming...\");\n      const reader = response.body.getReader();\n      const readNextResponseBodyChunk = async () => {\n        const { value, done } = await reader.read();\n        if (done) {\n          this.logger.info(\"response body stream done!\");\n          finalizeResponse();\n          return;\n        }\n        if (value) {\n          this.logger.info(\"read response body chunk:\", value);\n          this.responseBuffer = concatArrayBuffer(this.responseBuffer, value);\n          this.trigger(\"progress\", this.request, {\n            loaded: this.responseBuffer.byteLength,\n            total: totalResponseBodyLength\n          });\n        }\n        readNextResponseBodyChunk();\n      };\n      readNextResponseBodyChunk();\n    } else {\n      finalizeResponse();\n    }\n  }\n  responseBufferToText() {\n    return decodeBuffer(this.responseBuffer);\n  }\n  get response() {\n    this.logger.info(\n      \"getResponse (responseType: %s)\",\n      this.request.responseType\n    );\n    if (this.request.readyState !== this.request.DONE) {\n      return null;\n    }\n    switch (this.request.responseType) {\n      case \"json\": {\n        const responseJson = parseJson(this.responseBufferToText());\n        this.logger.info(\"resolved response JSON\", responseJson);\n        return responseJson;\n      }\n      case \"arraybuffer\": {\n        const arrayBuffer = toArrayBuffer(this.responseBuffer);\n        this.logger.info(\"resolved response ArrayBuffer\", arrayBuffer);\n        return arrayBuffer;\n      }\n      case \"blob\": {\n        const mimeType = this.request.getResponseHeader(\"Content-Type\") || \"text/plain\";\n        const responseBlob = new Blob([this.responseBufferToText()], {\n          type: mimeType\n        });\n        this.logger.info(\n          \"resolved response Blob (mime type: %s)\",\n          responseBlob,\n          mimeType\n        );\n        return responseBlob;\n      }\n      default: {\n        const responseText = this.responseBufferToText();\n        this.logger.info(\n          'resolving \"%s\" response type as text',\n          this.request.responseType,\n          responseText\n        );\n        return responseText;\n      }\n    }\n  }\n  get responseText() {\n    invariant(\n      this.request.responseType === \"\" || this.request.responseType === \"text\",\n      \"InvalidStateError: The object is in invalid state.\"\n    );\n    if (this.request.readyState !== this.request.LOADING && this.request.readyState !== this.request.DONE) {\n      return \"\";\n    }\n    const responseText = this.responseBufferToText();\n    this.logger.info('getResponseText: \"%s\"', responseText);\n    return responseText;\n  }\n  get responseXML() {\n    invariant(\n      this.request.responseType === \"\" || this.request.responseType === \"document\",\n      \"InvalidStateError: The object is in invalid state.\"\n    );\n    if (this.request.readyState !== this.request.DONE) {\n      return null;\n    }\n    const contentType = this.request.getResponseHeader(\"Content-Type\") || \"\";\n    if (typeof DOMParser === \"undefined\") {\n      console.warn(\n        \"Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly.\"\n      );\n      return null;\n    }\n    if (isDomParserSupportedType(contentType)) {\n      return new DOMParser().parseFromString(\n        this.responseBufferToText(),\n        contentType\n      );\n    }\n    return null;\n  }\n  errorWith(error2) {\n    this[kIsRequestHandled] = true;\n    this.logger.info(\"responding with an error\");\n    this.setReadyState(this.request.DONE);\n    this.trigger(\"error\", this.request);\n    this.trigger(\"loadend\", this.request);\n  }\n  /**\n   * Transitions this request's `readyState` to the given one.\n   */\n  setReadyState(nextReadyState) {\n    this.logger.info(\n      \"setReadyState: %d -> %d\",\n      this.request.readyState,\n      nextReadyState\n    );\n    if (this.request.readyState === nextReadyState) {\n      this.logger.info(\"ready state identical, skipping transition...\");\n      return;\n    }\n    define(this.request, \"readyState\", nextReadyState);\n    this.logger.info(\"set readyState to: %d\", nextReadyState);\n    if (nextReadyState !== this.request.UNSENT) {\n      this.logger.info('triggerring \"readystatechange\" event...');\n      this.trigger(\"readystatechange\", this.request);\n    }\n  }\n  /**\n   * Triggers given event on the `XMLHttpRequest` instance.\n   */\n  trigger(eventName, target, options) {\n    const callback = target[`on${eventName}`];\n    const event = createEvent(target, eventName, options);\n    this.logger.info('trigger \"%s\"', eventName, options || \"\");\n    if (typeof callback === \"function\") {\n      this.logger.info('found a direct \"%s\" callback, calling...', eventName);\n      callback.call(target, event);\n    }\n    const events = target instanceof XMLHttpRequestUpload ? this.uploadEvents : this.events;\n    for (const [registeredEventName, listeners] of events) {\n      if (registeredEventName === eventName) {\n        this.logger.info(\n          'found %d listener(s) for \"%s\" event, calling...',\n          listeners.length,\n          eventName\n        );\n        listeners.forEach((listener) => listener.call(target, event));\n      }\n    }\n  }\n  /**\n   * Converts this `XMLHttpRequest` instance into a Fetch API `Request` instance.\n   */\n  toFetchApiRequest(body) {\n    this.logger.info(\"converting request to a Fetch API Request...\");\n    const resolvedBody = body instanceof Document ? body.documentElement.innerText : body;\n    const fetchRequest = new Request(this.url.href, {\n      method: this.method,\n      headers: this.requestHeaders,\n      /**\n       * @see https://xhr.spec.whatwg.org/#cross-origin-credentials\n       */\n      credentials: this.request.withCredentials ? \"include\" : \"same-origin\",\n      body: [\"GET\", \"HEAD\"].includes(this.method.toUpperCase()) ? null : resolvedBody\n    });\n    const proxyHeaders = createProxy(fetchRequest.headers, {\n      methodCall: ([methodName, args], invoke) => {\n        switch (methodName) {\n          case \"append\":\n          case \"set\": {\n            const [headerName, headerValue] = args;\n            this.request.setRequestHeader(headerName, headerValue);\n            break;\n          }\n          case \"delete\": {\n            const [headerName] = args;\n            console.warn(\n              `XMLHttpRequest: Cannot remove a \"${headerName}\" header from the Fetch API representation of the \"${fetchRequest.method} ${fetchRequest.url}\" request. XMLHttpRequest headers cannot be removed.`\n            );\n            break;\n          }\n        }\n        return invoke();\n      }\n    });\n    define(fetchRequest, \"headers\", proxyHeaders);\n    setRawRequest(fetchRequest, this.request);\n    this.logger.info(\"converted request to a Fetch API Request!\", fetchRequest);\n    return fetchRequest;\n  }\n};\nfunction toAbsoluteUrl(url) {\n  if (typeof location === \"undefined\") {\n    return new URL(url);\n  }\n  return new URL(url.toString(), location.href);\n}\nfunction define(target, property, value) {\n  Reflect.defineProperty(target, property, {\n    // Ensure writable properties to allow redefining readonly properties.\n    writable: true,\n    enumerable: true,\n    value\n  });\n}\nfunction createXMLHttpRequestProxy({\n  emitter,\n  logger\n}) {\n  const XMLHttpRequestProxy = new Proxy(globalThis.XMLHttpRequest, {\n    construct(target, args, newTarget) {\n      logger.info(\"constructed new XMLHttpRequest\");\n      const originalRequest = Reflect.construct(\n        target,\n        args,\n        newTarget\n      );\n      const prototypeDescriptors = Object.getOwnPropertyDescriptors(\n        target.prototype\n      );\n      for (const propertyName in prototypeDescriptors) {\n        Reflect.defineProperty(\n          originalRequest,\n          propertyName,\n          prototypeDescriptors[propertyName]\n        );\n      }\n      const xhrRequestController = new XMLHttpRequestController(\n        originalRequest,\n        logger\n      );\n      xhrRequestController.onRequest = async function({ request, requestId }) {\n        const controller = new RequestController(request);\n        this.logger.info(\"awaiting mocked response...\");\n        this.logger.info(\n          'emitting the \"request\" event for %s listener(s)...',\n          emitter.listenerCount(\"request\")\n        );\n        const isRequestHandled = await handleRequest2({\n          request,\n          requestId,\n          controller,\n          emitter,\n          onResponse: async (response) => {\n            await this.respondWith(response);\n          },\n          onRequestError: () => {\n            this.errorWith(new TypeError(\"Network error\"));\n          },\n          onError: (error2) => {\n            this.logger.info(\"request errored!\", { error: error2 });\n            if (error2 instanceof Error) {\n              this.errorWith(error2);\n            }\n          }\n        });\n        if (!isRequestHandled) {\n          this.logger.info(\n            \"no mocked response received, performing request as-is...\"\n          );\n        }\n      };\n      xhrRequestController.onResponse = async function({\n        response,\n        isMockedResponse,\n        request,\n        requestId\n      }) {\n        this.logger.info(\n          'emitting the \"response\" event for %s listener(s)...',\n          emitter.listenerCount(\"response\")\n        );\n        emitter.emit(\"response\", {\n          response,\n          isMockedResponse,\n          request,\n          requestId\n        });\n      };\n      return xhrRequestController.request;\n    }\n  });\n  return XMLHttpRequestProxy;\n}\nvar _XMLHttpRequestInterceptor = class extends Interceptor {\n  constructor() {\n    super(_XMLHttpRequestInterceptor.interceptorSymbol);\n  }\n  checkEnvironment() {\n    return hasConfigurableGlobal(\"XMLHttpRequest\");\n  }\n  setup() {\n    const logger = this.logger.extend(\"setup\");\n    logger.info('patching \"XMLHttpRequest\" module...');\n    const PureXMLHttpRequest = globalThis.XMLHttpRequest;\n    invariant(\n      !PureXMLHttpRequest[IS_PATCHED_MODULE],\n      'Failed to patch the \"XMLHttpRequest\" module: already patched.'\n    );\n    globalThis.XMLHttpRequest = createXMLHttpRequestProxy({\n      emitter: this.emitter,\n      logger: this.logger\n    });\n    logger.info(\n      'native \"XMLHttpRequest\" module patched!',\n      globalThis.XMLHttpRequest.name\n    );\n    Object.defineProperty(globalThis.XMLHttpRequest, IS_PATCHED_MODULE, {\n      enumerable: true,\n      configurable: true,\n      value: true\n    });\n    this.subscriptions.push(() => {\n      Object.defineProperty(globalThis.XMLHttpRequest, IS_PATCHED_MODULE, {\n        value: void 0\n      });\n      globalThis.XMLHttpRequest = PureXMLHttpRequest;\n      logger.info(\n        'native \"XMLHttpRequest\" module restored!',\n        globalThis.XMLHttpRequest.name\n      );\n    });\n  }\n};\nvar XMLHttpRequestInterceptor = _XMLHttpRequestInterceptor;\nXMLHttpRequestInterceptor.interceptorSymbol = Symbol(\"xhr\");\n\n// src/browser/setupWorker/start/createFallbackRequestListener.ts\n\n\nfunction createFallbackRequestListener(context, options) {\n  const interceptor = new BatchInterceptor({\n    name: \"fallback\",\n    interceptors: [new FetchInterceptor(), new XMLHttpRequestInterceptor()]\n  });\n  interceptor.on(\"request\", async ({ request, requestId, controller }) => {\n    const requestCloneForLogs = request.clone();\n    const response = await (0,_core_utils_handleRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.handleRequest)(\n      request,\n      requestId,\n      context.getRequestHandlers().filter((0,_core_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_3__.isHandlerKind)(\"RequestHandler\")),\n      options,\n      context.emitter,\n      {\n        onMockedResponse(_, { handler, parsedResult }) {\n          if (!options.quiet) {\n            context.emitter.once(\"response:mocked\", ({ response: response2 }) => {\n              handler.log({\n                request: requestCloneForLogs,\n                response: response2,\n                parsedResult\n              });\n            });\n          }\n        }\n      }\n    );\n    if (response) {\n      controller.respondWith(response);\n    }\n  });\n  interceptor.on(\n    \"response\",\n    ({ response, isMockedResponse, request, requestId }) => {\n      context.emitter.emit(\n        isMockedResponse ? \"response:mocked\" : \"response:bypass\",\n        {\n          response,\n          request,\n          requestId\n        }\n      );\n    }\n  );\n  interceptor.apply();\n  return interceptor;\n}\n\n// src/browser/setupWorker/start/createFallbackStart.ts\nfunction createFallbackStart(context) {\n  return async function start(options) {\n    context.fallbackInterceptor = createFallbackRequestListener(\n      context,\n      options\n    );\n    printStartMessage({\n      message: \"Mocking enabled (fallback mode).\",\n      quiet: options.quiet\n    });\n    return void 0;\n  };\n}\n\n// src/browser/setupWorker/stop/createFallbackStop.ts\nfunction createFallbackStop(context) {\n  return function stop() {\n    context.fallbackInterceptor?.dispose();\n    printStopMessage({ quiet: context.startOptions?.quiet });\n  };\n}\n\n// src/browser/setupWorker/setupWorker.ts\n\n\n\n\n// src/browser/utils/supportsReadableStreamTransfer.ts\nfunction supportsReadableStreamTransfer() {\n  try {\n    const stream = new ReadableStream({\n      start: (controller) => controller.close()\n    });\n    const message = new MessageChannel();\n    message.port1.postMessage(stream, [stream]);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n// src/browser/setupWorker/setupWorker.ts\n\n\n\nvar SetupWorkerApi = class extends _core_SetupApi_mjs__WEBPACK_IMPORTED_MODULE_5__.SetupApi {\n  context;\n  startHandler = null;\n  stopHandler = null;\n  listeners;\n  constructor(...handlers) {\n    super(...handlers);\n    invariant(\n      !isNodeProcess(),\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n        \"Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.\"\n      )\n    );\n    this.listeners = [];\n    this.context = this.createWorkerContext();\n  }\n  createWorkerContext() {\n    const context = {\n      // Mocking is not considered enabled until the worker\n      // signals back the successful activation event.\n      isMockingEnabled: false,\n      startOptions: null,\n      worker: null,\n      getRequestHandlers: () => {\n        return this.handlersController.currentHandlers();\n      },\n      registration: null,\n      emitter: this.emitter,\n      workerChannel: {\n        on: (eventType, callback) => {\n          this.context.events.addListener(navigator.serviceWorker, \"message\", (event) => {\n            if (event.source !== this.context.worker) {\n              return;\n            }\n            const message = event.data;\n            if (!message) {\n              return;\n            }\n            if (message.type === eventType) {\n              callback(event, message);\n            }\n          });\n        },\n        send: (type) => {\n          this.context.worker?.postMessage(type);\n        }\n      },\n      events: {\n        addListener: (target, eventType, callback) => {\n          target.addEventListener(eventType, callback);\n          this.listeners.push({\n            eventType,\n            target,\n            callback\n          });\n          return () => {\n            target.removeEventListener(eventType, callback);\n          };\n        },\n        removeAllListeners: () => {\n          for (const { target, eventType, callback } of this.listeners) {\n            target.removeEventListener(eventType, callback);\n          }\n          this.listeners = [];\n        },\n        once: (eventType) => {\n          const bindings = [];\n          return new Promise((resolve, reject) => {\n            const handleIncomingMessage = (event) => {\n              try {\n                const message = event.data;\n                if (message.type === eventType) {\n                  resolve(message);\n                }\n              } catch (error2) {\n                reject(error2);\n              }\n            };\n            bindings.push(\n              this.context.events.addListener(\n                navigator.serviceWorker,\n                \"message\",\n                handleIncomingMessage\n              ),\n              this.context.events.addListener(\n                navigator.serviceWorker,\n                \"messageerror\",\n                reject\n              )\n            );\n          }).finally(() => {\n            bindings.forEach((unbind) => unbind());\n          });\n        }\n      },\n      supports: {\n        serviceWorkerApi: !(\"serviceWorker\" in navigator) || location.protocol === \"file:\",\n        readableStreamTransfer: supportsReadableStreamTransfer()\n      }\n    };\n    this.startHandler = context.supports.serviceWorkerApi ? createFallbackStart(context) : createStartHandler(context);\n    this.stopHandler = context.supports.serviceWorkerApi ? createFallbackStop(context) : createStop(context);\n    return context;\n  }\n  async start(options = {}) {\n    if (options.waitUntilReady === true) {\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n        'The \"waitUntilReady\" option has been deprecated. Please remove it from this \"worker.start()\" call. Follow the recommended Browser integration (https://mswjs.io/docs/integrations/browser) to eliminate any race conditions between the Service Worker registration and any requests made by your application on initial render.'\n      );\n    }\n    this.context.startOptions = (0,_core_utils_internal_mergeRight_mjs__WEBPACK_IMPORTED_MODULE_6__.mergeRight)(\n      DEFAULT_START_OPTIONS,\n      options\n    );\n    (0,_core_ws_handleWebSocketEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.handleWebSocketEvent)({\n      getUnhandledRequestStrategy: () => {\n        return this.context.startOptions.onUnhandledRequest;\n      },\n      getHandlers: () => {\n        return this.handlersController.currentHandlers();\n      },\n      onMockedConnection: (connection) => {\n        if (!this.context.startOptions.quiet) {\n          (0,_core_ws_utils_attachWebSocketLogger_mjs__WEBPACK_IMPORTED_MODULE_8__.attachWebSocketLogger)(connection);\n        }\n      },\n      onPassthroughConnection() {\n      }\n    });\n    _core_ws_webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_9__.webSocketInterceptor.apply();\n    this.subscriptions.push(() => {\n      _core_ws_webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_9__.webSocketInterceptor.dispose();\n    });\n    return await this.startHandler(this.context.startOptions, options);\n  }\n  stop() {\n    super.dispose();\n    this.context.events.removeAllListeners();\n    this.context.emitter.removeAllListeners();\n    this.stopHandler();\n  }\n};\nfunction setupWorker(...handlers) {\n  return new SetupWorkerApi(...handlers);\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9icm93c2VyL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQTZDO0FBQ3pFO0FBQ0EsaURBQWlELElBQUk7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTs7QUFFNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhO0FBQ2IsSUFBSTtBQUNKLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQytEOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RUFBUSxrRUFBa0UsY0FBYyxtQkFBbUIsa0JBQWtCOztBQUVySTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUVBQVE7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTs7QUFFNUU7QUFDNEU7QUFDNUUsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVFQUFTLHdCQUF3QjtBQUMxQyxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFVBQVU7QUFDcEI7QUFDQSxJQUFJLHVFQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUJBQW1CLElBQUksVUFBVTtBQUM3RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDcUU7QUFDTDtBQUNZO0FBQ1Y7QUFDTztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkVBQWM7QUFDbEI7QUFDQSxZQUFZLDRFQUFhO0FBQ3pCO0FBQ0E7QUFDQSw0Q0FBNEMscUZBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCw2Q0FBNkMsdUJBQXVCO0FBQ3BFO0FBQ0E7QUFDQSxpQ0FBaUMsOEVBQWM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxRQUFRLHVFQUFTO0FBQ2pCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTtBQUM1RTtBQUNBO0FBQ0EsVUFBVSxVQUFVO0FBQ3BCO0FBQ0EsSUFBSSx1RUFBUztBQUNiLG1HQUFtRyx1QkFBdUI7O0FBRTFIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBCQUEwQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtDQUFrQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esb0JBQW9CLEtBQUs7QUFDekI7QUFDQTtBQUNBLG9CQUFvQixLQUFLO0FBQ3pCO0FBQ0E7QUFDQSxvQkFBb0IsS0FBSztBQUN6QjtBQUNBO0FBQ0Esb0JBQW9CLEtBQUs7QUFDekI7QUFDQTtBQUNBLG9CQUFvQixLQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsVUFBVTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFVBQVUsR0FBRyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVLEVBQUUsUUFBUSx1QkFBdUIsS0FBSztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLE1BQU0sR0FBRyw0QkFBNEI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsT0FBTyxFQUFFLGlCQUFpQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxzQkFBc0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlCQUFpQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNEU7QUFDNUU7QUFDQTtBQUNBLElBQUksdUVBQVM7QUFDYiw2RkFBNkYsbUJBQW1COztBQUVoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsdUVBQVM7QUFDMUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVFQUFTO0FBQ3JCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlCQUF5QjtBQUN0RCxPQUFPO0FBQ1A7QUFDQSxRQUFRLHVFQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBLHVEQUF1RCxnQkFBZ0I7QUFDdkUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTs7QUFFNUU7QUFDNEU7QUFDNUUsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1RUFBUyxvQ0FBb0M7QUFDdEQscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx1RUFBUztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlCQUF5QjtBQUNsRCx1QkFBdUIsb0NBQW9DO0FBQzNEO0FBQ0E7O0FBRUE7QUFDbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5Q0FBeUM7QUFDMUQsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsSUFBSTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2QkFBNkI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFEQUFxRCxVQUFVO0FBQy9EO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMERBQTBELGVBQWU7QUFDekU7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3REFBd0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxhQUFhLEVBQUUsY0FBYztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsV0FBVyxJQUFJLFlBQVk7QUFDakQsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxVQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFdBQVcscURBQXFELHFCQUFxQixFQUFFLGlCQUFpQjtBQUMxSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELG9CQUFvQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsbURBQW1ELGVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNrRjtBQUNTO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFDQUFxQyxnQ0FBZ0M7QUFDckU7QUFDQSwyQkFBMkIsNEVBQWM7QUFDekM7QUFDQTtBQUNBLDBDQUEwQyxxRkFBYztBQUN4RDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdUJBQXVCO0FBQ3JEO0FBQ0EsdURBQXVELHFCQUFxQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLE9BQU8sZ0RBQWdEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvQ0FBb0M7QUFDM0Q7QUFDQTs7QUFFQTtBQUM2RTtBQUM3QjtBQUNrQzs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQzJFO0FBQ0E7QUFDUTtBQUNuRixtQ0FBbUMsd0RBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUVBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsTUFBTSx1RUFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0VBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsSUFBSSx1RkFBb0I7QUFDeEI7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxVQUFVLCtGQUFxQjtBQUMvQjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksbUZBQW9CO0FBQ3hCO0FBQ0EsTUFBTSxtRkFBb0I7QUFDMUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2Jyb3dzZXIvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIG5vZGVfbW9kdWxlcy8ucG5wbS9vdXR2YXJpYW50QDEuNC4zL25vZGVfbW9kdWxlcy9vdXR2YXJpYW50L2xpYi9pbmRleC5tanNcbnZhciBQT1NJVElPTkFMU19FWFAgPSAvKCU/KSglKFtzZGlqb10pKS9nO1xuZnVuY3Rpb24gc2VyaWFsaXplUG9zaXRpb25hbChwb3NpdGlvbmFsLCBmbGFnKSB7XG4gIHN3aXRjaCAoZmxhZykge1xuICAgIGNhc2UgXCJzXCI6XG4gICAgICByZXR1cm4gcG9zaXRpb25hbDtcbiAgICBjYXNlIFwiZFwiOlxuICAgIGNhc2UgXCJpXCI6XG4gICAgICByZXR1cm4gTnVtYmVyKHBvc2l0aW9uYWwpO1xuICAgIGNhc2UgXCJqXCI6XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocG9zaXRpb25hbCk7XG4gICAgY2FzZSBcIm9cIjoge1xuICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbmFsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbmFsO1xuICAgICAgfVxuICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHBvc2l0aW9uYWwpO1xuICAgICAgaWYgKGpzb24gPT09IFwie31cIiB8fCBqc29uID09PSBcIltdXCIgfHwgL15cXFtvYmplY3QgLis/XFxdJC8udGVzdChqc29uKSkge1xuICAgICAgICByZXR1cm4gcG9zaXRpb25hbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZm9ybWF0KG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSB7XG4gIGlmIChwb3NpdGlvbmFscy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBsZXQgcG9zaXRpb25hbEluZGV4ID0gMDtcbiAgbGV0IGZvcm1hdHRlZE1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoXG4gICAgUE9TSVRJT05BTFNfRVhQLFxuICAgIChtYXRjaCwgaXNFc2NhcGVkLCBfLCBmbGFnKSA9PiB7XG4gICAgICBjb25zdCBwb3NpdGlvbmFsID0gcG9zaXRpb25hbHNbcG9zaXRpb25hbEluZGV4XTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplUG9zaXRpb25hbChwb3NpdGlvbmFsLCBmbGFnKTtcbiAgICAgIGlmICghaXNFc2NhcGVkKSB7XG4gICAgICAgIHBvc2l0aW9uYWxJbmRleCsrO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuICApO1xuICBpZiAocG9zaXRpb25hbEluZGV4IDwgcG9zaXRpb25hbHMubGVuZ3RoKSB7XG4gICAgZm9ybWF0dGVkTWVzc2FnZSArPSBgICR7cG9zaXRpb25hbHMuc2xpY2UocG9zaXRpb25hbEluZGV4KS5qb2luKFwiIFwiKX1gO1xuICB9XG4gIGZvcm1hdHRlZE1lc3NhZ2UgPSBmb3JtYXR0ZWRNZXNzYWdlLnJlcGxhY2UoLyV7MiwyfS9nLCBcIiVcIik7XG4gIHJldHVybiBmb3JtYXR0ZWRNZXNzYWdlO1xufVxudmFyIFNUQUNLX0ZSQU1FU19UT19JR05PUkUgPSAyO1xuZnVuY3Rpb24gY2xlYW5FcnJvclN0YWNrKGVycm9yMikge1xuICBpZiAoIWVycm9yMi5zdGFjaykge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBuZXh0U3RhY2sgPSBlcnJvcjIuc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gIG5leHRTdGFjay5zcGxpY2UoMSwgU1RBQ0tfRlJBTUVTX1RPX0lHTk9SRSk7XG4gIGVycm9yMi5zdGFjayA9IG5leHRTdGFjay5qb2luKFwiXFxuXCIpO1xufVxudmFyIEludmFyaWFudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLm5hbWUgPSBcIkludmFyaWFudCBWaW9sYXRpb25cIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBmb3JtYXQobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpO1xuICAgIGNsZWFuRXJyb3JTdGFjayh0aGlzKTtcbiAgfVxufTtcbnZhciBpbnZhcmlhbnQgPSAocHJlZGljYXRlLCBtZXNzYWdlLCAuLi5wb3NpdGlvbmFscykgPT4ge1xuICBpZiAoIXByZWRpY2F0ZSkge1xuICAgIHRocm93IG5ldyBJbnZhcmlhbnRFcnJvcihtZXNzYWdlLCAuLi5wb3NpdGlvbmFscyk7XG4gIH1cbn07XG5pbnZhcmlhbnQuYXMgPSAoRXJyb3JDb25zdHJ1Y3RvciwgcHJlZGljYXRlLCBtZXNzYWdlLCAuLi5wb3NpdGlvbmFscykgPT4ge1xuICBpZiAoIXByZWRpY2F0ZSkge1xuICAgIGNvbnN0IGZvcm1hdE1lc3NhZ2UgPSBwb3NpdGlvbmFscy5sZW5ndGggPT09IDAgPyBtZXNzYWdlIDogZm9ybWF0KG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKTtcbiAgICBsZXQgZXJyb3IyO1xuICAgIHRyeSB7XG4gICAgICBlcnJvcjIgPSBSZWZsZWN0LmNvbnN0cnVjdChFcnJvckNvbnN0cnVjdG9yLCBbXG4gICAgICAgIGZvcm1hdE1lc3NhZ2VcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IyID0gRXJyb3JDb25zdHJ1Y3Rvcihmb3JtYXRNZXNzYWdlKTtcbiAgICB9XG4gICAgdGhyb3cgZXJyb3IyO1xuICB9XG59O1xuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vaXMtbm9kZS1wcm9jZXNzQDEuMi4wL25vZGVfbW9kdWxlcy9pcy1ub2RlLXByb2Nlc3MvbGliL2luZGV4Lm1qc1xuZnVuY3Rpb24gaXNOb2RlUHJvY2VzcygpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09IFwiUmVhY3ROYXRpdmVcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IHR5cGUgPSBwcm9jZXNzLnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IFwicmVuZGVyZXJcIiB8fCB0eXBlID09PSBcIndvcmtlclwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhIShwcm9jZXNzLnZlcnNpb25zICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC9jcmVhdGVTdGFydEhhbmRsZXIudHNcbmltcG9ydCB7IGRldlV0aWxzIGFzIGRldlV0aWxzNyB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVuLWRyYWZ0K3VudGlsQDIuMS4wL25vZGVfbW9kdWxlcy9Ab3Blbi1kcmFmdC91bnRpbC9saWIvaW5kZXgubWpzXG52YXIgdW50aWwgPSBhc3luYyAocHJvbWlzZSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwcm9taXNlKCkuY2F0Y2goKGVycm9yMikgPT4ge1xuICAgICAgdGhyb3cgZXJyb3IyO1xuICAgIH0pO1xuICAgIHJldHVybiB7IGVycm9yOiBudWxsLCBkYXRhIH07XG4gIH0gY2F0Y2ggKGVycm9yMikge1xuICAgIHJldHVybiB7IGVycm9yOiBlcnJvcjIsIGRhdGE6IG51bGwgfTtcbiAgfVxufTtcblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RhcnQvdXRpbHMvZ2V0V29ya2VySW5zdGFuY2UudHNcbmltcG9ydCB7IGRldlV0aWxzIH0gZnJvbSAnLi4vY29yZS91dGlscy9pbnRlcm5hbC9kZXZVdGlscy5tanMnO1xuXG4vLyBzcmMvYnJvd3Nlci91dGlscy9nZXRBYnNvbHV0ZVdvcmtlclVybC50c1xuZnVuY3Rpb24gZ2V0QWJzb2x1dGVXb3JrZXJVcmwod29ya2VyVXJsKSB7XG4gIHJldHVybiBuZXcgVVJMKHdvcmtlclVybCwgbG9jYXRpb24uaHJlZikuaHJlZjtcbn1cblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RhcnQvdXRpbHMvZ2V0V29ya2VyQnlSZWdpc3RyYXRpb24udHNcbmZ1bmN0aW9uIGdldFdvcmtlckJ5UmVnaXN0cmF0aW9uKHJlZ2lzdHJhdGlvbiwgYWJzb2x1dGVXb3JrZXJVcmwsIGZpbmRXb3JrZXIpIHtcbiAgY29uc3QgYWxsU3RhdGVzID0gW1xuICAgIHJlZ2lzdHJhdGlvbi5hY3RpdmUsXG4gICAgcmVnaXN0cmF0aW9uLmluc3RhbGxpbmcsXG4gICAgcmVnaXN0cmF0aW9uLndhaXRpbmdcbiAgXTtcbiAgY29uc3QgcmVsZXZhbnRTdGF0ZXMgPSBhbGxTdGF0ZXMuZmlsdGVyKChzdGF0ZSkgPT4ge1xuICAgIHJldHVybiBzdGF0ZSAhPSBudWxsO1xuICB9KTtcbiAgY29uc3Qgd29ya2VyID0gcmVsZXZhbnRTdGF0ZXMuZmluZCgod29ya2VyMikgPT4ge1xuICAgIHJldHVybiBmaW5kV29ya2VyKHdvcmtlcjIuc2NyaXB0VVJMLCBhYnNvbHV0ZVdvcmtlclVybCk7XG4gIH0pO1xuICByZXR1cm4gd29ya2VyIHx8IG51bGw7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L3V0aWxzL2dldFdvcmtlckluc3RhbmNlLnRzXG52YXIgZ2V0V29ya2VySW5zdGFuY2UgPSBhc3luYyAodXJsLCBvcHRpb25zID0ge30sIGZpbmRXb3JrZXIpID0+IHtcbiAgY29uc3QgYWJzb2x1dGVXb3JrZXJVcmwgPSBnZXRBYnNvbHV0ZVdvcmtlclVybCh1cmwpO1xuICBjb25zdCBtb2NrUmVnaXN0cmF0aW9ucyA9IGF3YWl0IG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbnMoKS50aGVuKFxuICAgIChyZWdpc3RyYXRpb25zKSA9PiByZWdpc3RyYXRpb25zLmZpbHRlcihcbiAgICAgIChyZWdpc3RyYXRpb24pID0+IGdldFdvcmtlckJ5UmVnaXN0cmF0aW9uKHJlZ2lzdHJhdGlvbiwgYWJzb2x1dGVXb3JrZXJVcmwsIGZpbmRXb3JrZXIpXG4gICAgKVxuICApO1xuICBpZiAoIW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIgJiYgbW9ja1JlZ2lzdHJhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICB9XG4gIGNvbnN0IFtleGlzdGluZ1JlZ2lzdHJhdGlvbl0gPSBtb2NrUmVnaXN0cmF0aW9ucztcbiAgaWYgKGV4aXN0aW5nUmVnaXN0cmF0aW9uKSB7XG4gICAgZXhpc3RpbmdSZWdpc3RyYXRpb24udXBkYXRlKCk7XG4gICAgcmV0dXJuIFtcbiAgICAgIGdldFdvcmtlckJ5UmVnaXN0cmF0aW9uKFxuICAgICAgICBleGlzdGluZ1JlZ2lzdHJhdGlvbixcbiAgICAgICAgYWJzb2x1dGVXb3JrZXJVcmwsXG4gICAgICAgIGZpbmRXb3JrZXJcbiAgICAgICksXG4gICAgICBleGlzdGluZ1JlZ2lzdHJhdGlvblxuICAgIF07XG4gIH1cbiAgY29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gYXdhaXQgdW50aWwoXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVnaXN0cmF0aW9uID0gYXdhaXQgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIodXJsLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC8vIENvbXBhcmUgZXhpc3Rpbmcgd29ya2VyIHJlZ2lzdHJhdGlvbiBieSBpdHMgd29ya2VyIFVSTCxcbiAgICAgICAgLy8gdG8gcHJldmVudCBpcnJlbGV2YW50IHdvcmtlcnMgdG8gcmVzb2x2ZSBoZXJlIChzdWNoIGFzIENvZGVzYW5kYm94IHdvcmtlcikuXG4gICAgICAgIGdldFdvcmtlckJ5UmVnaXN0cmF0aW9uKHJlZ2lzdHJhdGlvbiwgYWJzb2x1dGVXb3JrZXJVcmwsIGZpbmRXb3JrZXIpLFxuICAgICAgICByZWdpc3RyYXRpb25cbiAgICAgIF07XG4gICAgfVxuICApO1xuICBpZiAocmVnaXN0cmF0aW9uUmVzdWx0LmVycm9yKSB7XG4gICAgY29uc3QgaXNXb3JrZXJNaXNzaW5nID0gcmVnaXN0cmF0aW9uUmVzdWx0LmVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCIoNDA0KVwiKTtcbiAgICBpZiAoaXNXb3JrZXJNaXNzaW5nKSB7XG4gICAgICBjb25zdCBzY29wZVVybCA9IG5ldyBVUkwob3B0aW9ucz8uc2NvcGUgfHwgXCIvXCIsIGxvY2F0aW9uLmhyZWYpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgYSBTZXJ2aWNlIFdvcmtlciBmb3Igc2NvcGUgKCcke3Njb3BlVXJsLmhyZWZ9Jykgd2l0aCBzY3JpcHQgKCcke2Fic29sdXRlV29ya2VyVXJsfScpOiBTZXJ2aWNlIFdvcmtlciBzY3JpcHQgZG9lcyBub3QgZXhpc3QgYXQgdGhlIGdpdmVuIHBhdGguXG5cbkRpZCB5b3UgZm9yZ2V0IHRvIHJ1biBcIm5weCBtc3cgaW5pdCA8UFVCTElDX0RJUj5cIj9cblxuTGVhcm4gbW9yZSBhYm91dCBjcmVhdGluZyB0aGUgU2VydmljZSBXb3JrZXIgc2NyaXB0OiBodHRwczovL21zd2pzLmlvL2RvY3MvY2xpL2luaXRgKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgICAgXCJGYWlsZWQgdG8gcmVnaXN0ZXIgdGhlIFNlcnZpY2UgV29ya2VyOlxcblxcbiVzXCIsXG4gICAgICAgIHJlZ2lzdHJhdGlvblJlc3VsdC5lcnJvci5tZXNzYWdlXG4gICAgICApXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVnaXN0cmF0aW9uUmVzdWx0LmRhdGE7XG59O1xuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC91dGlscy9lbmFibGVNb2NraW5nLnRzXG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczMgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L3V0aWxzL3ByaW50U3RhcnRNZXNzYWdlLnRzXG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczIgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5mdW5jdGlvbiBwcmludFN0YXJ0TWVzc2FnZShhcmdzID0ge30pIHtcbiAgaWYgKGFyZ3MucXVpZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbWVzc2FnZSA9IGFyZ3MubWVzc2FnZSB8fCBcIk1vY2tpbmcgZW5hYmxlZC5cIjtcbiAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICBgJWMke2RldlV0aWxzMi5mb3JtYXRNZXNzYWdlKG1lc3NhZ2UpfWAsXG4gICAgXCJjb2xvcjpvcmFuZ2VyZWQ7Zm9udC13ZWlnaHQ6Ym9sZDtcIlxuICApO1xuICBjb25zb2xlLmxvZyhcbiAgICBcIiVjRG9jdW1lbnRhdGlvbjogJWNodHRwczovL21zd2pzLmlvL2RvY3NcIixcbiAgICBcImZvbnQtd2VpZ2h0OmJvbGRcIixcbiAgICBcImZvbnQtd2VpZ2h0Om5vcm1hbFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKFwiRm91bmQgYW4gaXNzdWU/IGh0dHBzOi8vZ2l0aHViLmNvbS9tc3dqcy9tc3cvaXNzdWVzXCIpO1xuICBpZiAoYXJncy53b3JrZXJVcmwpIHtcbiAgICBjb25zb2xlLmxvZyhcIldvcmtlciBzY3JpcHQgVVJMOlwiLCBhcmdzLndvcmtlclVybCk7XG4gIH1cbiAgaWYgKGFyZ3Mud29ya2VyU2NvcGUpIHtcbiAgICBjb25zb2xlLmxvZyhcIldvcmtlciBzY29wZTpcIiwgYXJncy53b3JrZXJTY29wZSk7XG4gIH1cbiAgaWYgKGFyZ3MuY2xpZW50KSB7XG4gICAgY29uc29sZS5sb2coXCJDbGllbnQgSUQ6ICVzICglcylcIiwgYXJncy5jbGllbnQuaWQsIGFyZ3MuY2xpZW50LmZyYW1lVHlwZSk7XG4gIH1cbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC91dGlscy9lbmFibGVNb2NraW5nLnRzXG5hc3luYyBmdW5jdGlvbiBlbmFibGVNb2NraW5nKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgY29udGV4dC53b3JrZXJDaGFubmVsLnNlbmQoXCJNT0NLX0FDVElWQVRFXCIpO1xuICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGNvbnRleHQuZXZlbnRzLm9uY2UoXCJNT0NLSU5HX0VOQUJMRURcIik7XG4gIGlmIChjb250ZXh0LmlzTW9ja2luZ0VuYWJsZWQpIHtcbiAgICBkZXZVdGlsczMud2FybihcbiAgICAgIGBGb3VuZCBhIHJlZHVuZGFudCBcIndvcmtlci5zdGFydCgpXCIgY2FsbC4gTm90ZSB0aGF0IHN0YXJ0aW5nIHRoZSB3b3JrZXIgd2hpbGUgbW9ja2luZyBpcyBhbHJlYWR5IGVuYWJsZWQgd2lsbCBoYXZlIG5vIGVmZmVjdC4gQ29uc2lkZXIgcmVtb3ZpbmcgdGhpcyBcIndvcmtlci5zdGFydCgpXCIgY2FsbC5gXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29udGV4dC5pc01vY2tpbmdFbmFibGVkID0gdHJ1ZTtcbiAgcHJpbnRTdGFydE1lc3NhZ2Uoe1xuICAgIHF1aWV0OiBvcHRpb25zLnF1aWV0LFxuICAgIHdvcmtlclNjb3BlOiBjb250ZXh0LnJlZ2lzdHJhdGlvbj8uc2NvcGUsXG4gICAgd29ya2VyVXJsOiBjb250ZXh0Lndvcmtlcj8uc2NyaXB0VVJMLFxuICAgIGNsaWVudDogcGF5bG9hZC5jbGllbnRcbiAgfSk7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L3V0aWxzL2NyZWF0ZU1lc3NhZ2VDaGFubmVsLnRzXG52YXIgV29ya2VyQ2hhbm5lbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocG9ydCkge1xuICAgIHRoaXMucG9ydCA9IHBvcnQ7XG4gIH1cbiAgcG9zdE1lc3NhZ2UoZXZlbnQsIC4uLnJlc3QpIHtcbiAgICBjb25zdCBbZGF0YSwgdHJhbnNmZXJdID0gcmVzdDtcbiAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoeyB0eXBlOiBldmVudCwgZGF0YSB9LCB7IHRyYW5zZmVyIH0pO1xuICB9XG59O1xuXG4vLyBzcmMvYnJvd3Nlci91dGlscy9wcnVuZUdldFJlcXVlc3RCb2R5LnRzXG5mdW5jdGlvbiBwcnVuZUdldFJlcXVlc3RCb2R5KHJlcXVlc3QpIHtcbiAgaWYgKFtcIkhFQURcIiwgXCJHRVRcIl0uaW5jbHVkZXMocmVxdWVzdC5tZXRob2QpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gcmVxdWVzdC5ib2R5O1xufVxuXG4vLyBzcmMvYnJvd3Nlci91dGlscy9kZXNlcmlhbGl6ZVJlcXVlc3QudHNcbmZ1bmN0aW9uIGRlc2VyaWFsaXplUmVxdWVzdChzZXJpYWxpemVkUmVxdWVzdCkge1xuICByZXR1cm4gbmV3IFJlcXVlc3Qoc2VyaWFsaXplZFJlcXVlc3QudXJsLCB7XG4gICAgLi4uc2VyaWFsaXplZFJlcXVlc3QsXG4gICAgYm9keTogcHJ1bmVHZXRSZXF1ZXN0Qm9keShzZXJpYWxpemVkUmVxdWVzdClcbiAgfSk7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L2NyZWF0ZVJlcXVlc3RMaXN0ZW5lci50c1xuaW1wb3J0IHsgUmVxdWVzdEhhbmRsZXIgfSBmcm9tICcuLi9jb3JlL2hhbmRsZXJzL1JlcXVlc3RIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVSZXF1ZXN0IH0gZnJvbSAnLi4vY29yZS91dGlscy9oYW5kbGVSZXF1ZXN0Lm1qcyc7XG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczQgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5pbXBvcnQgeyB0b1Jlc3BvbnNlSW5pdCB9IGZyb20gJy4uL2NvcmUvdXRpbHMvdG9SZXNwb25zZUluaXQubWpzJztcbmltcG9ydCB7IGlzSGFuZGxlcktpbmQgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2lzSGFuZGxlcktpbmQubWpzJztcbnZhciBjcmVhdGVSZXF1ZXN0TGlzdGVuZXIgPSAoY29udGV4dCwgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gYXN5bmMgKGV2ZW50LCBtZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZUNoYW5uZWwgPSBuZXcgV29ya2VyQ2hhbm5lbChldmVudC5wb3J0c1swXSk7XG4gICAgY29uc3QgcmVxdWVzdElkID0gbWVzc2FnZS5wYXlsb2FkLmlkO1xuICAgIGNvbnN0IHJlcXVlc3QgPSBkZXNlcmlhbGl6ZVJlcXVlc3QobWVzc2FnZS5wYXlsb2FkKTtcbiAgICBjb25zdCByZXF1ZXN0Q2xvbmVGb3JMb2dzID0gcmVxdWVzdC5jbG9uZSgpO1xuICAgIGNvbnN0IHJlcXVlc3RDbG9uZSA9IHJlcXVlc3QuY2xvbmUoKTtcbiAgICBSZXF1ZXN0SGFuZGxlci5jYWNoZS5zZXQocmVxdWVzdCwgcmVxdWVzdENsb25lKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgaGFuZGxlUmVxdWVzdChcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICBjb250ZXh0LmdldFJlcXVlc3RIYW5kbGVycygpLmZpbHRlcihpc0hhbmRsZXJLaW5kKFwiUmVxdWVzdEhhbmRsZXJcIikpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICBjb250ZXh0LmVtaXR0ZXIsXG4gICAgICAgIHtcbiAgICAgICAgICBvblBhc3N0aHJvdWdoUmVzcG9uc2UoKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ2hhbm5lbC5wb3N0TWVzc2FnZShcIlBBU1NUSFJPVUdIXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXN5bmMgb25Nb2NrZWRSZXNwb25zZShyZXNwb25zZSwgeyBoYW5kbGVyLCBwYXJzZWRSZXN1bHQgfSkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VDbG9uZSA9IHJlc3BvbnNlLmNsb25lKCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUNsb25lRm9yTG9ncyA9IHJlc3BvbnNlLmNsb25lKCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUluaXQgPSB0b1Jlc3BvbnNlSW5pdChyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5zdXBwb3J0cy5yZWFkYWJsZVN0cmVhbVRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlU3RyZWFtT3JOdWxsID0gcmVzcG9uc2UuYm9keTtcbiAgICAgICAgICAgICAgbWVzc2FnZUNoYW5uZWwucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgXCJNT0NLX1JFU1BPTlNFXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgLi4ucmVzcG9uc2VJbml0LFxuICAgICAgICAgICAgICAgICAgYm9keTogcmVzcG9uc2VTdHJlYW1Pck51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RyZWFtT3JOdWxsID8gW3Jlc3BvbnNlU3RyZWFtT3JOdWxsXSA6IHZvaWQgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VCdWZmZXJPck51bGwgPSByZXNwb25zZS5ib2R5ID09PSBudWxsID8gbnVsbCA6IGF3YWl0IHJlc3BvbnNlQ2xvbmUuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgICAgbWVzc2FnZUNoYW5uZWwucG9zdE1lc3NhZ2UoXCJNT0NLX1JFU1BPTlNFXCIsIHtcbiAgICAgICAgICAgICAgICAuLi5yZXNwb25zZUluaXQsXG4gICAgICAgICAgICAgICAgYm9keTogcmVzcG9uc2VCdWZmZXJPck51bGxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucXVpZXQpIHtcbiAgICAgICAgICAgICAgY29udGV4dC5lbWl0dGVyLm9uY2UoXCJyZXNwb25zZTptb2NrZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIubG9nKHtcbiAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RDbG9uZUZvckxvZ3MsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2VDbG9uZUZvckxvZ3MsXG4gICAgICAgICAgICAgICAgICBwYXJzZWRSZXN1bHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgaWYgKGVycm9yMiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGRldlV0aWxzNC5lcnJvcihcbiAgICAgICAgICBgVW5jYXVnaHQgZXhjZXB0aW9uIGluIHRoZSByZXF1ZXN0IGhhbmRsZXIgZm9yIFwiJXMgJXNcIjpcblxuJXNcblxuVGhpcyBleGNlcHRpb24gaGFzIGJlZW4gZ3JhY2VmdWxseSBoYW5kbGVkIGFzIGEgNTAwIHJlc3BvbnNlLCBob3dldmVyLCBpdCdzIHN0cm9uZ2x5IHJlY29tbWVuZGVkIHRvIHJlc29sdmUgdGhpcyBlcnJvciwgYXMgaXQgaW5kaWNhdGVzIGEgbWlzdGFrZSBpbiB5b3VyIGNvZGUuIElmIHlvdSB3aXNoIHRvIG1vY2sgYW4gZXJyb3IgcmVzcG9uc2UsIHBsZWFzZSBzZWUgdGhpcyBndWlkZTogaHR0cHM6Ly9tc3dqcy5pby9kb2NzL2h0dHAvbW9ja2luZy1yZXNwb25zZXMvZXJyb3ItcmVzcG9uc2VzYCxcbiAgICAgICAgICByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICByZXF1ZXN0LnVybCxcbiAgICAgICAgICBlcnJvcjIuc3RhY2sgPz8gZXJyb3IyXG4gICAgICAgICk7XG4gICAgICAgIG1lc3NhZ2VDaGFubmVsLnBvc3RNZXNzYWdlKFwiTU9DS19SRVNQT05TRVwiLCB7XG4gICAgICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICAgICAgc3RhdHVzVGV4dDogXCJSZXF1ZXN0IEhhbmRsZXIgRXJyb3JcIixcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogZXJyb3IyLm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvcjIubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBlcnJvcjIuc3RhY2tcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG4vLyBzcmMvYnJvd3Nlci91dGlscy9jaGVja1dvcmtlckludGVncml0eS50c1xuaW1wb3J0IHsgZGV2VXRpbHMgYXMgZGV2VXRpbHM1IH0gZnJvbSAnLi4vY29yZS91dGlscy9pbnRlcm5hbC9kZXZVdGlscy5tanMnO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tXb3JrZXJJbnRlZ3JpdHkoY29udGV4dCkge1xuICBjb250ZXh0LndvcmtlckNoYW5uZWwuc2VuZChcIklOVEVHUklUWV9DSEVDS19SRVFVRVNUXCIpO1xuICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGNvbnRleHQuZXZlbnRzLm9uY2UoXCJJTlRFR1JJVFlfQ0hFQ0tfUkVTUE9OU0VcIik7XG4gIGlmIChwYXlsb2FkLmNoZWNrc3VtICE9PSBcImY1ODI1YzUyMTQyOWNhZjIyYTRkZDEzYjY2ZTI0M2FmXCIpIHtcbiAgICBkZXZVdGlsczUud2FybihcbiAgICAgIGBUaGUgY3VycmVudGx5IHJlZ2lzdGVyZWQgU2VydmljZSBXb3JrZXIgaGFzIGJlZW4gZ2VuZXJhdGVkIGJ5IGEgZGlmZmVyZW50IHZlcnNpb24gb2YgTVNXICgke3BheWxvYWQucGFja2FnZVZlcnNpb259KSBhbmQgbWF5IG5vdCBiZSBmdWxseSBjb21wYXRpYmxlIHdpdGggdGhlIGluc3RhbGxlZCB2ZXJzaW9uLlxuXG5JdCdzIHJlY29tbWVuZGVkIHlvdSB1cGRhdGUgeW91ciB3b3JrZXIgc2NyaXB0IGJ5IHJ1bm5pbmcgdGhpcyBjb21tYW5kOlxuXG4gIFxcdTIwMjIgbnB4IG1zdyBpbml0IDxQVUJMSUNfRElSPlxuXG5Zb3UgY2FuIGFsc28gYXV0b21hdGUgdGhpcyBwcm9jZXNzIGFuZCBtYWtlIHRoZSB3b3JrZXIgc2NyaXB0IHVwZGF0ZSBhdXRvbWF0aWNhbGx5IHVwb24gdGhlIGxpYnJhcnkgaW5zdGFsbGF0aW9ucy4gUmVhZCBtb3JlOiBodHRwczovL21zd2pzLmlvL2RvY3MvY2xpL2luaXQuYFxuICAgICk7XG4gIH1cbn1cblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0Btc3dqcytpbnRlcmNlcHRvcnNAMC4zOS4xL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLTZIWUlSRlgyLm1qc1xudmFyIGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbmZ1bmN0aW9uIGVuY29kZUJ1ZmZlcih0ZXh0KSB7XG4gIHJldHVybiBlbmNvZGVyLmVuY29kZSh0ZXh0KTtcbn1cbmZ1bmN0aW9uIGRlY29kZUJ1ZmZlcihidWZmZXIsIGVuY29kaW5nKSB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcpO1xuICByZXR1cm4gZGVjb2Rlci5kZWNvZGUoYnVmZmVyKTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXlCdWZmZXIoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LmJ1ZmZlci5zbGljZShcbiAgICBhcnJheS5ieXRlT2Zmc2V0LFxuICAgIGFycmF5LmJ5dGVPZmZzZXQgKyBhcnJheS5ieXRlTGVuZ3RoXG4gICk7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbXN3anMraW50ZXJjZXB0b3JzQDAuMzkuMS9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay0zUlhDUkdMMi5tanNcbnZhciBJU19QQVRDSEVEX01PRFVMRSA9IFN5bWJvbChcImlzUGF0Y2hlZE1vZHVsZVwiKTtcbmZ1bmN0aW9uIGNhblBhcnNlVXJsKHVybCkge1xuICB0cnkge1xuICAgIG5ldyBVUkwodXJsKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBnZXRWYWx1ZUJ5U3ltYm9sKHN5bWJvbE5hbWUsIHNvdXJjZSkge1xuICBjb25zdCBvd25TeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xuICBjb25zdCBzeW1ib2wgPSBvd25TeW1ib2xzLmZpbmQoKHN5bWJvbDIpID0+IHtcbiAgICByZXR1cm4gc3ltYm9sMi5kZXNjcmlwdGlvbiA9PT0gc3ltYm9sTmFtZTtcbiAgfSk7XG4gIGlmIChzeW1ib2wpIHtcbiAgICByZXR1cm4gUmVmbGVjdC5nZXQoc291cmNlLCBzeW1ib2wpO1xuICB9XG4gIHJldHVybjtcbn1cbnZhciBfRmV0Y2hSZXNwb25zZSA9IGNsYXNzIGV4dGVuZHMgUmVzcG9uc2Uge1xuICBzdGF0aWMgaXNDb25maWd1cmFibGVTdGF0dXNDb2RlKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8PSA1OTk7XG4gIH1cbiAgc3RhdGljIGlzUmVkaXJlY3RSZXNwb25zZShzdGF0dXMpIHtcbiAgICByZXR1cm4gX0ZldGNoUmVzcG9uc2UuU1RBVFVTX0NPREVTX1dJVEhfUkVESVJFQ1QuaW5jbHVkZXMoc3RhdHVzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBnaXZlbiByZXNwb25zZSBzdGF0dXNcbiAgICogY29kZSByZXByZXNlbnRzIGEgcmVzcG9uc2UgdGhhdCBjYW4gaGF2ZSBhIGJvZHkuXG4gICAqL1xuICBzdGF0aWMgaXNSZXNwb25zZVdpdGhCb2R5KHN0YXR1cykge1xuICAgIHJldHVybiAhX0ZldGNoUmVzcG9uc2UuU1RBVFVTX0NPREVTX1dJVEhPVVRfQk9EWS5pbmNsdWRlcyhzdGF0dXMpO1xuICB9XG4gIHN0YXRpYyBzZXRVcmwodXJsLCByZXNwb25zZSkge1xuICAgIGlmICghdXJsIHx8IHVybCA9PT0gXCJhYm91dDpcIiB8fCAhY2FuUGFyc2VVcmwodXJsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IGdldFZhbHVlQnlTeW1ib2woXCJzdGF0ZVwiLCByZXNwb25zZSk7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICBzdGF0ZS51cmxMaXN0LnB1c2gobmV3IFVSTCh1cmwpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc3BvbnNlLCBcInVybFwiLCB7XG4gICAgICAgIHZhbHVlOiB1cmwsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlcyB0aGUgZ2l2ZW4gcmF3IEhUVFAgaGVhZGVycyBpbnRvIGEgRmV0Y2ggQVBJIGBIZWFkZXJzYCBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyBwYXJzZVJhd0hlYWRlcnMocmF3SGVhZGVycykge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIGZvciAobGV0IGxpbmUgPSAwOyBsaW5lIDwgcmF3SGVhZGVycy5sZW5ndGg7IGxpbmUgKz0gMikge1xuICAgICAgaGVhZGVycy5hcHBlbmQocmF3SGVhZGVyc1tsaW5lXSwgcmF3SGVhZGVyc1tsaW5lICsgMV0pO1xuICAgIH1cbiAgICByZXR1cm4gaGVhZGVycztcbiAgfVxuICBjb25zdHJ1Y3Rvcihib2R5LCBpbml0ID0ge30pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc3RhdHVzID0gKF9hID0gaW5pdC5zdGF0dXMpICE9IG51bGwgPyBfYSA6IDIwMDtcbiAgICBjb25zdCBzYWZlU3RhdHVzID0gX0ZldGNoUmVzcG9uc2UuaXNDb25maWd1cmFibGVTdGF0dXNDb2RlKHN0YXR1cykgPyBzdGF0dXMgOiAyMDA7XG4gICAgY29uc3QgZmluYWxCb2R5ID0gX0ZldGNoUmVzcG9uc2UuaXNSZXNwb25zZVdpdGhCb2R5KHN0YXR1cykgPyBib2R5IDogbnVsbDtcbiAgICBzdXBlcihmaW5hbEJvZHksIHtcbiAgICAgIHN0YXR1czogc2FmZVN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IGluaXQuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IGluaXQuaGVhZGVyc1xuICAgIH0pO1xuICAgIGlmIChzdGF0dXMgIT09IHNhZmVTdGF0dXMpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gZ2V0VmFsdWVCeVN5bWJvbChcInN0YXRlXCIsIHRoaXMpO1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXR1c1wiLCB7XG4gICAgICAgICAgdmFsdWU6IHN0YXR1cyxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIF9GZXRjaFJlc3BvbnNlLnNldFVybChpbml0LnVybCwgdGhpcyk7XG4gIH1cbn07XG52YXIgRmV0Y2hSZXNwb25zZSA9IF9GZXRjaFJlc3BvbnNlO1xuRmV0Y2hSZXNwb25zZS5TVEFUVVNfQ09ERVNfV0lUSE9VVF9CT0RZID0gWzEwMSwgMTAzLCAyMDQsIDIwNSwgMzA0XTtcbkZldGNoUmVzcG9uc2UuU1RBVFVTX0NPREVTX1dJVEhfUkVESVJFQ1QgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdO1xudmFyIGtSYXdSZXF1ZXN0ID0gU3ltYm9sKFwia1Jhd1JlcXVlc3RcIik7XG5mdW5jdGlvbiBzZXRSYXdSZXF1ZXN0KHJlcXVlc3QsIHJhd1JlcXVlc3QpIHtcbiAgUmVmbGVjdC5zZXQocmVxdWVzdCwga1Jhd1JlcXVlc3QsIHJhd1JlcXVlc3QpO1xufVxuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG9wZW4tZHJhZnQrbG9nZ2VyQDAuMy4wL25vZGVfbW9kdWxlcy9Ab3Blbi1kcmFmdC9sb2dnZXIvbGliL2luZGV4Lm1qc1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lIGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7IGdldDogYWxsW25hbWVdLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcbnZhciBjb2xvcnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoY29sb3JzX2V4cG9ydHMsIHtcbiAgYmx1ZTogKCkgPT4gYmx1ZSxcbiAgZ3JheTogKCkgPT4gZ3JheSxcbiAgZ3JlZW46ICgpID0+IGdyZWVuLFxuICByZWQ6ICgpID0+IHJlZCxcbiAgeWVsbG93OiAoKSA9PiB5ZWxsb3dcbn0pO1xuZnVuY3Rpb24geWVsbG93KHRleHQpIHtcbiAgcmV0dXJuIGBcXHgxQlszM20ke3RleHR9XFx4MUJbMG1gO1xufVxuZnVuY3Rpb24gYmx1ZSh0ZXh0KSB7XG4gIHJldHVybiBgXFx4MUJbMzRtJHt0ZXh0fVxceDFCWzBtYDtcbn1cbmZ1bmN0aW9uIGdyYXkodGV4dCkge1xuICByZXR1cm4gYFxceDFCWzkwbSR7dGV4dH1cXHgxQlswbWA7XG59XG5mdW5jdGlvbiByZWQodGV4dCkge1xuICByZXR1cm4gYFxceDFCWzMxbSR7dGV4dH1cXHgxQlswbWA7XG59XG5mdW5jdGlvbiBncmVlbih0ZXh0KSB7XG4gIHJldHVybiBgXFx4MUJbMzJtJHt0ZXh0fVxceDFCWzBtYDtcbn1cbnZhciBJU19OT0RFID0gaXNOb2RlUHJvY2VzcygpO1xudmFyIExvZ2dlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wcmVmaXggPSBgWyR7dGhpcy5uYW1lfV1gO1xuICAgIGNvbnN0IExPR0dFUl9OQU1FID0gZ2V0VmFyaWFibGUoXCJERUJVR1wiKTtcbiAgICBjb25zdCBMT0dHRVJfTEVWRUwgPSBnZXRWYXJpYWJsZShcIkxPR19MRVZFTFwiKTtcbiAgICBjb25zdCBpc0xvZ2dpbmdFbmFibGVkID0gTE9HR0VSX05BTUUgPT09IFwiMVwiIHx8IExPR0dFUl9OQU1FID09PSBcInRydWVcIiB8fCB0eXBlb2YgTE9HR0VSX05BTUUgIT09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5uYW1lLnN0YXJ0c1dpdGgoTE9HR0VSX05BTUUpO1xuICAgIGlmIChpc0xvZ2dpbmdFbmFibGVkKSB7XG4gICAgICB0aGlzLmRlYnVnID0gaXNEZWZpbmVkQW5kTm90RXF1YWxzKExPR0dFUl9MRVZFTCwgXCJkZWJ1Z1wiKSA/IG5vb3AgOiB0aGlzLmRlYnVnO1xuICAgICAgdGhpcy5pbmZvID0gaXNEZWZpbmVkQW5kTm90RXF1YWxzKExPR0dFUl9MRVZFTCwgXCJpbmZvXCIpID8gbm9vcCA6IHRoaXMuaW5mbztcbiAgICAgIHRoaXMuc3VjY2VzcyA9IGlzRGVmaW5lZEFuZE5vdEVxdWFscyhMT0dHRVJfTEVWRUwsIFwic3VjY2Vzc1wiKSA/IG5vb3AgOiB0aGlzLnN1Y2Nlc3M7XG4gICAgICB0aGlzLndhcm5pbmcgPSBpc0RlZmluZWRBbmROb3RFcXVhbHMoTE9HR0VSX0xFVkVMLCBcIndhcm5pbmdcIikgPyBub29wIDogdGhpcy53YXJuaW5nO1xuICAgICAgdGhpcy5lcnJvciA9IGlzRGVmaW5lZEFuZE5vdEVxdWFscyhMT0dHRVJfTEVWRUwsIFwiZXJyb3JcIikgPyBub29wIDogdGhpcy5lcnJvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmZvID0gbm9vcDtcbiAgICAgIHRoaXMuc3VjY2VzcyA9IG5vb3A7XG4gICAgICB0aGlzLndhcm5pbmcgPSBub29wO1xuICAgICAgdGhpcy5lcnJvciA9IG5vb3A7XG4gICAgICB0aGlzLm9ubHkgPSBub29wO1xuICAgIH1cbiAgfVxuICBwcmVmaXg7XG4gIGV4dGVuZChkb21haW4pIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcihgJHt0aGlzLm5hbWV9OiR7ZG9tYWlufWApO1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhIGRlYnVnIG1lc3NhZ2UuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci5kZWJ1Zygnbm8gZHVwbGljYXRlcyBmb3VuZCwgY3JlYXRpbmcgYSBkb2N1bWVudC4uLicpXG4gICAqL1xuICBkZWJ1ZyhtZXNzYWdlLCAuLi5wb3NpdGlvbmFscykge1xuICAgIHRoaXMubG9nRW50cnkoe1xuICAgICAgbGV2ZWw6IFwiZGVidWdcIixcbiAgICAgIG1lc3NhZ2U6IGdyYXkobWVzc2FnZSksXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgsXG4gICAgICBjb2xvcnM6IHtcbiAgICAgICAgcHJlZml4OiBcImdyYXlcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhbiBpbmZvIG1lc3NhZ2UuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci5pbmZvKCdzdGFydCBwYXJzaW5nLi4uJylcbiAgICovXG4gIGluZm8obWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcImluZm9cIixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgsXG4gICAgICBjb2xvcnM6IHtcbiAgICAgICAgcHJlZml4OiBcImJsdWVcIlxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHBlcmZvcm1hbmNlMiA9IG5ldyBQZXJmb3JtYW5jZUVudHJ5KCk7XG4gICAgcmV0dXJuIChtZXNzYWdlMiwgLi4ucG9zaXRpb25hbHMyKSA9PiB7XG4gICAgICBwZXJmb3JtYW5jZTIubWVhc3VyZSgpO1xuICAgICAgdGhpcy5sb2dFbnRyeSh7XG4gICAgICAgIGxldmVsOiBcImluZm9cIixcbiAgICAgICAgbWVzc2FnZTogYCR7bWVzc2FnZTJ9ICR7Z3JheShgJHtwZXJmb3JtYW5jZTIuZGVsdGFUaW1lfW1zYCl9YCxcbiAgICAgICAgcG9zaXRpb25hbHM6IHBvc2l0aW9uYWxzMixcbiAgICAgICAgcHJlZml4OiB0aGlzLnByZWZpeCxcbiAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgcHJlZml4OiBcImJsdWVcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhIHN1Y2Nlc3MgbWVzc2FnZS5cbiAgICogQGV4YW1wbGVcbiAgICogbG9nZ2VyLnN1Y2Nlc3MoJ3N1Y2Nlc3NmdWxseSBjcmVhdGVkIGRvY3VtZW50JylcbiAgICovXG4gIHN1Y2Nlc3MobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcImluZm9cIixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogYFxcdTI3MTQgJHt0aGlzLnByZWZpeH1gLFxuICAgICAgY29sb3JzOiB7XG4gICAgICAgIHRpbWVzdGFtcDogXCJncmVlblwiLFxuICAgICAgICBwcmVmaXg6IFwiZ3JlZW5cIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhIHdhcm5pbmcuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci53YXJuaW5nKCdmb3VuZCBsZWdhY3kgZG9jdW1lbnQgZm9ybWF0JylcbiAgICovXG4gIHdhcm5pbmcobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcIndhcm5pbmdcIixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogYFxcdTI2QTAgJHt0aGlzLnByZWZpeH1gLFxuICAgICAgY29sb3JzOiB7XG4gICAgICAgIHRpbWVzdGFtcDogXCJ5ZWxsb3dcIixcbiAgICAgICAgcHJlZml4OiBcInllbGxvd1wiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByaW50IGFuIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci5lcnJvcignc29tZXRoaW5nIHdlbnQgd3JvbmcnKVxuICAgKi9cbiAgZXJyb3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcImVycm9yXCIsXG4gICAgICBtZXNzYWdlLFxuICAgICAgcG9zaXRpb25hbHMsXG4gICAgICBwcmVmaXg6IGBcXHUyNzE2ICR7dGhpcy5wcmVmaXh9YCxcbiAgICAgIGNvbG9yczoge1xuICAgICAgICB0aW1lc3RhbXA6IFwicmVkXCIsXG4gICAgICAgIHByZWZpeDogXCJyZWRcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBnaXZlbiBjYWxsYmFjayBvbmx5IHdoZW4gdGhlIGxvZ2dpbmcgaXMgZW5hYmxlZC5cbiAgICogVGhpcyBpcyBza2lwcGVkIGluIGl0cyBlbnRpcmV0eSBhbmQgaGFzIG5vIHJ1bnRpbWUgY29zdCBvdGhlcndpc2UuXG4gICAqIFRoaXMgZXhlY3V0ZXMgcmVnYXJkbGVzcyBvZiB0aGUgbG9nIGxldmVsLlxuICAgKiBAZXhhbXBsZVxuICAgKiBsb2dnZXIub25seSgoKSA9PiB7XG4gICAqICAgbG9nZ2VyLmluZm8oJ2FkZGl0aW9uYWwgaW5mbycpXG4gICAqIH0pXG4gICAqL1xuICBvbmx5KGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuICBjcmVhdGVFbnRyeShsZXZlbCwgbWVzc2FnZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aW1lc3RhbXA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgbGV2ZWwsXG4gICAgICBtZXNzYWdlXG4gICAgfTtcbiAgfVxuICBsb2dFbnRyeShhcmdzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbGV2ZWwsXG4gICAgICBtZXNzYWdlLFxuICAgICAgcHJlZml4LFxuICAgICAgY29sb3JzOiBjdXN0b21Db2xvcnMsXG4gICAgICBwb3NpdGlvbmFscyA9IFtdXG4gICAgfSA9IGFyZ3M7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZUVudHJ5KGxldmVsLCBtZXNzYWdlKTtcbiAgICBjb25zdCB0aW1lc3RhbXBDb2xvciA9IGN1c3RvbUNvbG9ycz8udGltZXN0YW1wIHx8IFwiZ3JheVwiO1xuICAgIGNvbnN0IHByZWZpeENvbG9yID0gY3VzdG9tQ29sb3JzPy5wcmVmaXggfHwgXCJncmF5XCI7XG4gICAgY29uc3QgY29sb3JpemUgPSB7XG4gICAgICB0aW1lc3RhbXA6IGNvbG9yc19leHBvcnRzW3RpbWVzdGFtcENvbG9yXSxcbiAgICAgIHByZWZpeDogY29sb3JzX2V4cG9ydHNbcHJlZml4Q29sb3JdXG4gICAgfTtcbiAgICBjb25zdCB3cml0ZSA9IHRoaXMuZ2V0V3JpdGVyKGxldmVsKTtcbiAgICB3cml0ZShcbiAgICAgIFtjb2xvcml6ZS50aW1lc3RhbXAodGhpcy5mb3JtYXRUaW1lc3RhbXAoZW50cnkudGltZXN0YW1wKSldLmNvbmNhdChwcmVmaXggIT0gbnVsbCA/IGNvbG9yaXplLnByZWZpeChwcmVmaXgpIDogW10pLmNvbmNhdChzZXJpYWxpemVJbnB1dChtZXNzYWdlKSkuam9pbihcIiBcIiksXG4gICAgICAuLi5wb3NpdGlvbmFscy5tYXAoc2VyaWFsaXplSW5wdXQpXG4gICAgKTtcbiAgfVxuICBmb3JtYXRUaW1lc3RhbXAodGltZXN0YW1wKSB7XG4gICAgcmV0dXJuIGAke3RpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoXG4gICAgICBcImVuLUdCXCJcbiAgICApfToke3RpbWVzdGFtcC5nZXRNaWxsaXNlY29uZHMoKX1gO1xuICB9XG4gIGdldFdyaXRlcihsZXZlbCkge1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgXCJkZWJ1Z1wiOlxuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgIGNhc2UgXCJpbmZvXCI6IHtcbiAgICAgICAgcmV0dXJuIGxvZztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ3YXJuaW5nXCI6IHtcbiAgICAgICAgcmV0dXJuIHdhcm47XG4gICAgICB9XG4gICAgICBjYXNlIFwiZXJyb3JcIjoge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xudmFyIFBlcmZvcm1hbmNlRW50cnkgPSBjbGFzcyB7XG4gIHN0YXJ0VGltZTtcbiAgZW5kVGltZTtcbiAgZGVsdGFUaW1lO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICB9XG4gIG1lYXN1cmUoKSB7XG4gICAgdGhpcy5lbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgZGVsdGFUaW1lID0gdGhpcy5lbmRUaW1lIC0gdGhpcy5zdGFydFRpbWU7XG4gICAgdGhpcy5kZWx0YVRpbWUgPSBkZWx0YVRpbWUudG9GaXhlZCgyKTtcbiAgfVxufTtcbnZhciBub29wID0gKCkgPT4gdm9pZCAwO1xuZnVuY3Rpb24gbG9nKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSB7XG4gIGlmIChJU19OT0RFKSB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoZm9ybWF0KG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSArIFwiXFxuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmxvZyhtZXNzYWdlLCAuLi5wb3NpdGlvbmFscyk7XG59XG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSB7XG4gIGlmIChJU19OT0RFKSB7XG4gICAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoZm9ybWF0KG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSArIFwiXFxuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLndhcm4obWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpO1xufVxuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgaWYgKElTX05PREUpIHtcbiAgICBwcm9jZXNzLnN0ZGVyci53cml0ZShmb3JtYXQobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpICsgXCJcXG5cIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpO1xufVxuZnVuY3Rpb24gZ2V0VmFyaWFibGUodmFyaWFibGVOYW1lKSB7XG4gIGlmIChJU19OT0RFKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52W3ZhcmlhYmxlTmFtZV07XG4gIH1cbiAgcmV0dXJuIGdsb2JhbFRoaXNbdmFyaWFibGVOYW1lXT8udG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIGlzRGVmaW5lZEFuZE5vdEVxdWFscyh2YWx1ZSwgZXhwZWN0ZWQpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2b2lkIDAgJiYgdmFsdWUgIT09IGV4cGVjdGVkO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplSW5wdXQobWVzc2FnZSkge1xuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgfVxuICBpZiAobWVzc2FnZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2UudG9TdHJpbmcoKTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL3N0cmljdC1ldmVudC1lbWl0dGVyQDAuNS4xL25vZGVfbW9kdWxlcy9zdHJpY3QtZXZlbnQtZW1pdHRlci9saWIvaW5kZXgubWpzXG52YXIgTWVtb3J5TGVha0Vycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGVtaXR0ZXIsIHR5cGUsIGNvdW50KSB7XG4gICAgc3VwZXIoXG4gICAgICBgUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAke2NvdW50fSAke3R5cGUudG9TdHJpbmcoKX0gbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdGBcbiAgICApO1xuICAgIHRoaXMuZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgdGhpcy5uYW1lID0gXCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIjtcbiAgfVxufTtcbnZhciBfRW1pdHRlciA9IGNsYXNzIHtcbiAgc3RhdGljIGxpc3RlbmVyQ291bnQoZW1pdHRlciwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudChldmVudE5hbWUpO1xuICB9XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZXZlbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLm1heExpc3RlbmVycyA9IF9FbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgdGhpcy5oYXNXYXJuZWRBYm91dFBvdGVudGlhbE1lbW9yeUxlYWsgPSBmYWxzZTtcbiAgfVxuICBfZW1pdEludGVybmFsRXZlbnQoaW50ZXJuYWxFdmVudE5hbWUsIGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLmVtaXQoXG4gICAgICBpbnRlcm5hbEV2ZW50TmFtZSxcbiAgICAgIC4uLltldmVudE5hbWUsIGxpc3RlbmVyXVxuICAgICk7XG4gIH1cbiAgX2dldExpc3RlbmVycyhldmVudE5hbWUpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgdGhpcy5ldmVudHMuZ2V0KGV2ZW50TmFtZSkpIHx8IFtdO1xuICB9XG4gIF9yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcnMsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgX3dyYXBPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IG9uY2VMaXN0ZW5lciA9ICguLi5kYXRhKSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgb25jZUxpc3RlbmVyKTtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh0aGlzLCBkYXRhKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvbmNlTGlzdGVuZXIsIFwibmFtZVwiLCB7IHZhbHVlOiBsaXN0ZW5lci5uYW1lIH0pO1xuICAgIHJldHVybiBvbmNlTGlzdGVuZXI7XG4gIH1cbiAgc2V0TWF4TGlzdGVuZXJzKG1heExpc3RlbmVycykge1xuICAgIHRoaXMubWF4TGlzdGVuZXJzID0gbWF4TGlzdGVuZXJzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IG1heCBsaXN0ZW5lciB2YWx1ZSBmb3IgdGhlIGBFbWl0dGVyYCB3aGljaCBpc1xuICAgKiBlaXRoZXIgc2V0IGJ5IGBlbWl0dGVyLnNldE1heExpc3RlbmVycyhuKWAgb3IgZGVmYXVsdHMgdG9cbiAgICogYEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVyc2AuXG4gICAqL1xuICBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4TGlzdGVuZXJzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICAgKiBUaGUgdmFsdWVzIGluIHRoZSBhcnJheSB3aWxsIGJlIHN0cmluZ3Mgb3IgU3ltYm9scy5cbiAgICovXG4gIGV2ZW50TmFtZXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5ldmVudHMua2V5cygpKTtcbiAgfVxuICAvKipcbiAgICogU3luY2hyb25vdXNseSBjYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgdGhlIGV2ZW50IG5hbWVkIGBldmVudE5hbWVgLFxuICAgKiBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHJlZ2lzdGVyZWQsIHBhc3NpbmcgdGhlIHN1cHBsaWVkIGFyZ3VtZW50cyB0byBlYWNoLlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFzIGxpc3RlbmVycywgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcjx7IGhlbGxvOiBbc3RyaW5nXSB9PigpXG4gICAqIGVtaXR0ZXIuZW1pdCgnaGVsbG8nLCAnSm9obicpXG4gICAqL1xuICBlbWl0KGV2ZW50TmFtZSwgLi4uZGF0YSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudE5hbWUpO1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgZGF0YSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGggPiAwO1xuICB9XG4gIGFkZExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLl9lbWl0SW50ZXJuYWxFdmVudChcIm5ld0xpc3RlbmVyXCIsIGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgIGNvbnN0IG5leHRMaXN0ZW5lcnMgPSB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnROYW1lKS5jb25jYXQobGlzdGVuZXIpO1xuICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsIG5leHRMaXN0ZW5lcnMpO1xuICAgIGlmICh0aGlzLm1heExpc3RlbmVycyA+IDAgJiYgdGhpcy5saXN0ZW5lckNvdW50KGV2ZW50TmFtZSkgPiB0aGlzLm1heExpc3RlbmVycyAmJiAhdGhpcy5oYXNXYXJuZWRBYm91dFBvdGVudGlhbE1lbW9yeUxlYWspIHtcbiAgICAgIHRoaXMuaGFzV2FybmVkQWJvdXRQb3RlbnRpYWxNZW1vcnlMZWFrID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG1lbW9yeUxlYWtXYXJuaW5nID0gbmV3IE1lbW9yeUxlYWtFcnJvcihcbiAgICAgICAgdGhpcyxcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICB0aGlzLmxpc3RlbmVyQ291bnQoZXZlbnROYW1lKVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUud2FybihtZW1vcnlMZWFrV2FybmluZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgfVxuICBvbmNlKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihcbiAgICAgIGV2ZW50TmFtZSxcbiAgICAgIHRoaXMuX3dyYXBPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcilcbiAgICApO1xuICB9XG4gIHByZXBlbmRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50TmFtZSk7XG4gICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBuZXh0TGlzdGVuZXJzID0gW2xpc3RlbmVyXS5jb25jYXQobGlzdGVuZXJzKTtcbiAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsIG5leHRMaXN0ZW5lcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV2ZW50cy5zZXQoZXZlbnROYW1lLCBsaXN0ZW5lcnMuY29uY2F0KGxpc3RlbmVyKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHByZXBlbmRPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIHJldHVybiB0aGlzLnByZXBlbmRMaXN0ZW5lcihcbiAgICAgIGV2ZW50TmFtZSxcbiAgICAgIHRoaXMuX3dyYXBPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcilcbiAgICApO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnROYW1lKTtcbiAgICBpZiAobGlzdGVuZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyKGxpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgICAgdGhpcy5ldmVudHMuc2V0KGV2ZW50TmFtZSwgbGlzdGVuZXJzKTtcbiAgICAgIHRoaXMuX2VtaXRJbnRlcm5hbEV2ZW50KFwicmVtb3ZlTGlzdGVuZXJcIiwgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgYGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoKWAuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVtaXR0ZXIub2ZmKCdoZWxsbycsIGxpc3RlbmVyKVxuICAgKi9cbiAgb2ZmKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgfVxuICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgdGhpcy5ldmVudHMuZGVsZXRlKGV2ZW50TmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXZlbnRzLmNsZWFyKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzIGZvciB0aGUgZXZlbnQgbmFtZWQgYGV2ZW50TmFtZWAuXG4gICAqL1xuICBsaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50TmFtZSkpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byB0aGUgZXZlbnQgbmFtZWQgYGV2ZW50TmFtZWAuXG4gICAqL1xuICBsaXN0ZW5lckNvdW50KGV2ZW50TmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnROYW1lKS5sZW5ndGg7XG4gIH1cbiAgcmF3TGlzdGVuZXJzKGV2ZW50TmFtZSkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVycyhldmVudE5hbWUpO1xuICB9XG59O1xudmFyIEVtaXR0ZXIgPSBfRW1pdHRlcjtcbkVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG1zd2pzK2ludGVyY2VwdG9yc0AwLjM5LjEvbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL2Jyb3dzZXIvY2h1bmstUUVEM1E2WjIubWpzXG52YXIgSU5URVJOQUxfUkVRVUVTVF9JRF9IRUFERVJfTkFNRSA9IFwieC1pbnRlcmNlcHRvcnMtaW50ZXJuYWwtcmVxdWVzdC1pZFwiO1xuZnVuY3Rpb24gZ2V0R2xvYmFsU3ltYm9sKHN5bWJvbCkge1xuICByZXR1cm4gKFxuICAgIC8vIEB0cy1pZ25vcmUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4N1xuICAgIGdsb2JhbFRoaXNbc3ltYm9sXSB8fCB2b2lkIDBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNldEdsb2JhbFN5bWJvbChzeW1ib2wsIHZhbHVlKSB7XG4gIGdsb2JhbFRoaXNbc3ltYm9sXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gZGVsZXRlR2xvYmFsU3ltYm9sKHN5bWJvbCkge1xuICBkZWxldGUgZ2xvYmFsVGhpc1tzeW1ib2xdO1xufVxudmFyIEludGVyY2VwdG9yID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihzeW1ib2wpIHtcbiAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIklOQUNUSVZFXCI7XG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoc3ltYm9sLmRlc2NyaXB0aW9uKTtcbiAgICB0aGlzLmVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKDApO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJjb25zdHJ1Y3RpbmcgdGhlIGludGVyY2VwdG9yLi4uXCIpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgdGhpcyBpbnRlcmNlcHRvciBjYW4gYmUgYXBwbGllZFxuICAgKiBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cbiAgICovXG4gIGNoZWNrRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGx5IHRoaXMgaW50ZXJjZXB0b3IgdG8gdGhlIGN1cnJlbnQgcHJvY2Vzcy5cbiAgICogUmV0dXJucyBhbiBhbHJlYWR5IHJ1bm5pbmcgaW50ZXJjZXB0b3IgaW5zdGFuY2UgaWYgaXQncyBwcmVzZW50LlxuICAgKi9cbiAgYXBwbHkoKSB7XG4gICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuZXh0ZW5kKFwiYXBwbHlcIik7XG4gICAgbG9nZ2VyLmluZm8oXCJhcHBseWluZyB0aGUgaW50ZXJjZXB0b3IuLi5cIik7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJBUFBMSUVEXCIpIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiaW50ZXJjZXB0ZWQgYWxyZWFkeSBhcHBsaWVkIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkQXBwbHkgPSB0aGlzLmNoZWNrRW52aXJvbm1lbnQoKTtcbiAgICBpZiAoIXNob3VsZEFwcGx5KSB7XG4gICAgICBsb2dnZXIuaW5mbyhcInRoZSBpbnRlcmNlcHRvciBjYW5ub3QgYmUgYXBwbGllZCBpbiB0aGlzIGVudmlyb25tZW50IVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJBUFBMWUlOR1wiO1xuICAgIGNvbnN0IHJ1bm5pbmdJbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAocnVubmluZ0luc3RhbmNlKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImZvdW5kIGEgcnVubmluZyBpbnN0YW5jZSwgcmV1c2luZy4uLlwiKTtcbiAgICAgIHRoaXMub24gPSAoZXZlbnQsIGxpc3RlbmVyKSA9PiB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdwcm94eWluZyB0aGUgXCIlc1wiIGxpc3RlbmVyJywgZXZlbnQpO1xuICAgICAgICBydW5uaW5nSW5zdGFuY2UuZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgcnVubmluZ0luc3RhbmNlLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgICBsb2dnZXIuaW5mbygncmVtb3ZlZCBwcm94aWVkIFwiJXNcIiBsaXN0ZW5lciEnLCBldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIkFQUExJRURcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmluZm8oXCJubyBydW5uaW5nIGluc3RhbmNlIGZvdW5kLCBzZXR0aW5nIHVwIGEgbmV3IGluc3RhbmNlLi4uXCIpO1xuICAgIHRoaXMuc2V0dXAoKTtcbiAgICB0aGlzLnNldEluc3RhbmNlKCk7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJBUFBMSUVEXCI7XG4gIH1cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBtb2R1bGUgYXVnbWVudHMgYW5kIHN0dWJzIG5lY2Vzc2FyeSBmb3IgdGhpcyBpbnRlcmNlcHRvci5cbiAgICogVGhpcyBtZXRob2QgaXMgbm90IHJ1biBpZiB0aGVyZSdzIGEgcnVubmluZyBpbnRlcmNlcHRvciBpbnN0YW5jZVxuICAgKiB0byBwcmV2ZW50IGluc3RhbnRpYXRpbmcgYW4gaW50ZXJjZXB0b3IgbXVsdGlwbGUgdGltZXMuXG4gICAqL1xuICBzZXR1cCgpIHtcbiAgfVxuICAvKipcbiAgICogTGlzdGVuIHRvIHRoZSBpbnRlcmNlcHRvcidzIHB1YmxpYyBldmVudHMuXG4gICAqL1xuICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5leHRlbmQoXCJvblwiKTtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIkRJU1BPU0lOR1wiIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJESVNQT1NFRFwiKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImNhbm5vdCBsaXN0ZW4gdG8gZXZlbnRzLCBhbHJlYWR5IGRpc3Bvc2VkIVwiKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsb2dnZXIuaW5mbygnYWRkaW5nIFwiJXNcIiBldmVudCBsaXN0ZW5lcjonLCBldmVudCwgbGlzdGVuZXIpO1xuICAgIHRoaXMuZW1pdHRlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5lbWl0dGVyLm9uY2UoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5lbWl0dGVyLm9mZihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICAgIHRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEaXNwb3NlcyBvZiBhbnkgc2lkZS1lZmZlY3RzIHRoaXMgaW50ZXJjZXB0b3IgaGFzIGludHJvZHVjZWQuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcImRpc3Bvc2VcIik7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJESVNQT1NFRFwiKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImNhbm5vdCBkaXNwb3NlLCBhbHJlYWR5IGRpc3Bvc2VkIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmluZm8oXCJkaXNwb3NpbmcgdGhlIGludGVyY2VwdG9yLi4uXCIpO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiRElTUE9TSU5HXCI7XG4gICAgaWYgKCF0aGlzLmdldEluc3RhbmNlKCkpIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwibm8gaW50ZXJjZXB0b3JzIHJ1bm5pbmcsIHNraXBwaW5nIGRpc3Bvc2UuLi5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xlYXJJbnN0YW5jZSgpO1xuICAgIGxvZ2dlci5pbmZvKFwiZ2xvYmFsIHN5bWJvbCBkZWxldGVkOlwiLCBnZXRHbG9iYWxTeW1ib2wodGhpcy5zeW1ib2wpKTtcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiZGlzcG9zaW5nIG9mICVkIHN1YnNjcmlwdGlvbnMuLi5cIiwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCk7XG4gICAgICBmb3IgKGNvbnN0IGRpc3Bvc2Ugb2YgdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgbG9nZ2VyLmluZm8oXCJkaXNwb3NlZCBvZiBhbGwgc3Vic2NyaXB0aW9ucyFcIiwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBsb2dnZXIuaW5mbyhcImRlc3Ryb3llZCB0aGUgbGlzdGVuZXIhXCIpO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiRElTUE9TRURcIjtcbiAgfVxuICBnZXRJbnN0YW5jZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRHbG9iYWxTeW1ib2wodGhpcy5zeW1ib2wpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXRyaWV2ZWQgZ2xvYmFsIGluc3RhbmNlOlwiLCAoX2EgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UuY29uc3RydWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgc2V0SW5zdGFuY2UoKSB7XG4gICAgc2V0R2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sLCB0aGlzKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwic2V0IGdsb2JhbCBpbnN0YW5jZSFcIiwgdGhpcy5zeW1ib2wuZGVzY3JpcHRpb24pO1xuICB9XG4gIGNsZWFySW5zdGFuY2UoKSB7XG4gICAgZGVsZXRlR2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwiY2xlYXJlZCBnbG9iYWwgaW5zdGFuY2UhXCIsIHRoaXMuc3ltYm9sLmRlc2NyaXB0aW9uKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RJZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIpO1xufVxuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG1zd2pzK2ludGVyY2VwdG9yc0AwLjM5LjEvbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL2Jyb3dzZXIvaW5kZXgubWpzXG52YXIgQmF0Y2hJbnRlcmNlcHRvciA9IGNsYXNzIGV4dGVuZHMgSW50ZXJjZXB0b3Ige1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgQmF0Y2hJbnRlcmNlcHRvci5zeW1ib2wgPSBTeW1ib2wob3B0aW9ucy5uYW1lKTtcbiAgICBzdXBlcihCYXRjaEludGVyY2VwdG9yLnN5bWJvbCk7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMgPSBvcHRpb25zLmludGVyY2VwdG9ycztcbiAgfVxuICBzZXR1cCgpIHtcbiAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5leHRlbmQoXCJzZXR1cFwiKTtcbiAgICBsb2dnZXIuaW5mbyhcImFwcGx5aW5nIGFsbCAlZCBpbnRlcmNlcHRvcnMuLi5cIiwgdGhpcy5pbnRlcmNlcHRvcnMubGVuZ3RoKTtcbiAgICBmb3IgKGNvbnN0IGludGVyY2VwdG9yIG9mIHRoaXMuaW50ZXJjZXB0b3JzKSB7XG4gICAgICBsb2dnZXIuaW5mbygnYXBwbHlpbmcgXCIlc1wiIGludGVyY2VwdG9yLi4uJywgaW50ZXJjZXB0b3IuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICBpbnRlcmNlcHRvci5hcHBseSgpO1xuICAgICAgbG9nZ2VyLmluZm8oXCJhZGRpbmcgaW50ZXJjZXB0b3IgZGlzcG9zZSBzdWJzY3JpcHRpb25cIik7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiBpbnRlcmNlcHRvci5kaXNwb3NlKCkpO1xuICAgIH1cbiAgfVxuICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyY2VwdG9yIG9mIHRoaXMuaW50ZXJjZXB0b3JzKSB7XG4gICAgICBpbnRlcmNlcHRvci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvbmNlKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGZvciAoY29uc3QgaW50ZXJjZXB0b3Igb2YgdGhpcy5pbnRlcmNlcHRvcnMpIHtcbiAgICAgIGludGVyY2VwdG9yLm9uY2UoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGZvciAoY29uc3QgaW50ZXJjZXB0b3Igb2YgdGhpcy5pbnRlcmNlcHRvcnMpIHtcbiAgICAgIGludGVyY2VwdG9yLm9mZihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyY2VwdG9ycyBvZiB0aGlzLmludGVyY2VwdG9ycykge1xuICAgICAgaW50ZXJjZXB0b3JzLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC9jcmVhdGVSZXNwb25zZUxpc3RlbmVyLnRzXG5mdW5jdGlvbiBjcmVhdGVSZXNwb25zZUxpc3RlbmVyKGNvbnRleHQpIHtcbiAgcmV0dXJuIChfLCBtZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgeyBwYXlsb2FkOiByZXNwb25zZUpzb24gfSA9IG1lc3NhZ2U7XG4gICAgY29uc3QgcmVxdWVzdCA9IGRlc2VyaWFsaXplUmVxdWVzdChyZXNwb25zZUpzb24ucmVxdWVzdCk7XG4gICAgaWYgKHJlc3BvbnNlSnNvbi5yZXNwb25zZS50eXBlPy5pbmNsdWRlcyhcIm9wYXF1ZVwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlSnNvbi5yZXNwb25zZS5zdGF0dXMgPT09IDAgPyBSZXNwb25zZS5lcnJvcigpIDogbmV3IEZldGNoUmVzcG9uc2UoXG4gICAgICAvKipcbiAgICAgICAqIFJlc3BvbnNlcyBtYXkgYmUgc3RyZWFtcyBoZXJlLCBidXQgd2hlbiB3ZSBjcmVhdGUgYSByZXNwb25zZSBvYmplY3RcbiAgICAgICAqIHdpdGggbnVsbC1ib2R5IHN0YXR1cyBjb2RlcywgbGlrZSAyMDQsIDIwNSwgMzA0IFJlc3BvbnNlIHdpbGxcbiAgICAgICAqIHRocm93IHdoZW4gcGFzc2VkIGEgbm9uLW51bGwgYm9keSwgc28gZW5zdXJlIGl0J3MgbnVsbCBoZXJlXG4gICAgICAgKiBmb3IgdGhvc2UgY29kZXNcbiAgICAgICAqL1xuICAgICAgRmV0Y2hSZXNwb25zZS5pc1Jlc3BvbnNlV2l0aEJvZHkocmVzcG9uc2VKc29uLnJlc3BvbnNlLnN0YXR1cykgPyByZXNwb25zZUpzb24ucmVzcG9uc2UuYm9keSA6IG51bGwsXG4gICAgICB7XG4gICAgICAgIC4uLnJlc3BvbnNlSnNvbixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCByZXNwb25zZSBVUkwgaWYgaXQncyBub3Qgc2V0IGFscmVhZHkuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21zd2pzL21zdy9pc3N1ZXMvMjAzMFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXNwb25zZS91cmxcbiAgICAgICAgICovXG4gICAgICAgIHVybDogcmVxdWVzdC51cmxcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnRleHQuZW1pdHRlci5lbWl0KFxuICAgICAgcmVzcG9uc2VKc29uLmlzTW9ja2VkUmVzcG9uc2UgPyBcInJlc3BvbnNlOm1vY2tlZFwiIDogXCJyZXNwb25zZTpieXBhc3NcIixcbiAgICAgIHtcbiAgICAgICAgcmVxdWVzdElkOiByZXNwb25zZUpzb24ucmVxdWVzdC5pZCxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVzcG9uc2VcbiAgICAgIH1cbiAgICApO1xuICB9O1xufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC91dGlscy92YWxpZGF0ZVdvcmtlclNjb3BlLnRzXG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczYgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZVdvcmtlclNjb3BlKHJlZ2lzdHJhdGlvbiwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnM/LnF1aWV0ICYmICFsb2NhdGlvbi5ocmVmLnN0YXJ0c1dpdGgocmVnaXN0cmF0aW9uLnNjb3BlKSkge1xuICAgIGRldlV0aWxzNi53YXJuKFxuICAgICAgYENhbm5vdCBpbnRlcmNlcHQgcmVxdWVzdHMgb24gdGhpcyBwYWdlIGJlY2F1c2UgaXQncyBvdXRzaWRlIG9mIHRoZSB3b3JrZXIncyBzY29wZSAoXCIke3JlZ2lzdHJhdGlvbi5zY29wZX1cIikuIElmIHlvdSB3aXNoIHRvIG1vY2sgQVBJIHJlcXVlc3RzIG9uIHRoaXMgcGFnZSwgeW91IG11c3QgcmVzb2x2ZSB0aGlzIHNjb3BlIGlzc3VlLlxuXG4tIChSZWNvbW1lbmRlZCkgUmVnaXN0ZXIgdGhlIHdvcmtlciBhdCB0aGUgcm9vdCBsZXZlbCAoXCIvXCIpIG9mIHlvdXIgYXBwbGljYXRpb24uXG4tIFNldCB0aGUgXCJTZXJ2aWNlLVdvcmtlci1BbGxvd2VkXCIgcmVzcG9uc2UgaGVhZGVyIHRvIGFsbG93IG91dC1vZi1zY29wZSB3b3JrZXJzLmBcbiAgICApO1xuICB9XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L2NyZWF0ZVN0YXJ0SGFuZGxlci50c1xudmFyIGNyZWF0ZVN0YXJ0SGFuZGxlciA9IChjb250ZXh0KSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBzdGFydChvcHRpb25zLCBjdXN0b21PcHRpb25zKSB7XG4gICAgY29uc3Qgc3RhcnRXb3JrZXJJbnN0YW5jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnRleHQuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgY29udGV4dC53b3JrZXJDaGFubmVsLm9uKFxuICAgICAgICBcIlJFUVVFU1RcIixcbiAgICAgICAgY3JlYXRlUmVxdWVzdExpc3RlbmVyKGNvbnRleHQsIG9wdGlvbnMpXG4gICAgICApO1xuICAgICAgY29udGV4dC53b3JrZXJDaGFubmVsLm9uKFwiUkVTUE9OU0VcIiwgY3JlYXRlUmVzcG9uc2VMaXN0ZW5lcihjb250ZXh0KSk7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IGdldFdvcmtlckluc3RhbmNlKFxuICAgICAgICBvcHRpb25zLnNlcnZpY2VXb3JrZXIudXJsLFxuICAgICAgICBvcHRpb25zLnNlcnZpY2VXb3JrZXIub3B0aW9ucyxcbiAgICAgICAgb3B0aW9ucy5maW5kV29ya2VyXG4gICAgICApO1xuICAgICAgY29uc3QgW3dvcmtlciwgcmVnaXN0cmF0aW9uXSA9IGluc3RhbmNlO1xuICAgICAgaWYgKCF3b3JrZXIpIHtcbiAgICAgICAgY29uc3QgbWlzc2luZ1dvcmtlck1lc3NhZ2UgPSBjdXN0b21PcHRpb25zPy5maW5kV29ya2VyID8gZGV2VXRpbHM3LmZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgYEZhaWxlZCB0byBsb2NhdGUgdGhlIFNlcnZpY2UgV29ya2VyIHJlZ2lzdHJhdGlvbiB1c2luZyBhIGN1c3RvbSBcImZpbmRXb3JrZXJcIiBwcmVkaWNhdGUuXG5cblBsZWFzZSBlbnN1cmUgdGhhdCB0aGUgY3VzdG9tIHByZWRpY2F0ZSBwcm9wZXJseSBsb2NhdGVzIHRoZSBTZXJ2aWNlIFdvcmtlciByZWdpc3RyYXRpb24gYXQgXCIlc1wiLlxuTW9yZSBkZXRhaWxzOiBodHRwczovL21zd2pzLmlvL2RvY3MvYXBpL3NldHVwLXdvcmtlci9zdGFydCNmaW5kd29ya2VyXG5gLFxuICAgICAgICAgIG9wdGlvbnMuc2VydmljZVdvcmtlci51cmxcbiAgICAgICAgKSA6IGRldlV0aWxzNy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIGBGYWlsZWQgdG8gbG9jYXRlIHRoZSBTZXJ2aWNlIFdvcmtlciByZWdpc3RyYXRpb24uXG5cblRoaXMgbW9zdCBsaWtlbHkgbWVhbnMgdGhhdCB0aGUgd29ya2VyIHNjcmlwdCBVUkwgXCIlc1wiIGNhbm5vdCByZXNvbHZlIGFnYWluc3QgdGhlIGFjdHVhbCBwdWJsaWMgaG9zdG5hbWUgKCVzKS4gVGhpcyBtYXkgaGFwcGVuIGlmIHlvdXIgYXBwbGljYXRpb24gcnVucyBiZWhpbmQgYSBwcm94eSwgb3IgaGFzIGEgZHluYW1pYyBob3N0bmFtZS5cblxuUGxlYXNlIGNvbnNpZGVyIHVzaW5nIGEgY3VzdG9tIFwic2VydmljZVdvcmtlci51cmxcIiBvcHRpb24gdG8gcG9pbnQgdG8gdGhlIGFjdHVhbCB3b3JrZXIgc2NyaXB0IGxvY2F0aW9uLCBvciBhIGN1c3RvbSBcImZpbmRXb3JrZXJcIiBvcHRpb24gdG8gcmVzb2x2ZSB0aGUgU2VydmljZSBXb3JrZXIgcmVnaXN0cmF0aW9uIG1hbnVhbGx5LiBNb3JlIGRldGFpbHM6IGh0dHBzOi8vbXN3anMuaW8vZG9jcy9hcGkvc2V0dXAtd29ya2VyL3N0YXJ0YCxcbiAgICAgICAgICBvcHRpb25zLnNlcnZpY2VXb3JrZXIudXJsLFxuICAgICAgICAgIGxvY2F0aW9uLmhvc3RcbiAgICAgICAgKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1pc3NpbmdXb3JrZXJNZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQud29ya2VyID0gd29ya2VyO1xuICAgICAgY29udGV4dC5yZWdpc3RyYXRpb24gPSByZWdpc3RyYXRpb247XG4gICAgICBjb250ZXh0LmV2ZW50cy5hZGRMaXN0ZW5lcih3aW5kb3csIFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHtcbiAgICAgICAgaWYgKHdvcmtlci5zdGF0ZSAhPT0gXCJyZWR1bmRhbnRcIikge1xuICAgICAgICAgIGNvbnRleHQud29ya2VyQ2hhbm5lbC5zZW5kKFwiQ0xJRU5UX0NMT1NFRFwiKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChjb250ZXh0LmtlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHsgdHlwZTogXCJtc3cvd29ya2VyOnN0b3BcIiB9KTtcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2hlY2tXb3JrZXJJbnRlZ3JpdHkoY29udGV4dCkuY2F0Y2goKGVycm9yMikgPT4ge1xuICAgICAgICBkZXZVdGlsczcuZXJyb3IoXG4gICAgICAgICAgXCJFcnJvciB3aGlsZSBjaGVja2luZyB0aGUgd29ya2VyIHNjcmlwdCBpbnRlZ3JpdHkuIFBsZWFzZSByZXBvcnQgdGhpcyBvbiBHaXRIdWIgKGh0dHBzOi8vZ2l0aHViLmNvbS9tc3dqcy9tc3cvaXNzdWVzKSwgaW5jbHVkaW5nIHRoZSBvcmlnaW5hbCBlcnJvciBiZWxvdy5cIlxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yMik7XG4gICAgICB9KTtcbiAgICAgIGNvbnRleHQua2VlcEFsaXZlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoXG4gICAgICAgICgpID0+IGNvbnRleHQud29ya2VyQ2hhbm5lbC5zZW5kKFwiS0VFUEFMSVZFX1JFUVVFU1RcIiksXG4gICAgICAgIDVlM1xuICAgICAgKTtcbiAgICAgIHZhbGlkYXRlV29ya2VyU2NvcGUocmVnaXN0cmF0aW9uLCBjb250ZXh0LnN0YXJ0T3B0aW9ucyk7XG4gICAgICByZXR1cm4gcmVnaXN0cmF0aW9uO1xuICAgIH07XG4gICAgY29uc3Qgd29ya2VyUmVnaXN0cmF0aW9uID0gc3RhcnRXb3JrZXJJbnN0YW5jZSgpLnRoZW4oXG4gICAgICBhc3luYyAocmVnaXN0cmF0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHBlbmRpbmdJbnN0YW5jZSA9IHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nIHx8IHJlZ2lzdHJhdGlvbi53YWl0aW5nO1xuICAgICAgICBpZiAocGVuZGluZ0luc3RhbmNlKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHBlbmRpbmdJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAocGVuZGluZ0luc3RhbmNlLnN0YXRlID09PSBcImFjdGl2YXRlZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgZW5hYmxlTW9ja2luZyhjb250ZXh0LCBvcHRpb25zKS5jYXRjaCgoZXJyb3IyKSA9PiB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZW5hYmxlIG1vY2tpbmc6ICR7ZXJyb3IyPy5tZXNzYWdlfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbjtcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB3b3JrZXJSZWdpc3RyYXRpb247XG4gIH07XG59O1xuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdG9wL2NyZWF0ZVN0b3AudHNcbmltcG9ydCB7IGRldlV0aWxzIGFzIGRldlV0aWxzOSB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RvcC91dGlscy9wcmludFN0b3BNZXNzYWdlLnRzXG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczggfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5mdW5jdGlvbiBwcmludFN0b3BNZXNzYWdlKGFyZ3MgPSB7fSkge1xuICBpZiAoYXJncy5xdWlldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmxvZyhcbiAgICBgJWMke2RldlV0aWxzOC5mb3JtYXRNZXNzYWdlKFwiTW9ja2luZyBkaXNhYmxlZC5cIil9YCxcbiAgICBcImNvbG9yOm9yYW5nZXJlZDtmb250LXdlaWdodDpib2xkO1wiXG4gICk7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0b3AvY3JlYXRlU3RvcC50c1xudmFyIGNyZWF0ZVN0b3AgPSAoY29udGV4dCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBpZiAoIWNvbnRleHQuaXNNb2NraW5nRW5hYmxlZCkge1xuICAgICAgZGV2VXRpbHM5Lndhcm4oXG4gICAgICAgICdGb3VuZCBhIHJlZHVuZGFudCBcIndvcmtlci5zdG9wKClcIiBjYWxsLiBOb3RlIHRoYXQgc3RvcHBpbmcgdGhlIHdvcmtlciB3aGlsZSBtb2NraW5nIGFscmVhZHkgc3RvcHBlZCBoYXMgbm8gZWZmZWN0LiBDb25zaWRlciByZW1vdmluZyB0aGlzIFwid29ya2VyLnN0b3AoKVwiIGNhbGwuJ1xuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGV4dC53b3JrZXJDaGFubmVsLnNlbmQoXCJNT0NLX0RFQUNUSVZBVEVcIik7XG4gICAgY29udGV4dC5pc01vY2tpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwoY29udGV4dC5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgd2luZG93LnBvc3RNZXNzYWdlKHsgdHlwZTogXCJtc3cvd29ya2VyOnN0b3BcIiB9KTtcbiAgICBwcmludFN0b3BNZXNzYWdlKHsgcXVpZXQ6IGNvbnRleHQuc3RhcnRPcHRpb25zPy5xdWlldCB9KTtcbiAgfTtcbn07XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L3V0aWxzL3ByZXBhcmVTdGFydEhhbmRsZXIudHNcbmltcG9ydCB7IG1lcmdlUmlnaHQgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL21lcmdlUmlnaHQubWpzJztcbnZhciBERUZBVUxUX1NUQVJUX09QVElPTlMgPSB7XG4gIHNlcnZpY2VXb3JrZXI6IHtcbiAgICB1cmw6IFwiL21vY2tTZXJ2aWNlV29ya2VyLmpzXCIsXG4gICAgb3B0aW9uczogbnVsbFxuICB9LFxuICBxdWlldDogZmFsc2UsXG4gIHdhaXRVbnRpbFJlYWR5OiB0cnVlLFxuICBvblVuaGFuZGxlZFJlcXVlc3Q6IFwid2FyblwiLFxuICBmaW5kV29ya2VyKHNjcmlwdFVSTCwgbW9ja1NlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICByZXR1cm4gc2NyaXB0VVJMID09PSBtb2NrU2VydmljZVdvcmtlclVybDtcbiAgfVxufTtcblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVuLWRyYWZ0K2RlZmVycmVkLXByb21pc2VAMi4yLjAvbm9kZV9tb2R1bGVzL0BvcGVuLWRyYWZ0L2RlZmVycmVkLXByb21pc2UvYnVpbGQvaW5kZXgubWpzXG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZEV4ZWN1dG9yKCkge1xuICBjb25zdCBleGVjdXRvciA9IChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBleGVjdXRvci5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgIGV4ZWN1dG9yLnJlc29sdmUgPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGV4ZWN1dG9yLnN0YXRlICE9PSBcInBlbmRpbmdcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBleGVjdXRvci5yZXN1bHQgPSBkYXRhO1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgICAgZXhlY3V0b3Iuc3RhdGUgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc29sdmUoXG4gICAgICAgIGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlID8gZGF0YSA6IFByb21pc2UucmVzb2x2ZShkYXRhKS50aGVuKG9uRnVsZmlsbGVkKVxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4ZWN1dG9yLnJlamVjdCA9IChyZWFzb24pID0+IHtcbiAgICAgIGlmIChleGVjdXRvci5zdGF0ZSAhPT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBleGVjdXRvci5zdGF0ZSA9IFwicmVqZWN0ZWRcIjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlamVjdChleGVjdXRvci5yZWplY3Rpb25SZWFzb24gPSByZWFzb24pO1xuICAgIH07XG4gIH07XG4gIHJldHVybiBleGVjdXRvcjtcbn1cbnZhciBEZWZlcnJlZFByb21pc2UgPSBjbGFzcyBleHRlbmRzIFByb21pc2Uge1xuICAjZXhlY3V0b3I7XG4gIHJlc29sdmU7XG4gIHJlamVjdDtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IgPSBudWxsKSB7XG4gICAgY29uc3QgZGVmZXJyZWRFeGVjdXRvciA9IGNyZWF0ZURlZmVycmVkRXhlY3V0b3IoKTtcbiAgICBzdXBlcigob3JpZ2luYWxSZXNvbHZlLCBvcmlnaW5hbFJlamVjdCkgPT4ge1xuICAgICAgZGVmZXJyZWRFeGVjdXRvcihvcmlnaW5hbFJlc29sdmUsIG9yaWdpbmFsUmVqZWN0KTtcbiAgICAgIGV4ZWN1dG9yPy4oZGVmZXJyZWRFeGVjdXRvci5yZXNvbHZlLCBkZWZlcnJlZEV4ZWN1dG9yLnJlamVjdCk7XG4gICAgfSk7XG4gICAgdGhpcy4jZXhlY3V0b3IgPSBkZWZlcnJlZEV4ZWN1dG9yO1xuICAgIHRoaXMucmVzb2x2ZSA9IHRoaXMuI2V4ZWN1dG9yLnJlc29sdmU7XG4gICAgdGhpcy5yZWplY3QgPSB0aGlzLiNleGVjdXRvci5yZWplY3Q7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLiNleGVjdXRvci5zdGF0ZTtcbiAgfVxuICBnZXQgcmVqZWN0aW9uUmVhc29uKCkge1xuICAgIHJldHVybiB0aGlzLiNleGVjdXRvci5yZWplY3Rpb25SZWFzb247XG4gIH1cbiAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLiNkZWNvcmF0ZShzdXBlci50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSk7XG4gIH1cbiAgY2F0Y2gob25SZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLiNkZWNvcmF0ZShzdXBlci5jYXRjaChvblJlamVjdGVkKSk7XG4gIH1cbiAgZmluYWxseShvbmZpbmFsbHkpIHtcbiAgICByZXR1cm4gdGhpcy4jZGVjb3JhdGUoc3VwZXIuZmluYWxseShvbmZpbmFsbHkpKTtcbiAgfVxuICAjZGVjb3JhdGUocHJvbWlzZSkge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm9taXNlLCB7XG4gICAgICByZXNvbHZlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMucmVzb2x2ZSB9LFxuICAgICAgcmVqZWN0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMucmVqZWN0IH1cbiAgICB9KTtcbiAgfVxufTtcblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0Btc3dqcytpbnRlcmNlcHRvcnNAMC4zOS4xL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLUwzN1RZN0xDLm1qc1xudmFyIEludGVyY2VwdG9yRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiSW50ZXJjZXB0b3JFcnJvclwiO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnRlcmNlcHRvckVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn07XG52YXIga1JlcXVlc3RIYW5kbGVkID0gU3ltYm9sKFwia1JlcXVlc3RIYW5kbGVkXCIpO1xudmFyIGtSZXNwb25zZVByb21pc2UgPSBTeW1ib2woXCJrUmVzcG9uc2VQcm9taXNlXCIpO1xudmFyIFJlcXVlc3RDb250cm9sbGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0KSB7XG4gICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICB0aGlzW2tSZXF1ZXN0SGFuZGxlZF0gPSBmYWxzZTtcbiAgICB0aGlzW2tSZXNwb25zZVByb21pc2VdID0gbmV3IERlZmVycmVkUHJvbWlzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNwb25kIHRvIHRoaXMgcmVxdWVzdCB3aXRoIHRoZSBnaXZlbiBgUmVzcG9uc2VgIGluc3RhbmNlLlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb250cm9sbGVyLnJlc3BvbmRXaXRoKG5ldyBSZXNwb25zZSgpKVxuICAgKiBjb250cm9sbGVyLnJlc3BvbmRXaXRoKFJlc3BvbnNlLmpzb24oeyBpZCB9KSlcbiAgICogY29udHJvbGxlci5yZXNwb25kV2l0aChSZXNwb25zZS5lcnJvcigpKVxuICAgKi9cbiAgcmVzcG9uZFdpdGgocmVzcG9uc2UpIHtcbiAgICBpbnZhcmlhbnQuYXMoXG4gICAgICBJbnRlcmNlcHRvckVycm9yLFxuICAgICAgIXRoaXNba1JlcXVlc3RIYW5kbGVkXSxcbiAgICAgICdGYWlsZWQgdG8gcmVzcG9uZCB0byB0aGUgXCIlcyAlc1wiIHJlcXVlc3Q6IHRoZSBcInJlcXVlc3RcIiBldmVudCBoYXMgYWxyZWFkeSBiZWVuIGhhbmRsZWQuJyxcbiAgICAgIHRoaXMucmVxdWVzdC5tZXRob2QsXG4gICAgICB0aGlzLnJlcXVlc3QudXJsXG4gICAgKTtcbiAgICB0aGlzW2tSZXF1ZXN0SGFuZGxlZF0gPSB0cnVlO1xuICAgIHRoaXNba1Jlc3BvbnNlUHJvbWlzZV0ucmVzb2x2ZShyZXNwb25zZSk7XG4gIH1cbiAgLyoqXG4gICAqIEVycm9yIHRoaXMgcmVxdWVzdCB3aXRoIHRoZSBnaXZlbiByZWFzb24uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnRyb2xsZXIuZXJyb3JXaXRoKClcbiAgICogY29udHJvbGxlci5lcnJvcldpdGgobmV3IEVycm9yKCdPb3BzIScpKVxuICAgKiBjb250cm9sbGVyLmVycm9yV2l0aCh7IG1lc3NhZ2U6ICdPb3BzISd9KVxuICAgKi9cbiAgZXJyb3JXaXRoKHJlYXNvbikge1xuICAgIGludmFyaWFudC5hcyhcbiAgICAgIEludGVyY2VwdG9yRXJyb3IsXG4gICAgICAhdGhpc1trUmVxdWVzdEhhbmRsZWRdLFxuICAgICAgJ0ZhaWxlZCB0byBlcnJvciB0aGUgXCIlcyAlc1wiIHJlcXVlc3Q6IHRoZSBcInJlcXVlc3RcIiBldmVudCBoYXMgYWxyZWFkeSBiZWVuIGhhbmRsZWQuJyxcbiAgICAgIHRoaXMucmVxdWVzdC5tZXRob2QsXG4gICAgICB0aGlzLnJlcXVlc3QudXJsXG4gICAgKTtcbiAgICB0aGlzW2tSZXF1ZXN0SGFuZGxlZF0gPSB0cnVlO1xuICAgIHRoaXNba1Jlc3BvbnNlUHJvbWlzZV0ucmVzb2x2ZShyZWFzb24pO1xuICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gZW1pdEFzeW5jKGVtaXR0ZXIsIGV2ZW50TmFtZSwgLi4uZGF0YSkge1xuICBjb25zdCBsaXN0bmVycyA9IGVtaXR0ZXIubGlzdGVuZXJzKGV2ZW50TmFtZSk7XG4gIGlmIChsaXN0bmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0bmVycykge1xuICAgIGF3YWl0IGxpc3RlbmVyLmFwcGx5KGVtaXR0ZXIsIGRhdGEpO1xuICB9XG59XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSwgbG9vc2UgPSBmYWxzZSkge1xuICByZXR1cm4gbG9vc2UgPyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnN0YXJ0c1dpdGgoXCJbb2JqZWN0IFwiKSA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG59XG5mdW5jdGlvbiBpc1Byb3BlcnR5QWNjZXNzaWJsZShvYmosIGtleSkge1xuICB0cnkge1xuICAgIG9ialtrZXldO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJFcnJvclJlc3BvbnNlKGJvZHkpIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICBKU09OLnN0cmluZ2lmeShcbiAgICAgIGJvZHkgaW5zdGFuY2VvZiBFcnJvciA/IHtcbiAgICAgICAgbmFtZTogYm9keS5uYW1lLFxuICAgICAgICBtZXNzYWdlOiBib2R5Lm1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBib2R5LnN0YWNrXG4gICAgICB9IDogYm9keVxuICAgICksXG4gICAge1xuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICBzdGF0dXNUZXh0OiBcIlVuaGFuZGxlZCBFeGNlcHRpb25cIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBpc1Jlc3BvbnNlRXJyb3IocmVzcG9uc2UpIHtcbiAgcmV0dXJuIHJlc3BvbnNlICE9IG51bGwgJiYgcmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSAmJiBpc1Byb3BlcnR5QWNjZXNzaWJsZShyZXNwb25zZSwgXCJ0eXBlXCIpICYmIHJlc3BvbnNlLnR5cGUgPT09IFwiZXJyb3JcIjtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2VMaWtlKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSwgdHJ1ZSkgJiYgaXNQcm9wZXJ0eUFjY2Vzc2libGUodmFsdWUsIFwic3RhdHVzXCIpICYmIGlzUHJvcGVydHlBY2Nlc3NpYmxlKHZhbHVlLCBcInN0YXR1c1RleHRcIikgJiYgaXNQcm9wZXJ0eUFjY2Vzc2libGUodmFsdWUsIFwiYm9keVVzZWRcIik7XG59XG5mdW5jdGlvbiBpc05vZGVMaWtlRXJyb3IoZXJyb3IyKSB7XG4gIGlmIChlcnJvcjIgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIShlcnJvcjIgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIFwiY29kZVwiIGluIGVycm9yMiAmJiBcImVycm5vXCIgaW4gZXJyb3IyO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdDIob3B0aW9ucykge1xuICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBvcHRpb25zLm9uRXJyb3IocmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlRXJyb3IocmVzcG9uc2UpKSB7XG4gICAgICBvcHRpb25zLm9uUmVxdWVzdEVycm9yKHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNSZXNwb25zZUxpa2UocmVzcG9uc2UpKSB7XG4gICAgICBhd2FpdCBvcHRpb25zLm9uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXNwb25zZSkpIHtcbiAgICAgIG9wdGlvbnMub25FcnJvcihyZXNwb25zZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBoYW5kbGVSZXNwb25zZUVycm9yID0gYXN5bmMgKGVycm9yMikgPT4ge1xuICAgIGlmIChlcnJvcjIgaW5zdGFuY2VvZiBJbnRlcmNlcHRvckVycm9yKSB7XG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIGlmIChpc05vZGVMaWtlRXJyb3IoZXJyb3IyKSkge1xuICAgICAgb3B0aW9ucy5vbkVycm9yKGVycm9yMik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVycm9yMiBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gYXdhaXQgaGFuZGxlUmVzcG9uc2UoZXJyb3IyKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBvcHRpb25zLmVtaXR0ZXIub25jZShcInJlcXVlc3RcIiwgKHsgcmVxdWVzdElkOiBwZW5kaW5nUmVxdWVzdElkIH0pID0+IHtcbiAgICBpZiAocGVuZGluZ1JlcXVlc3RJZCAhPT0gb3B0aW9ucy5yZXF1ZXN0SWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXS5zdGF0ZSA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgIG9wdGlvbnMuY29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcmVxdWVzdEFib3J0UHJvbWlzZSA9IG5ldyBEZWZlcnJlZFByb21pc2UoKTtcbiAgaWYgKG9wdGlvbnMucmVxdWVzdC5zaWduYWwpIHtcbiAgICBpZiAob3B0aW9ucy5yZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXF1ZXN0QWJvcnRQcm9taXNlLnJlamVjdChvcHRpb25zLnJlcXVlc3Quc2lnbmFsLnJlYXNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMucmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgcmVxdWVzdEFib3J0UHJvbWlzZS5yZWplY3Qob3B0aW9ucy5yZXF1ZXN0LnNpZ25hbC5yZWFzb24pO1xuICAgICAgICB9LFxuICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdW50aWwoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3RMaXN0ZW5lcnNQcm9taXNlID0gZW1pdEFzeW5jKG9wdGlvbnMuZW1pdHRlciwgXCJyZXF1ZXN0XCIsIHtcbiAgICAgIHJlcXVlc3RJZDogb3B0aW9ucy5yZXF1ZXN0SWQsXG4gICAgICByZXF1ZXN0OiBvcHRpb25zLnJlcXVlc3QsXG4gICAgICBjb250cm9sbGVyOiBvcHRpb25zLmNvbnRyb2xsZXJcbiAgICB9KTtcbiAgICBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgLy8gU2hvcnQtY2lyY3VpdCB0aGUgcmVxdWVzdCBoYW5kbGluZyBwcm9taXNlIGlmIHRoZSByZXF1ZXN0IGdldHMgYWJvcnRlZC5cbiAgICAgIHJlcXVlc3RBYm9ydFByb21pc2UsXG4gICAgICByZXF1ZXN0TGlzdGVuZXJzUHJvbWlzZSxcbiAgICAgIG9wdGlvbnMuY29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXVxuICAgIF0pO1xuICAgIHJldHVybiBhd2FpdCBvcHRpb25zLmNvbnRyb2xsZXJba1Jlc3BvbnNlUHJvbWlzZV07XG4gIH0pO1xuICBpZiAocmVxdWVzdEFib3J0UHJvbWlzZS5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgb3B0aW9ucy5vbkVycm9yKHJlcXVlc3RBYm9ydFByb21pc2UucmVqZWN0aW9uUmVhc29uKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgaWYgKGF3YWl0IGhhbmRsZVJlc3BvbnNlRXJyb3IocmVzdWx0LmVycm9yKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmVtaXR0ZXIubGlzdGVuZXJDb3VudChcInVuaGFuZGxlZEV4Y2VwdGlvblwiKSA+IDApIHtcbiAgICAgIGNvbnN0IHVuaGFuZGxlZEV4Y2VwdGlvbkNvbnRyb2xsZXIgPSBuZXcgUmVxdWVzdENvbnRyb2xsZXIoXG4gICAgICAgIG9wdGlvbnMucmVxdWVzdFxuICAgICAgKTtcbiAgICAgIGF3YWl0IGVtaXRBc3luYyhvcHRpb25zLmVtaXR0ZXIsIFwidW5oYW5kbGVkRXhjZXB0aW9uXCIsIHtcbiAgICAgICAgZXJyb3I6IHJlc3VsdC5lcnJvcixcbiAgICAgICAgcmVxdWVzdDogb3B0aW9ucy5yZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0SWQ6IG9wdGlvbnMucmVxdWVzdElkLFxuICAgICAgICBjb250cm9sbGVyOiB1bmhhbmRsZWRFeGNlcHRpb25Db250cm9sbGVyXG4gICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKHVuaGFuZGxlZEV4Y2VwdGlvbkNvbnRyb2xsZXJba1Jlc3BvbnNlUHJvbWlzZV0uc3RhdGUgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgICAgICAgdW5oYW5kbGVkRXhjZXB0aW9uQ29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IGF3YWl0IHVudGlsKFxuICAgICAgICAoKSA9PiB1bmhhbmRsZWRFeGNlcHRpb25Db250cm9sbGVyW2tSZXNwb25zZVByb21pc2VdXG4gICAgICApO1xuICAgICAgaWYgKG5leHRSZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlRXJyb3IobmV4dFJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAobmV4dFJlc3VsdC5kYXRhKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZShuZXh0UmVzdWx0LmRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgICBvcHRpb25zLm9uUmVzcG9uc2UoY3JlYXRlU2VydmVyRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAocmVzdWx0LmRhdGEpIHtcbiAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2UocmVzdWx0LmRhdGEpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0Btc3dqcytpbnRlcmNlcHRvcnNAMC4zOS4xL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLVRYNUdCVEZZLm1qc1xuZnVuY3Rpb24gaGFzQ29uZmlndXJhYmxlR2xvYmFsKHByb3BlcnR5TmFtZSkge1xuICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWxUaGlzLCBwcm9wZXJ0eU5hbWUpO1xuICBpZiAodHlwZW9mIGRlc2NyaXB0b3IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmdldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBkZXNjcmlwdG9yLmdldCgpID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09IFwidW5kZWZpbmVkXCIgJiYgZGVzY3JpcHRvci52YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci5zZXQgPT09IFwidW5kZWZpbmVkXCIgJiYgIWRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBbTVNXXSBGYWlsZWQgdG8gYXBwbHkgaW50ZXJjZXB0b3I6IHRoZSBnbG9iYWwgXFxgJHtwcm9wZXJ0eU5hbWV9XFxgIHByb3BlcnR5IGlzIG5vbi1jb25maWd1cmFibGUuIFRoaXMgaXMgbGlrZWx5IGFuIGlzc3VlIHdpdGggeW91ciBlbnZpcm9ubWVudC4gSWYgeW91IGFyZSB1c2luZyBhIGZyYW1ld29yaywgcGxlYXNlIG9wZW4gYW4gaXNzdWUgYWJvdXQgdGhpcyBpbiB0aGVpciByZXBvc2l0b3J5LmBcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0Btc3dqcytpbnRlcmNlcHRvcnNAMC4zOS4xL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLUFSUEhaWEdULm1qc1xuZnVuY3Rpb24gY3JlYXRlTmV0d29ya0Vycm9yKGNhdXNlKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2hcIiksIHtcbiAgICBjYXVzZVxuICB9KTtcbn1cbnZhciBSRVFVRVNUX0JPRFlfSEVBREVSUyA9IFtcbiAgXCJjb250ZW50LWVuY29kaW5nXCIsXG4gIFwiY29udGVudC1sYW5ndWFnZVwiLFxuICBcImNvbnRlbnQtbG9jYXRpb25cIixcbiAgXCJjb250ZW50LXR5cGVcIixcbiAgXCJjb250ZW50LWxlbmd0aFwiXG5dO1xudmFyIGtSZWRpcmVjdENvdW50ID0gU3ltYm9sKFwia1JlZGlyZWN0Q291bnRcIik7XG5hc3luYyBmdW5jdGlvbiBmb2xsb3dGZXRjaFJlZGlyZWN0KHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDMwMyAmJiByZXF1ZXN0LmJvZHkgIT0gbnVsbCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjcmVhdGVOZXR3b3JrRXJyb3IoKSk7XG4gIH1cbiAgY29uc3QgcmVxdWVzdFVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICBsZXQgbG9jYXRpb25Vcmw7XG4gIHRyeSB7XG4gICAgbG9jYXRpb25VcmwgPSBuZXcgVVJMKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwibG9jYXRpb25cIiksIHJlcXVlc3QudXJsKTtcbiAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNyZWF0ZU5ldHdvcmtFcnJvcihlcnJvcjIpKTtcbiAgfVxuICBpZiAoIShsb2NhdGlvblVybC5wcm90b2NvbCA9PT0gXCJodHRwOlwiIHx8IGxvY2F0aW9uVXJsLnByb3RvY29sID09PSBcImh0dHBzOlwiKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIGNyZWF0ZU5ldHdvcmtFcnJvcihcIlVSTCBzY2hlbWUgbXVzdCBiZSBhIEhUVFAoUykgc2NoZW1lXCIpXG4gICAgKTtcbiAgfVxuICBpZiAoUmVmbGVjdC5nZXQocmVxdWVzdCwga1JlZGlyZWN0Q291bnQpID4gMjApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoY3JlYXRlTmV0d29ya0Vycm9yKFwicmVkaXJlY3QgY291bnQgZXhjZWVkZWRcIikpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1ZXN0LCBrUmVkaXJlY3RDb3VudCwge1xuICAgIHZhbHVlOiAoUmVmbGVjdC5nZXQocmVxdWVzdCwga1JlZGlyZWN0Q291bnQpIHx8IDApICsgMVxuICB9KTtcbiAgaWYgKHJlcXVlc3QubW9kZSA9PT0gXCJjb3JzXCIgJiYgKGxvY2F0aW9uVXJsLnVzZXJuYW1lIHx8IGxvY2F0aW9uVXJsLnBhc3N3b3JkKSAmJiAhc2FtZU9yaWdpbihyZXF1ZXN0VXJsLCBsb2NhdGlvblVybCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBjcmVhdGVOZXR3b3JrRXJyb3IoJ2Nyb3NzIG9yaWdpbiBub3QgYWxsb3dlZCBmb3IgcmVxdWVzdCBtb2RlIFwiY29yc1wiJylcbiAgICApO1xuICB9XG4gIGNvbnN0IHJlcXVlc3RJbml0ID0ge307XG4gIGlmIChbMzAxLCAzMDJdLmluY2x1ZGVzKHJlc3BvbnNlLnN0YXR1cykgJiYgcmVxdWVzdC5tZXRob2QgPT09IFwiUE9TVFwiIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMzAzICYmICFbXCJIRUFEXCIsIFwiR0VUXCJdLmluY2x1ZGVzKHJlcXVlc3QubWV0aG9kKSkge1xuICAgIHJlcXVlc3RJbml0Lm1ldGhvZCA9IFwiR0VUXCI7XG4gICAgcmVxdWVzdEluaXQuYm9keSA9IG51bGw7XG4gICAgUkVRVUVTVF9CT0RZX0hFQURFUlMuZm9yRWFjaCgoaGVhZGVyTmFtZSkgPT4ge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShoZWFkZXJOYW1lKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIXNhbWVPcmlnaW4ocmVxdWVzdFVybCwgbG9jYXRpb25VcmwpKSB7XG4gICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShcImF1dGhvcml6YXRpb25cIik7XG4gICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShcInByb3h5LWF1dGhvcml6YXRpb25cIik7XG4gICAgcmVxdWVzdC5oZWFkZXJzLmRlbGV0ZShcImNvb2tpZVwiKTtcbiAgICByZXF1ZXN0LmhlYWRlcnMuZGVsZXRlKFwiaG9zdFwiKTtcbiAgfVxuICByZXF1ZXN0SW5pdC5oZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzO1xuICByZXR1cm4gZmV0Y2gobmV3IFJlcXVlc3QobG9jYXRpb25VcmwsIHJlcXVlc3RJbml0KSk7XG59XG5mdW5jdGlvbiBzYW1lT3JpZ2luKGxlZnQsIHJpZ2h0KSB7XG4gIGlmIChsZWZ0Lm9yaWdpbiA9PT0gcmlnaHQub3JpZ2luICYmIGxlZnQub3JpZ2luID09PSBcIm51bGxcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChsZWZ0LnByb3RvY29sID09PSByaWdodC5wcm90b2NvbCAmJiBsZWZ0Lmhvc3RuYW1lID09PSByaWdodC5ob3N0bmFtZSAmJiBsZWZ0LnBvcnQgPT09IHJpZ2h0LnBvcnQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG52YXIgQnJvdGxpRGVjb21wcmVzc2lvblN0cmVhbSA9IGNsYXNzIGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJbSW50ZXJjZXB0b3JzXTogQnJvdGxpIGRlY29tcHJlc3Npb24gb2YgcmVzcG9uc2Ugc3RyZWFtcyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyXCJcbiAgICApO1xuICAgIHN1cGVyKHtcbiAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xudmFyIFBpcGVsaW5lU3RyZWFtID0gY2xhc3MgZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW0ge1xuICBjb25zdHJ1Y3Rvcih0cmFuc2Zvcm1TdHJlYW1zLCAuLi5zdHJhdGVnaWVzKSB7XG4gICAgc3VwZXIoe30sIC4uLnN0cmF0ZWdpZXMpO1xuICAgIGNvbnN0IHJlYWRhYmxlID0gW3N1cGVyLnJlYWRhYmxlLCAuLi50cmFuc2Zvcm1TdHJlYW1zXS5yZWR1Y2UoXG4gICAgICAocmVhZGFibGUyLCB0cmFuc2Zvcm0pID0+IHJlYWRhYmxlMi5waXBlVGhyb3VnaCh0cmFuc2Zvcm0pXG4gICAgKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkYWJsZVwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiByZWFkYWJsZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIHBhcnNlQ29udGVudEVuY29kaW5nKGNvbnRlbnRFbmNvZGluZykge1xuICByZXR1cm4gY29udGVudEVuY29kaW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIsXCIpLm1hcCgoY29kaW5nKSA9PiBjb2RpbmcudHJpbSgpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlY29tcHJlc3Npb25TdHJlYW0oY29udGVudEVuY29kaW5nKSB7XG4gIGlmIChjb250ZW50RW5jb2RpbmcgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBjb2RpbmdzID0gcGFyc2VDb250ZW50RW5jb2RpbmcoY29udGVudEVuY29kaW5nKTtcbiAgaWYgKGNvZGluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdHJhbnNmb3JtZXJzID0gY29kaW5ncy5yZWR1Y2VSaWdodChcbiAgICAodHJhbnNmb3JtZXJzMiwgY29kaW5nKSA9PiB7XG4gICAgICBpZiAoY29kaW5nID09PSBcImd6aXBcIiB8fCBjb2RpbmcgPT09IFwieC1nemlwXCIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyczIuY29uY2F0KG5ldyBEZWNvbXByZXNzaW9uU3RyZWFtKFwiZ3ppcFwiKSk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGluZyA9PT0gXCJkZWZsYXRlXCIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyczIuY29uY2F0KG5ldyBEZWNvbXByZXNzaW9uU3RyZWFtKFwiZGVmbGF0ZVwiKSk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGluZyA9PT0gXCJiclwiKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lcnMyLmNvbmNhdChuZXcgQnJvdGxpRGVjb21wcmVzc2lvblN0cmVhbSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zZm9ybWVyczIubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFuc2Zvcm1lcnMyO1xuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuIG5ldyBQaXBlbGluZVN0cmVhbSh0cmFuc2Zvcm1lcnMpO1xufVxuZnVuY3Rpb24gZGVjb21wcmVzc1Jlc3BvbnNlKHJlc3BvbnNlKSB7XG4gIGlmIChyZXNwb25zZS5ib2R5ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgZGVjb21wcmVzc2lvblN0cmVhbSA9IGNyZWF0ZURlY29tcHJlc3Npb25TdHJlYW0oXG4gICAgcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LWVuY29kaW5nXCIpIHx8IFwiXCJcbiAgKTtcbiAgaWYgKCFkZWNvbXByZXNzaW9uU3RyZWFtKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmVzcG9uc2UuYm9keS5waXBlVG8oZGVjb21wcmVzc2lvblN0cmVhbS53cml0YWJsZSk7XG4gIHJldHVybiBkZWNvbXByZXNzaW9uU3RyZWFtLnJlYWRhYmxlO1xufVxudmFyIF9GZXRjaEludGVyY2VwdG9yID0gY2xhc3MgZXh0ZW5kcyBJbnRlcmNlcHRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKF9GZXRjaEludGVyY2VwdG9yLnN5bWJvbCk7XG4gIH1cbiAgY2hlY2tFbnZpcm9ubWVudCgpIHtcbiAgICByZXR1cm4gaGFzQ29uZmlndXJhYmxlR2xvYmFsKFwiZmV0Y2hcIik7XG4gIH1cbiAgYXN5bmMgc2V0dXAoKSB7XG4gICAgY29uc3QgcHVyZUZldGNoID0gZ2xvYmFsVGhpcy5mZXRjaDtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhcHVyZUZldGNoW0lTX1BBVENIRURfTU9EVUxFXSxcbiAgICAgICdGYWlsZWQgdG8gcGF0Y2ggdGhlIFwiZmV0Y2hcIiBtb2R1bGU6IGFscmVhZHkgcGF0Y2hlZC4nXG4gICAgKTtcbiAgICBnbG9iYWxUaGlzLmZldGNoID0gYXN5bmMgKGlucHV0LCBpbml0KSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0SWQgPSBjcmVhdGVSZXF1ZXN0SWQoKTtcbiAgICAgIGNvbnN0IHJlc29sdmVkSW5wdXQgPSB0eXBlb2YgaW5wdXQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmICFjYW5QYXJzZVVybChpbnB1dCkgPyBuZXcgVVJMKGlucHV0LCBsb2NhdGlvbi5ocmVmKSA6IGlucHV0O1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHJlc29sdmVkSW5wdXQsIGluaXQpO1xuICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgICBzZXRSYXdSZXF1ZXN0KHJlcXVlc3QsIGlucHV0KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3BvbnNlUHJvbWlzZSA9IG5ldyBEZWZlcnJlZFByb21pc2UoKTtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgUmVxdWVzdENvbnRyb2xsZXIocmVxdWVzdCk7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiWyVzXSAlc1wiLCByZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwpO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImF3YWl0aW5nIGZvciB0aGUgbW9ja2VkIHJlc3BvbnNlLi4uXCIpO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgJ2VtaXR0aW5nIHRoZSBcInJlcXVlc3RcIiBldmVudCBmb3IgJXMgbGlzdGVuZXIocykuLi4nLFxuICAgICAgICB0aGlzLmVtaXR0ZXIubGlzdGVuZXJDb3VudChcInJlcXVlc3RcIilcbiAgICAgICk7XG4gICAgICBjb25zdCBpc1JlcXVlc3RIYW5kbGVkID0gYXdhaXQgaGFuZGxlUmVxdWVzdDIoe1xuICAgICAgICByZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIGVtaXR0ZXI6IHRoaXMuZW1pdHRlcixcbiAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgb25SZXNwb25zZTogYXN5bmMgKHJhd1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlY2VpdmVkIG1vY2tlZCByZXNwb25zZSFcIiwge1xuICAgICAgICAgICAgcmF3UmVzcG9uc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBkZWNvbXByZXNzZWRTdHJlYW0gPSBkZWNvbXByZXNzUmVzcG9uc2UocmF3UmVzcG9uc2UpO1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZGVjb21wcmVzc2VkU3RyZWFtID09PSBudWxsID8gcmF3UmVzcG9uc2UgOiBuZXcgRmV0Y2hSZXNwb25zZShkZWNvbXByZXNzZWRTdHJlYW0sIHJhd1Jlc3BvbnNlKTtcbiAgICAgICAgICBGZXRjaFJlc3BvbnNlLnNldFVybChyZXF1ZXN0LnVybCwgcmVzcG9uc2UpO1xuICAgICAgICAgIGlmIChGZXRjaFJlc3BvbnNlLmlzUmVkaXJlY3RSZXNwb25zZShyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5yZWRpcmVjdCA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZS5yZWplY3QoY3JlYXRlTmV0d29ya0Vycm9yKFwidW5leHBlY3RlZCByZWRpcmVjdFwiKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlZGlyZWN0ID09PSBcImZvbGxvd1wiKSB7XG4gICAgICAgICAgICAgIGZvbGxvd0ZldGNoUmVkaXJlY3QocmVxdWVzdCwgcmVzcG9uc2UpLnRoZW4oXG4gICAgICAgICAgICAgICAgKHJlc3BvbnNlMikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlc29sdmUocmVzcG9uc2UyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZW1pdHRlci5saXN0ZW5lckNvdW50KFwicmVzcG9uc2VcIikgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdlbWl0dGluZyB0aGUgXCJyZXNwb25zZVwiIGV2ZW50Li4uJyk7XG4gICAgICAgICAgICBhd2FpdCBlbWl0QXN5bmModGhpcy5lbWl0dGVyLCBcInJlc3BvbnNlXCIsIHtcbiAgICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIG1vY2tlZCByZXNwb25zZSBmb3IgdGhlIFwicmVzcG9uc2VcIiBldmVudCBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgLy8gVGhpcyB3YXksIHRoZSBsaXN0ZW5lciBjYW4gcmVhZCB0aGUgcmVzcG9uc2UgYW5kIG5vdCBsb2NrIGl0cyBib2R5XG4gICAgICAgICAgICAgIC8vIGZvciB0aGUgYWN0dWFsIGZldGNoIGNvbnN1bWVyLlxuICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UuY2xvbmUoKSxcbiAgICAgICAgICAgICAgaXNNb2NrZWRSZXNwb25zZTogdHJ1ZSxcbiAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgcmVxdWVzdElkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlcXVlc3RFcnJvcjogKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlcXVlc3QgaGFzIGVycm9yZWQhXCIsIHsgcmVzcG9uc2UgfSk7XG4gICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlamVjdChjcmVhdGVOZXR3b3JrRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogKGVycm9yMikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXF1ZXN0IGhhcyBiZWVuIGFib3J0ZWQhXCIsIHsgZXJyb3I6IGVycm9yMiB9KTtcbiAgICAgICAgICByZXNwb25zZVByb21pc2UucmVqZWN0KGVycm9yMik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGlzUmVxdWVzdEhhbmRsZWQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlcXVlc3QgaGFzIGJlZW4gaGFuZGxlZCwgcmV0dXJuaW5nIG1vY2sgcHJvbWlzZS4uLlwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlUHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgIFwibm8gbW9ja2VkIHJlc3BvbnNlIHJlY2VpdmVkLCBwZXJmb3JtaW5nIHJlcXVlc3QgYXMtaXMuLi5cIlxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlcXVlc3RDbG9uZUZvclJlc3BvbnNlRXZlbnQgPSByZXF1ZXN0LmNsb25lKCk7XG4gICAgICByZXR1cm4gcHVyZUZldGNoKHJlcXVlc3QpLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJvcmlnaW5hbCBmZXRjaCBwZXJmb3JtZWRcIiwgcmVzcG9uc2UpO1xuICAgICAgICBpZiAodGhpcy5lbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJyZXNwb25zZVwiKSA+IDApIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdlbWl0dGluZyB0aGUgXCJyZXNwb25zZVwiIGV2ZW50Li4uJyk7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VDbG9uZSA9IHJlc3BvbnNlLmNsb25lKCk7XG4gICAgICAgICAgYXdhaXQgZW1pdEFzeW5jKHRoaXMuZW1pdHRlciwgXCJyZXNwb25zZVwiLCB7XG4gICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2VDbG9uZSxcbiAgICAgICAgICAgIGlzTW9ja2VkUmVzcG9uc2U6IGZhbHNlLFxuICAgICAgICAgICAgcmVxdWVzdDogcmVxdWVzdENsb25lRm9yUmVzcG9uc2VFdmVudCxcbiAgICAgICAgICAgIHJlcXVlc3RJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbFRoaXMuZmV0Y2gsIElTX1BBVENIRURfTU9EVUxFLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcy5mZXRjaCwgSVNfUEFUQ0hFRF9NT0RVTEUsIHtcbiAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgICBnbG9iYWxUaGlzLmZldGNoID0gcHVyZUZldGNoO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgJ3Jlc3RvcmVkIG5hdGl2ZSBcImdsb2JhbFRoaXMuZmV0Y2hcIiEnLFxuICAgICAgICBnbG9iYWxUaGlzLmZldGNoLm5hbWVcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgRmV0Y2hJbnRlcmNlcHRvciA9IF9GZXRjaEludGVyY2VwdG9yO1xuRmV0Y2hJbnRlcmNlcHRvci5zeW1ib2wgPSBTeW1ib2woXCJmZXRjaFwiKTtcblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0Btc3dqcytpbnRlcmNlcHRvcnNAMC4zOS4xL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLVFLU0JGUURLLm1qc1xuZnVuY3Rpb24gY29uY2F0QXJyYXlCdWZmZXIobGVmdCwgcmlnaHQpIHtcbiAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVmdC5ieXRlTGVuZ3RoICsgcmlnaHQuYnl0ZUxlbmd0aCk7XG4gIHJlc3VsdC5zZXQobGVmdCwgMCk7XG4gIHJlc3VsdC5zZXQocmlnaHQsIGxlZnQuYnl0ZUxlbmd0aCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG52YXIgRXZlbnRQb2x5ZmlsbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IodHlwZSwgb3B0aW9ucykge1xuICAgIHRoaXMuTk9ORSA9IDA7XG4gICAgdGhpcy5DQVBUVVJJTkdfUEhBU0UgPSAxO1xuICAgIHRoaXMuQVRfVEFSR0VUID0gMjtcbiAgICB0aGlzLkJVQkJMSU5HX1BIQVNFID0gMztcbiAgICB0aGlzLnR5cGUgPSBcIlwiO1xuICAgIHRoaXMuc3JjRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLmV2ZW50UGhhc2UgPSAwO1xuICAgIHRoaXMuaXNUcnVzdGVkID0gdHJ1ZTtcbiAgICB0aGlzLmNvbXBvc2VkID0gZmFsc2U7XG4gICAgdGhpcy5jYW5jZWxhYmxlID0gdHJ1ZTtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmJ1YmJsZXMgPSB0cnVlO1xuICAgIHRoaXMubGVuZ3RoQ29tcHV0YWJsZSA9IHRydWU7XG4gICAgdGhpcy5sb2FkZWQgPSAwO1xuICAgIHRoaXMudG90YWwgPSAwO1xuICAgIHRoaXMuY2FuY2VsQnViYmxlID0gZmFsc2U7XG4gICAgdGhpcy5yZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnRhcmdldCA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnRhcmdldCkgfHwgbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jdXJyZW50VGFyZ2V0KSB8fCBudWxsO1xuICAgIHRoaXMudGltZVN0YW1wID0gRGF0ZS5ub3coKTtcbiAgfVxuICBjb21wb3NlZFBhdGgoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGluaXRFdmVudCh0eXBlLCBidWJibGVzLCBjYW5jZWxhYmxlKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmJ1YmJsZXMgPSAhIWJ1YmJsZXM7XG4gICAgdGhpcy5jYW5jZWxhYmxlID0gISFjYW5jZWxhYmxlO1xuICB9XG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gIH1cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICB9XG4gIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgfVxufTtcbnZhciBQcm9ncmVzc0V2ZW50UG9seWZpbGwgPSBjbGFzcyBleHRlbmRzIEV2ZW50UG9seWZpbGwge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBpbml0KSB7XG4gICAgc3VwZXIodHlwZSk7XG4gICAgdGhpcy5sZW5ndGhDb21wdXRhYmxlID0gKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQubGVuZ3RoQ29tcHV0YWJsZSkgfHwgZmFsc2U7XG4gICAgdGhpcy5jb21wb3NlZCA9IChpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LmNvbXBvc2VkKSB8fCBmYWxzZTtcbiAgICB0aGlzLmxvYWRlZCA9IChpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LmxvYWRlZCkgfHwgMDtcbiAgICB0aGlzLnRvdGFsID0gKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQudG90YWwpIHx8IDA7XG4gIH1cbn07XG52YXIgU1VQUE9SVFNfUFJPR1JFU1NfRVZFTlQgPSB0eXBlb2YgUHJvZ3Jlc3NFdmVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50KHRhcmdldCwgdHlwZSwgaW5pdCkge1xuICBjb25zdCBwcm9ncmVzc0V2ZW50cyA9IFtcbiAgICBcImVycm9yXCIsXG4gICAgXCJwcm9ncmVzc1wiLFxuICAgIFwibG9hZHN0YXJ0XCIsXG4gICAgXCJsb2FkZW5kXCIsXG4gICAgXCJsb2FkXCIsXG4gICAgXCJ0aW1lb3V0XCIsXG4gICAgXCJhYm9ydFwiXG4gIF07XG4gIGNvbnN0IFByb2dyZXNzRXZlbnRDbGFzcyA9IFNVUFBPUlRTX1BST0dSRVNTX0VWRU5UID8gUHJvZ3Jlc3NFdmVudCA6IFByb2dyZXNzRXZlbnRQb2x5ZmlsbDtcbiAgY29uc3QgZXZlbnQgPSBwcm9ncmVzc0V2ZW50cy5pbmNsdWRlcyh0eXBlKSA/IG5ldyBQcm9ncmVzc0V2ZW50Q2xhc3ModHlwZSwge1xuICAgIGxlbmd0aENvbXB1dGFibGU6IHRydWUsXG4gICAgbG9hZGVkOiAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5sb2FkZWQpIHx8IDAsXG4gICAgdG90YWw6IChpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LnRvdGFsKSB8fCAwXG4gIH0pIDogbmV3IEV2ZW50UG9seWZpbGwodHlwZSwge1xuICAgIHRhcmdldCxcbiAgICBjdXJyZW50VGFyZ2V0OiB0YXJnZXRcbiAgfSk7XG4gIHJldHVybiBldmVudDtcbn1cbmZ1bmN0aW9uIGZpbmRQcm9wZXJ0eVNvdXJjZSh0YXJnZXQsIHByb3BlcnR5TmFtZSkge1xuICBpZiAoIShwcm9wZXJ0eU5hbWUgaW4gdGFyZ2V0KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGhhc1Byb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcGVydHlOYW1lKTtcbiAgaWYgKGhhc1Byb3BlcnR5KSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBwcm90b3R5cGUgPSBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCk7XG4gIHJldHVybiBwcm90b3R5cGUgPyBmaW5kUHJvcGVydHlTb3VyY2UocHJvdG90eXBlLCBwcm9wZXJ0eU5hbWUpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3h5KHRhcmdldCwgb3B0aW9ucykge1xuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eSh0YXJnZXQsIG9wdGlvbnNUb1Byb3h5SGFuZGxlcihvcHRpb25zKSk7XG4gIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIG9wdGlvbnNUb1Byb3h5SGFuZGxlcihvcHRpb25zKSB7XG4gIGNvbnN0IHsgY29uc3RydWN0b3JDYWxsLCBtZXRob2RDYWxsLCBnZXRQcm9wZXJ0eSwgc2V0UHJvcGVydHkgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGhhbmRsZXIgPSB7fTtcbiAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvckNhbGwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBoYW5kbGVyLmNvbnN0cnVjdCA9IGZ1bmN0aW9uKHRhcmdldCwgYXJncywgbmV3VGFyZ2V0KSB7XG4gICAgICBjb25zdCBuZXh0ID0gUmVmbGVjdC5jb25zdHJ1Y3QuYmluZChudWxsLCB0YXJnZXQsIGFyZ3MsIG5ld1RhcmdldCk7XG4gICAgICByZXR1cm4gY29uc3RydWN0b3JDYWxsLmNhbGwobmV3VGFyZ2V0LCBhcmdzLCBuZXh0KTtcbiAgICB9O1xuICB9XG4gIGhhbmRsZXIuc2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIG5leHRWYWx1ZSkge1xuICAgIGNvbnN0IG5leHQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9wZXJ0eVNvdXJjZSA9IGZpbmRQcm9wZXJ0eVNvdXJjZSh0YXJnZXQsIHByb3BlcnR5TmFtZSkgfHwgdGFyZ2V0O1xuICAgICAgY29uc3Qgb3duRGVzY3JpcHRvcnMgPSBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgcHJvcGVydHlTb3VyY2UsXG4gICAgICAgIHByb3BlcnR5TmFtZVxuICAgICAgKTtcbiAgICAgIGlmICh0eXBlb2YgKG93bkRlc2NyaXB0b3JzID09IG51bGwgPyB2b2lkIDAgOiBvd25EZXNjcmlwdG9ycy5zZXQpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIG93bkRlc2NyaXB0b3JzLnNldC5hcHBseSh0YXJnZXQsIFtuZXh0VmFsdWVdKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wZXJ0eVNvdXJjZSwgcHJvcGVydHlOYW1lLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXh0VmFsdWVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKHR5cGVvZiBzZXRQcm9wZXJ0eSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIHNldFByb3BlcnR5LmNhbGwodGFyZ2V0LCBbcHJvcGVydHlOYW1lLCBuZXh0VmFsdWVdLCBuZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfTtcbiAgaGFuZGxlci5nZXQgPSBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5TmFtZSwgcmVjZWl2ZXIpIHtcbiAgICBjb25zdCBuZXh0ID0gKCkgPT4gdGFyZ2V0W3Byb3BlcnR5TmFtZV07XG4gICAgY29uc3QgdmFsdWUgPSB0eXBlb2YgZ2V0UHJvcGVydHkgIT09IFwidW5kZWZpbmVkXCIgPyBnZXRQcm9wZXJ0eS5jYWxsKHRhcmdldCwgW3Byb3BlcnR5TmFtZSwgcmVjZWl2ZXJdLCBuZXh0KSA6IG5leHQoKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBuZXh0MiA9IHZhbHVlLmJpbmQodGFyZ2V0LCAuLi5hcmdzKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2RDYWxsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIG1ldGhvZENhbGwuY2FsbCh0YXJnZXQsIFtwcm9wZXJ0eU5hbWUsIGFyZ3NdLCBuZXh0Mik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQyKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG4gIHJldHVybiBoYW5kbGVyO1xufVxuZnVuY3Rpb24gaXNEb21QYXJzZXJTdXBwb3J0ZWRUeXBlKHR5cGUpIHtcbiAgY29uc3Qgc3VwcG9ydGVkVHlwZXMgPSBbXG4gICAgXCJhcHBsaWNhdGlvbi94aHRtbCt4bWxcIixcbiAgICBcImFwcGxpY2F0aW9uL3htbFwiLFxuICAgIFwiaW1hZ2Uvc3ZnK3htbFwiLFxuICAgIFwidGV4dC9odG1sXCIsXG4gICAgXCJ0ZXh0L3htbFwiXG4gIF07XG4gIHJldHVybiBzdXBwb3J0ZWRUeXBlcy5zb21lKChzdXBwb3J0ZWRUeXBlKSA9PiB7XG4gICAgcmV0dXJuIHR5cGUuc3RhcnRzV2l0aChzdXBwb3J0ZWRUeXBlKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZUpzb24oZGF0YSkge1xuICB0cnkge1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIHJldHVybiBqc29uO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlc3BvbnNlKHJlcXVlc3QsIGJvZHkpIHtcbiAgY29uc3QgcmVzcG9uc2VCb2R5T3JOdWxsID0gRmV0Y2hSZXNwb25zZS5pc1Jlc3BvbnNlV2l0aEJvZHkocmVxdWVzdC5zdGF0dXMpID8gYm9keSA6IG51bGw7XG4gIHJldHVybiBuZXcgRmV0Y2hSZXNwb25zZShyZXNwb25zZUJvZHlPck51bGwsIHtcbiAgICB1cmw6IHJlcXVlc3QucmVzcG9uc2VVUkwsXG4gICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogY3JlYXRlSGVhZGVyc0Zyb21YTUxIdHRwUmVxZXN0SGVhZGVycyhcbiAgICAgIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICApXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSGVhZGVyc0Zyb21YTUxIdHRwUmVxZXN0SGVhZGVycyhoZWFkZXJzU3RyaW5nKSB7XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBjb25zdCBsaW5lcyA9IGhlYWRlcnNTdHJpbmcuc3BsaXQoL1tcXHJcXG5dKy8pO1xuICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICBpZiAobGluZS50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBbbmFtZSwgLi4ucGFydHNdID0gbGluZS5zcGxpdChcIjogXCIpO1xuICAgIGNvbnN0IHZhbHVlID0gcGFydHMuam9pbihcIjogXCIpO1xuICAgIGhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gaGVhZGVycztcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJvZHlCeXRlTGVuZ3RoKGlucHV0KSB7XG4gIGNvbnN0IGV4cGxpY2l0Q29udGVudExlbmd0aCA9IGlucHV0LmhlYWRlcnMuZ2V0KFwiY29udGVudC1sZW5ndGhcIik7XG4gIGlmIChleHBsaWNpdENvbnRlbnRMZW5ndGggIT0gbnVsbCAmJiBleHBsaWNpdENvbnRlbnRMZW5ndGggIT09IFwiXCIpIHtcbiAgICByZXR1cm4gTnVtYmVyKGV4cGxpY2l0Q29udGVudExlbmd0aCk7XG4gIH1cbiAgY29uc3QgYnVmZmVyID0gYXdhaXQgaW5wdXQuYXJyYXlCdWZmZXIoKTtcbiAgcmV0dXJuIGJ1ZmZlci5ieXRlTGVuZ3RoO1xufVxudmFyIGtJc1JlcXVlc3RIYW5kbGVkID0gU3ltYm9sKFwia0lzUmVxdWVzdEhhbmRsZWRcIik7XG52YXIgSVNfTk9ERTIgPSBpc05vZGVQcm9jZXNzKCk7XG52YXIga0ZldGNoUmVxdWVzdCA9IFN5bWJvbChcImtGZXRjaFJlcXVlc3RcIik7XG52YXIgWE1MSHR0cFJlcXVlc3RDb250cm9sbGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihpbml0aWFsUmVxdWVzdCwgbG9nZ2VyKSB7XG4gICAgdGhpcy5pbml0aWFsUmVxdWVzdCA9IGluaXRpYWxSZXF1ZXN0O1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIHRoaXMubWV0aG9kID0gXCJHRVRcIjtcbiAgICB0aGlzLnVybCA9IG51bGw7XG4gICAgdGhpc1trSXNSZXF1ZXN0SGFuZGxlZF0gPSBmYWxzZTtcbiAgICB0aGlzLmV2ZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy51cGxvYWRFdmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMucmVxdWVzdElkID0gY3JlYXRlUmVxdWVzdElkKCk7XG4gICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgdGhpcy5yZXNwb25zZUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgdGhpcy5yZXF1ZXN0ID0gY3JlYXRlUHJveHkoaW5pdGlhbFJlcXVlc3QsIHtcbiAgICAgIHNldFByb3BlcnR5OiAoW3Byb3BlcnR5TmFtZSwgbmV4dFZhbHVlXSwgaW52b2tlKSA9PiB7XG4gICAgICAgIHN3aXRjaCAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgY2FzZSBcIm9udGltZW91dFwiOiB7XG4gICAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wZXJ0eU5hbWUuc2xpY2UoXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG5leHRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBtZXRob2RDYWxsOiAoW21ldGhvZE5hbWUsIGFyZ3NdLCBpbnZva2UpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzd2l0Y2ggKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwib3BlblwiOiB7XG4gICAgICAgICAgICBjb25zdCBbbWV0aG9kLCB1cmxdID0gYXJncztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gXCJHRVRcIjtcbiAgICAgICAgICAgICAgdGhpcy51cmwgPSB0b0Fic29sdXRlVXJsKG1ldGhvZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgICAgdGhpcy51cmwgPSB0b0Fic29sdXRlVXJsKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChgJHt0aGlzLm1ldGhvZH0gJHt0aGlzLnVybC5ocmVmfWApO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIm9wZW5cIiwgdGhpcy5tZXRob2QsIHRoaXMudXJsLmhyZWYpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiYWRkRXZlbnRMaXN0ZW5lclwiOiB7XG4gICAgICAgICAgICBjb25zdCBbZXZlbnROYW1lLCBsaXN0ZW5lcl0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImFkZEV2ZW50TGlzdGVuZXJcIiwgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJzZXRSZXF1ZXN0SGVhZGVyXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IFtuYW1lLCB2YWx1ZV0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInNldFJlcXVlc3RIZWFkZXJcIiwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwic2VuZFwiOiB7XG4gICAgICAgICAgICBjb25zdCBbYm9keV0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uUmVzcG9uc2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAqIFRoZSBgcmVzcG9uc2VgIHByb3BlcnR5IGlzIHRoZSByaWdodCB3YXkgdG8gcmVhZFxuICAgICAgICAgICAgICAgICAgICogdGhlIGFtYmlndW91cyByZXNwb25zZSBib2R5LCBhcyB0aGUgcmVxdWVzdCdzIFwicmVzcG9uc2VUeXBlXCIgbWF5IGRpZmZlci5cbiAgICAgICAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly94aHIuc3BlYy53aGF0d2cub3JnLyN0aGUtcmVzcG9uc2UtYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblJlc3BvbnNlLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZldGNoUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICBpc01vY2tlZFJlc3BvbnNlOiB0aGlzW2tJc1JlcXVlc3RIYW5kbGVkXSxcbiAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IGZldGNoUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogdGhpcy5yZXF1ZXN0SWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiID8gZW5jb2RlQnVmZmVyKGJvZHkpIDogYm9keTtcbiAgICAgICAgICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IHRoaXMudG9GZXRjaEFwaVJlcXVlc3QocmVxdWVzdEJvZHkpO1xuICAgICAgICAgICAgdGhpc1trRmV0Y2hSZXF1ZXN0XSA9IGZldGNoUmVxdWVzdC5jbG9uZSgpO1xuICAgICAgICAgICAgY29uc3Qgb25jZVJlcXVlc3RTZXR0bGVkID0gKChfYSA9IHRoaXMub25SZXF1ZXN0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgIHJlcXVlc3Q6IGZldGNoUmVxdWVzdCxcbiAgICAgICAgICAgICAgcmVxdWVzdElkOiB0aGlzLnJlcXVlc3RJZFxuICAgICAgICAgICAgfSkpIHx8IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgb25jZVJlcXVlc3RTZXR0bGVkLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXRoaXNba0lzUmVxdWVzdEhhbmRsZWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAgICAgICAgIFwicmVxdWVzdCBjYWxsYmFjayBzZXR0bGVkIGJ1dCByZXF1ZXN0IGhhcyBub3QgYmVlbiBoYW5kbGVkIChyZWFkeXN0YXRlICVkKSwgcGVyZm9ybWluZyBhcy1pcy4uLlwiLFxuICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChJU19OT0RFMikge1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXG4gICAgICAgICAgICAgICAgICAgIElOVEVSTkFMX1JFUVVFU1RfSURfSEVBREVSX05BTUUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdElkXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBkZWZpbmUoXG4gICAgICB0aGlzLnJlcXVlc3QsXG4gICAgICBcInVwbG9hZFwiLFxuICAgICAgY3JlYXRlUHJveHkodGhpcy5yZXF1ZXN0LnVwbG9hZCwge1xuICAgICAgICBzZXRQcm9wZXJ0eTogKFtwcm9wZXJ0eU5hbWUsIG5leHRWYWx1ZV0sIGludm9rZSkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwib25sb2Fkc3RhcnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbnByb2dyZXNzXCI6XG4gICAgICAgICAgICBjYXNlIFwib25hYm9hcnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbmVycm9yXCI6XG4gICAgICAgICAgICBjYXNlIFwib25sb2FkXCI6XG4gICAgICAgICAgICBjYXNlIFwib250aW1lb3V0XCI6XG4gICAgICAgICAgICBjYXNlIFwib25sb2FkZW5kXCI6IHtcbiAgICAgICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gcHJvcGVydHlOYW1lLnNsaWNlKFxuICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEV2ZW50KGV2ZW50TmFtZSwgbmV4dFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICB9LFxuICAgICAgICBtZXRob2RDYWxsOiAoW21ldGhvZE5hbWUsIGFyZ3NdLCBpbnZva2UpID0+IHtcbiAgICAgICAgICBzd2l0Y2ggKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhZGRFdmVudExpc3RlbmVyXCI6IHtcbiAgICAgICAgICAgICAgY29uc3QgW2V2ZW50TmFtZSwgbGlzdGVuZXJdID0gYXJncztcbiAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEV2ZW50KGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwidXBsb2FkLmFkZEV2ZW50TGlzdGVuZXJcIiwgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICByZWdpc3RlckV2ZW50KGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBwcmV2RXZlbnRzID0gdGhpcy5ldmVudHMuZ2V0KGV2ZW50TmFtZSkgfHwgW107XG4gICAgY29uc3QgbmV4dEV2ZW50cyA9IHByZXZFdmVudHMuY29uY2F0KGxpc3RlbmVyKTtcbiAgICB0aGlzLmV2ZW50cy5zZXQoZXZlbnROYW1lLCBuZXh0RXZlbnRzKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKCdyZWdpc3RlcmVkIGV2ZW50IFwiJXNcIicsIGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICB9XG4gIHJlZ2lzdGVyVXBsb2FkRXZlbnQoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IHByZXZFdmVudHMgPSB0aGlzLnVwbG9hZEV2ZW50cy5nZXQoZXZlbnROYW1lKSB8fCBbXTtcbiAgICBjb25zdCBuZXh0RXZlbnRzID0gcHJldkV2ZW50cy5jb25jYXQobGlzdGVuZXIpO1xuICAgIHRoaXMudXBsb2FkRXZlbnRzLnNldChldmVudE5hbWUsIG5leHRFdmVudHMpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oJ3JlZ2lzdGVyZWQgdXBsb2FkIGV2ZW50IFwiJXNcIicsIGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNwb25kcyB0byB0aGUgY3VycmVudCByZXF1ZXN0IHdpdGggdGhlIGdpdmVuXG4gICAqIEZldGNoIEFQSSBgUmVzcG9uc2VgIGluc3RhbmNlLlxuICAgKi9cbiAgYXN5bmMgcmVzcG9uZFdpdGgocmVzcG9uc2UpIHtcbiAgICB0aGlzW2tJc1JlcXVlc3RIYW5kbGVkXSA9IHRydWU7XG4gICAgaWYgKHRoaXNba0ZldGNoUmVxdWVzdF0pIHtcbiAgICAgIGNvbnN0IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGggPSBhd2FpdCBnZXRCb2R5Qnl0ZUxlbmd0aChcbiAgICAgICAgdGhpc1trRmV0Y2hSZXF1ZXN0XVxuICAgICAgKTtcbiAgICAgIHRoaXMudHJpZ2dlcihcImxvYWRzdGFydFwiLCB0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIGxvYWRlZDogMCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgICAgdGhpcy50cmlnZ2VyKFwicHJvZ3Jlc3NcIiwgdGhpcy5yZXF1ZXN0LnVwbG9hZCwge1xuICAgICAgICBsb2FkZWQ6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGgsXG4gICAgICAgIHRvdGFsOiB0b3RhbFJlcXVlc3RCb2R5TGVuZ3RoXG4gICAgICB9KTtcbiAgICAgIHRoaXMudHJpZ2dlcihcImxvYWRcIiwgdGhpcy5yZXF1ZXN0LnVwbG9hZCwge1xuICAgICAgICBsb2FkZWQ6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGgsXG4gICAgICAgIHRvdGFsOiB0b3RhbFJlcXVlc3RCb2R5TGVuZ3RoXG4gICAgICB9KTtcbiAgICAgIHRoaXMudHJpZ2dlcihcImxvYWRlbmRcIiwgdGhpcy5yZXF1ZXN0LnVwbG9hZCwge1xuICAgICAgICBsb2FkZWQ6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGgsXG4gICAgICAgIHRvdGFsOiB0b3RhbFJlcXVlc3RCb2R5TGVuZ3RoXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgIFwicmVzcG9uZGluZyB3aXRoIGEgbW9ja2VkIHJlc3BvbnNlOiAlZCAlc1wiLFxuICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgICk7XG4gICAgZGVmaW5lKHRoaXMucmVxdWVzdCwgXCJzdGF0dXNcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBkZWZpbmUodGhpcy5yZXF1ZXN0LCBcInN0YXR1c1RleHRcIiwgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgZGVmaW5lKHRoaXMucmVxdWVzdCwgXCJyZXNwb25zZVVSTFwiLCB0aGlzLnVybC5ocmVmKTtcbiAgICB0aGlzLnJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIgPSBuZXcgUHJveHkodGhpcy5yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyLCB7XG4gICAgICBhcHBseTogKF8sIF9fLCBhcmdzKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJnZXRSZXNwb25zZUhlYWRlclwiLCBhcmdzWzBdKTtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlIDwgdGhpcy5yZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiaGVhZGVycyBub3QgcmVjZWl2ZWQgeWV0LCByZXR1cm5pbmcgbnVsbFwiKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXJWYWx1ZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KGFyZ3NbMF0pO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICAgICdyZXNvbHZlZCByZXNwb25zZSBoZWFkZXIgXCIlc1wiIHRvJyxcbiAgICAgICAgICBhcmdzWzBdLFxuICAgICAgICAgIGhlYWRlclZhbHVlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBoZWFkZXJWYWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzID0gbmV3IFByb3h5KFxuICAgICAgdGhpcy5yZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHtcbiAgICAgICAgYXBwbHk6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzXCIpO1xuICAgICAgICAgIGlmICh0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSA8IHRoaXMucmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiaGVhZGVycyBub3QgcmVjZWl2ZWQgeWV0LCByZXR1cm5pbmcgZW1wdHkgc3RyaW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGhlYWRlcnNMaXN0ID0gQXJyYXkuZnJvbShyZXNwb25zZS5oZWFkZXJzLmVudHJpZXMoKSk7XG4gICAgICAgICAgY29uc3QgYWxsSGVhZGVycyA9IGhlYWRlcnNMaXN0Lm1hcCgoW2hlYWRlck5hbWUsIGhlYWRlclZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGAke2hlYWRlck5hbWV9OiAke2hlYWRlclZhbHVlfWA7XG4gICAgICAgICAgfSkuam9pbihcIlxcclxcblwiKTtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVzb2x2ZWQgYWxsIHJlc3BvbnNlIGhlYWRlcnMgdG9cIiwgYWxsSGVhZGVycyk7XG4gICAgICAgICAgcmV0dXJuIGFsbEhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMucmVxdWVzdCwge1xuICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB0aGlzLnJlc3BvbnNlXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2VUZXh0OiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGdldDogKCkgPT4gdGhpcy5yZXNwb25zZVRleHRcbiAgICAgIH0sXG4gICAgICByZXNwb25zZVhNTDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBnZXQ6ICgpID0+IHRoaXMucmVzcG9uc2VYTUxcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCB0b3RhbFJlc3BvbnNlQm9keUxlbmd0aCA9IGF3YWl0IGdldEJvZHlCeXRlTGVuZ3RoKHJlc3BvbnNlLmNsb25lKCkpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJjYWxjdWxhdGVkIHJlc3BvbnNlIGJvZHkgbGVuZ3RoXCIsIHRvdGFsUmVzcG9uc2VCb2R5TGVuZ3RoKTtcbiAgICB0aGlzLnRyaWdnZXIoXCJsb2Fkc3RhcnRcIiwgdGhpcy5yZXF1ZXN0LCB7XG4gICAgICBsb2FkZWQ6IDAsXG4gICAgICB0b3RhbDogdG90YWxSZXNwb25zZUJvZHlMZW5ndGhcbiAgICB9KTtcbiAgICB0aGlzLnNldFJlYWR5U3RhdGUodGhpcy5yZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQpO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLnJlcXVlc3QuTE9BRElORyk7XG4gICAgY29uc3QgZmluYWxpemVSZXNwb25zZSA9ICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJmaW5hbGl6aW5nIHRoZSBtb2NrZWQgcmVzcG9uc2UuLi5cIik7XG4gICAgICB0aGlzLnNldFJlYWR5U3RhdGUodGhpcy5yZXF1ZXN0LkRPTkUpO1xuICAgICAgdGhpcy50cmlnZ2VyKFwibG9hZFwiLCB0aGlzLnJlcXVlc3QsIHtcbiAgICAgICAgbG9hZGVkOiB0aGlzLnJlc3BvbnNlQnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgIHRvdGFsOiB0b3RhbFJlc3BvbnNlQm9keUxlbmd0aFxuICAgICAgfSk7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJsb2FkZW5kXCIsIHRoaXMucmVxdWVzdCwge1xuICAgICAgICBsb2FkZWQ6IHRoaXMucmVzcG9uc2VCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVzcG9uc2VCb2R5TGVuZ3RoXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGlmIChyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKFwibW9ja2VkIHJlc3BvbnNlIGhhcyBib2R5LCBzdHJlYW1pbmcuLi5cIik7XG4gICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpO1xuICAgICAgY29uc3QgcmVhZE5leHRSZXNwb25zZUJvZHlDaHVuayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVzcG9uc2UgYm9keSBzdHJlYW0gZG9uZSFcIik7XG4gICAgICAgICAgZmluYWxpemVSZXNwb25zZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVhZCByZXNwb25zZSBib2R5IGNodW5rOlwiLCB2YWx1ZSk7XG4gICAgICAgICAgdGhpcy5yZXNwb25zZUJ1ZmZlciA9IGNvbmNhdEFycmF5QnVmZmVyKHRoaXMucmVzcG9uc2VCdWZmZXIsIHZhbHVlKTtcbiAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJwcm9ncmVzc1wiLCB0aGlzLnJlcXVlc3QsIHtcbiAgICAgICAgICAgIGxvYWRlZDogdGhpcy5yZXNwb25zZUJ1ZmZlci5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgdG90YWw6IHRvdGFsUmVzcG9uc2VCb2R5TGVuZ3RoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVhZE5leHRSZXNwb25zZUJvZHlDaHVuaygpO1xuICAgICAgfTtcbiAgICAgIHJlYWROZXh0UmVzcG9uc2VCb2R5Q2h1bmsoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmluYWxpemVSZXNwb25zZSgpO1xuICAgIH1cbiAgfVxuICByZXNwb25zZUJ1ZmZlclRvVGV4dCgpIHtcbiAgICByZXR1cm4gZGVjb2RlQnVmZmVyKHRoaXMucmVzcG9uc2VCdWZmZXIpO1xuICB9XG4gIGdldCByZXNwb25zZSgpIHtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgXCJnZXRSZXNwb25zZSAocmVzcG9uc2VUeXBlOiAlcylcIixcbiAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGVcbiAgICApO1xuICAgIGlmICh0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gdGhpcy5yZXF1ZXN0LkRPTkUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGUpIHtcbiAgICAgIGNhc2UgXCJqc29uXCI6IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VKc29uID0gcGFyc2VKc29uKHRoaXMucmVzcG9uc2VCdWZmZXJUb1RleHQoKSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXNvbHZlZCByZXNwb25zZSBKU09OXCIsIHJlc3BvbnNlSnNvbik7XG4gICAgICAgIHJldHVybiByZXNwb25zZUpzb247XG4gICAgICB9XG4gICAgICBjYXNlIFwiYXJyYXlidWZmZXJcIjoge1xuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IHRvQXJyYXlCdWZmZXIodGhpcy5yZXNwb25zZUJ1ZmZlcik7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXNvbHZlZCByZXNwb25zZSBBcnJheUJ1ZmZlclwiLCBhcnJheUJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBhcnJheUJ1ZmZlcjtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJibG9iXCI6IHtcbiAgICAgICAgY29uc3QgbWltZVR5cGUgPSB0aGlzLnJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgfHwgXCJ0ZXh0L3BsYWluXCI7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQmxvYiA9IG5ldyBCbG9iKFt0aGlzLnJlc3BvbnNlQnVmZmVyVG9UZXh0KCldLCB7XG4gICAgICAgICAgdHlwZTogbWltZVR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgXCJyZXNvbHZlZCByZXNwb25zZSBCbG9iIChtaW1lIHR5cGU6ICVzKVwiLFxuICAgICAgICAgIHJlc3BvbnNlQmxvYixcbiAgICAgICAgICBtaW1lVHlwZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VCbG9iO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSB0aGlzLnJlc3BvbnNlQnVmZmVyVG9UZXh0KCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgJ3Jlc29sdmluZyBcIiVzXCIgcmVzcG9uc2UgdHlwZSBhcyB0ZXh0JyxcbiAgICAgICAgICB0aGlzLnJlcXVlc3QucmVzcG9uc2VUeXBlLFxuICAgICAgICAgIHJlc3BvbnNlVGV4dFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VUZXh0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgcmVzcG9uc2VUZXh0KCkge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGUgPT09IFwiXCIgfHwgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gXCJ0ZXh0XCIsXG4gICAgICBcIkludmFsaWRTdGF0ZUVycm9yOiBUaGUgb2JqZWN0IGlzIGluIGludmFsaWQgc3RhdGUuXCJcbiAgICApO1xuICAgIGlmICh0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gdGhpcy5yZXF1ZXN0LkxPQURJTkcgJiYgdGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUgIT09IHRoaXMucmVxdWVzdC5ET05FKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gdGhpcy5yZXNwb25zZUJ1ZmZlclRvVGV4dCgpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oJ2dldFJlc3BvbnNlVGV4dDogXCIlc1wiJywgcmVzcG9uc2VUZXh0KTtcbiAgICByZXR1cm4gcmVzcG9uc2VUZXh0O1xuICB9XG4gIGdldCByZXNwb25zZVhNTCgpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0aGlzLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSBcIlwiIHx8IHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGUgPT09IFwiZG9jdW1lbnRcIixcbiAgICAgIFwiSW52YWxpZFN0YXRlRXJyb3I6IFRoZSBvYmplY3QgaXMgaW4gaW52YWxpZCBzdGF0ZS5cIlxuICAgICk7XG4gICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlICE9PSB0aGlzLnJlcXVlc3QuRE9ORSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gdGhpcy5yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpIHx8IFwiXCI7XG4gICAgaWYgKHR5cGVvZiBET01QYXJzZXIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJDYW5ub3QgcmV0cmlldmUgWE1MSHR0cFJlcXVlc3QgcmVzcG9uc2UgYm9keSBhcyBYTUw6IERPTVBhcnNlciBpcyBub3QgZGVmaW5lZC4gWW91IGFyZSBsaWtlbHkgdXNpbmcgYW4gZW52aXJvbm1lbnQgdGhhdCBpcyBub3QgYnJvd3NlciBvciBkb2VzIG5vdCBwb2x5ZmlsbCBicm93c2VyIGdsb2JhbHMgY29ycmVjdGx5LlwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChpc0RvbVBhcnNlclN1cHBvcnRlZFR5cGUoY29udGVudFR5cGUpKSB7XG4gICAgICByZXR1cm4gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhcbiAgICAgICAgdGhpcy5yZXNwb25zZUJ1ZmZlclRvVGV4dCgpLFxuICAgICAgICBjb250ZW50VHlwZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZXJyb3JXaXRoKGVycm9yMikge1xuICAgIHRoaXNba0lzUmVxdWVzdEhhbmRsZWRdID0gdHJ1ZTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVzcG9uZGluZyB3aXRoIGFuIGVycm9yXCIpO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLnJlcXVlc3QuRE9ORSk7XG4gICAgdGhpcy50cmlnZ2VyKFwiZXJyb3JcIiwgdGhpcy5yZXF1ZXN0KTtcbiAgICB0aGlzLnRyaWdnZXIoXCJsb2FkZW5kXCIsIHRoaXMucmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zaXRpb25zIHRoaXMgcmVxdWVzdCdzIGByZWFkeVN0YXRlYCB0byB0aGUgZ2l2ZW4gb25lLlxuICAgKi9cbiAgc2V0UmVhZHlTdGF0ZShuZXh0UmVhZHlTdGF0ZSkge1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICBcInNldFJlYWR5U3RhdGU6ICVkIC0+ICVkXCIsXG4gICAgICB0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSxcbiAgICAgIG5leHRSZWFkeVN0YXRlXG4gICAgKTtcbiAgICBpZiAodGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUgPT09IG5leHRSZWFkeVN0YXRlKSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKFwicmVhZHkgc3RhdGUgaWRlbnRpY2FsLCBza2lwcGluZyB0cmFuc2l0aW9uLi4uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWZpbmUodGhpcy5yZXF1ZXN0LCBcInJlYWR5U3RhdGVcIiwgbmV4dFJlYWR5U3RhdGUpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJzZXQgcmVhZHlTdGF0ZSB0bzogJWRcIiwgbmV4dFJlYWR5U3RhdGUpO1xuICAgIGlmIChuZXh0UmVhZHlTdGF0ZSAhPT0gdGhpcy5yZXF1ZXN0LlVOU0VOVCkge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbygndHJpZ2dlcnJpbmcgXCJyZWFkeXN0YXRlY2hhbmdlXCIgZXZlbnQuLi4nKTtcbiAgICAgIHRoaXMudHJpZ2dlcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgdGhpcy5yZXF1ZXN0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRyaWdnZXJzIGdpdmVuIGV2ZW50IG9uIHRoZSBgWE1MSHR0cFJlcXVlc3RgIGluc3RhbmNlLlxuICAgKi9cbiAgdHJpZ2dlcihldmVudE5hbWUsIHRhcmdldCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gdGFyZ2V0W2BvbiR7ZXZlbnROYW1lfWBdO1xuICAgIGNvbnN0IGV2ZW50ID0gY3JlYXRlRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oJ3RyaWdnZXIgXCIlc1wiJywgZXZlbnROYW1lLCBvcHRpb25zIHx8IFwiXCIpO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbygnZm91bmQgYSBkaXJlY3QgXCIlc1wiIGNhbGxiYWNrLCBjYWxsaW5nLi4uJywgZXZlbnROYW1lKTtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGFyZ2V0LCBldmVudCk7XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50cyA9IHRhcmdldCBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0VXBsb2FkID8gdGhpcy51cGxvYWRFdmVudHMgOiB0aGlzLmV2ZW50cztcbiAgICBmb3IgKGNvbnN0IFtyZWdpc3RlcmVkRXZlbnROYW1lLCBsaXN0ZW5lcnNdIG9mIGV2ZW50cykge1xuICAgICAgaWYgKHJlZ2lzdGVyZWRFdmVudE5hbWUgPT09IGV2ZW50TmFtZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICAgICdmb3VuZCAlZCBsaXN0ZW5lcihzKSBmb3IgXCIlc1wiIGV2ZW50LCBjYWxsaW5nLi4uJyxcbiAgICAgICAgICBsaXN0ZW5lcnMubGVuZ3RoLFxuICAgICAgICAgIGV2ZW50TmFtZVxuICAgICAgICApO1xuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyLmNhbGwodGFyZ2V0LCBldmVudCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBgWE1MSHR0cFJlcXVlc3RgIGluc3RhbmNlIGludG8gYSBGZXRjaCBBUEkgYFJlcXVlc3RgIGluc3RhbmNlLlxuICAgKi9cbiAgdG9GZXRjaEFwaVJlcXVlc3QoYm9keSkge1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJjb252ZXJ0aW5nIHJlcXVlc3QgdG8gYSBGZXRjaCBBUEkgUmVxdWVzdC4uLlwiKTtcbiAgICBjb25zdCByZXNvbHZlZEJvZHkgPSBib2R5IGluc3RhbmNlb2YgRG9jdW1lbnQgPyBib2R5LmRvY3VtZW50RWxlbWVudC5pbm5lclRleHQgOiBib2R5O1xuICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHRoaXMudXJsLmhyZWYsIHtcbiAgICAgIG1ldGhvZDogdGhpcy5tZXRob2QsXG4gICAgICBoZWFkZXJzOiB0aGlzLnJlcXVlc3RIZWFkZXJzLFxuICAgICAgLyoqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy8jY3Jvc3Mtb3JpZ2luLWNyZWRlbnRpYWxzXG4gICAgICAgKi9cbiAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLnJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID8gXCJpbmNsdWRlXCIgOiBcInNhbWUtb3JpZ2luXCIsXG4gICAgICBib2R5OiBbXCJHRVRcIiwgXCJIRUFEXCJdLmluY2x1ZGVzKHRoaXMubWV0aG9kLnRvVXBwZXJDYXNlKCkpID8gbnVsbCA6IHJlc29sdmVkQm9keVxuICAgIH0pO1xuICAgIGNvbnN0IHByb3h5SGVhZGVycyA9IGNyZWF0ZVByb3h5KGZldGNoUmVxdWVzdC5oZWFkZXJzLCB7XG4gICAgICBtZXRob2RDYWxsOiAoW21ldGhvZE5hbWUsIGFyZ3NdLCBpbnZva2UpID0+IHtcbiAgICAgICAgc3dpdGNoIChtZXRob2ROYW1lKSB7XG4gICAgICAgICAgY2FzZSBcImFwcGVuZFwiOlxuICAgICAgICAgIGNhc2UgXCJzZXRcIjoge1xuICAgICAgICAgICAgY29uc3QgW2hlYWRlck5hbWUsIGhlYWRlclZhbHVlXSA9IGFyZ3M7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJOYW1lLCBoZWFkZXJWYWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcImRlbGV0ZVwiOiB7XG4gICAgICAgICAgICBjb25zdCBbaGVhZGVyTmFtZV0gPSBhcmdzO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgWE1MSHR0cFJlcXVlc3Q6IENhbm5vdCByZW1vdmUgYSBcIiR7aGVhZGVyTmFtZX1cIiBoZWFkZXIgZnJvbSB0aGUgRmV0Y2ggQVBJIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBcIiR7ZmV0Y2hSZXF1ZXN0Lm1ldGhvZH0gJHtmZXRjaFJlcXVlc3QudXJsfVwiIHJlcXVlc3QuIFhNTEh0dHBSZXF1ZXN0IGhlYWRlcnMgY2Fubm90IGJlIHJlbW92ZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZGVmaW5lKGZldGNoUmVxdWVzdCwgXCJoZWFkZXJzXCIsIHByb3h5SGVhZGVycyk7XG4gICAgc2V0UmF3UmVxdWVzdChmZXRjaFJlcXVlc3QsIHRoaXMucmVxdWVzdCk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcImNvbnZlcnRlZCByZXF1ZXN0IHRvIGEgRmV0Y2ggQVBJIFJlcXVlc3QhXCIsIGZldGNoUmVxdWVzdCk7XG4gICAgcmV0dXJuIGZldGNoUmVxdWVzdDtcbiAgfVxufTtcbmZ1bmN0aW9uIHRvQWJzb2x1dGVVcmwodXJsKSB7XG4gIGlmICh0eXBlb2YgbG9jYXRpb24gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gbmV3IFVSTCh1cmwpO1xuICB9XG4gIHJldHVybiBuZXcgVVJMKHVybC50b1N0cmluZygpLCBsb2NhdGlvbi5ocmVmKTtcbn1cbmZ1bmN0aW9uIGRlZmluZSh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIHtcbiAgICAvLyBFbnN1cmUgd3JpdGFibGUgcHJvcGVydGllcyB0byBhbGxvdyByZWRlZmluaW5nIHJlYWRvbmx5IHByb3BlcnRpZXMuXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVhNTEh0dHBSZXF1ZXN0UHJveHkoe1xuICBlbWl0dGVyLFxuICBsb2dnZXJcbn0pIHtcbiAgY29uc3QgWE1MSHR0cFJlcXVlc3RQcm94eSA9IG5ldyBQcm94eShnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0LCB7XG4gICAgY29uc3RydWN0KHRhcmdldCwgYXJncywgbmV3VGFyZ2V0KSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImNvbnN0cnVjdGVkIG5ldyBYTUxIdHRwUmVxdWVzdFwiKTtcbiAgICAgIGNvbnN0IG9yaWdpbmFsUmVxdWVzdCA9IFJlZmxlY3QuY29uc3RydWN0KFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGFyZ3MsXG4gICAgICAgIG5ld1RhcmdldFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHByb3RvdHlwZURlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoXG4gICAgICAgIHRhcmdldC5wcm90b3R5cGVcbiAgICAgICk7XG4gICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBwcm90b3R5cGVEZXNjcmlwdG9ycykge1xuICAgICAgICBSZWZsZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgIG9yaWdpbmFsUmVxdWVzdCxcbiAgICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgcHJvdG90eXBlRGVzY3JpcHRvcnNbcHJvcGVydHlOYW1lXVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgeGhyUmVxdWVzdENvbnRyb2xsZXIgPSBuZXcgWE1MSHR0cFJlcXVlc3RDb250cm9sbGVyKFxuICAgICAgICBvcmlnaW5hbFJlcXVlc3QsXG4gICAgICAgIGxvZ2dlclxuICAgICAgKTtcbiAgICAgIHhoclJlcXVlc3RDb250cm9sbGVyLm9uUmVxdWVzdCA9IGFzeW5jIGZ1bmN0aW9uKHsgcmVxdWVzdCwgcmVxdWVzdElkIH0pIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBSZXF1ZXN0Q29udHJvbGxlcihyZXF1ZXN0KTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImF3YWl0aW5nIG1vY2tlZCByZXNwb25zZS4uLlwiKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAnZW1pdHRpbmcgdGhlIFwicmVxdWVzdFwiIGV2ZW50IGZvciAlcyBsaXN0ZW5lcihzKS4uLicsXG4gICAgICAgICAgZW1pdHRlci5saXN0ZW5lckNvdW50KFwicmVxdWVzdFwiKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBpc1JlcXVlc3RIYW5kbGVkID0gYXdhaXQgaGFuZGxlUmVxdWVzdDIoe1xuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgICAgZW1pdHRlcixcbiAgICAgICAgICBvblJlc3BvbnNlOiBhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVzcG9uZFdpdGgocmVzcG9uc2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25SZXF1ZXN0RXJyb3I6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JXaXRoKG5ldyBUeXBlRXJyb3IoXCJOZXR3b3JrIGVycm9yXCIpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRXJyb3I6IChlcnJvcjIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXF1ZXN0IGVycm9yZWQhXCIsIHsgZXJyb3I6IGVycm9yMiB9KTtcbiAgICAgICAgICAgIGlmIChlcnJvcjIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICB0aGlzLmVycm9yV2l0aChlcnJvcjIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghaXNSZXF1ZXN0SGFuZGxlZCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgICBcIm5vIG1vY2tlZCByZXNwb25zZSByZWNlaXZlZCwgcGVyZm9ybWluZyByZXF1ZXN0IGFzLWlzLi4uXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgeGhyUmVxdWVzdENvbnRyb2xsZXIub25SZXNwb25zZSA9IGFzeW5jIGZ1bmN0aW9uKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIGlzTW9ja2VkUmVzcG9uc2UsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3RJZFxuICAgICAgfSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICAgICdlbWl0dGluZyB0aGUgXCJyZXNwb25zZVwiIGV2ZW50IGZvciAlcyBsaXN0ZW5lcihzKS4uLicsXG4gICAgICAgICAgZW1pdHRlci5saXN0ZW5lckNvdW50KFwicmVzcG9uc2VcIilcbiAgICAgICAgKTtcbiAgICAgICAgZW1pdHRlci5lbWl0KFwicmVzcG9uc2VcIiwge1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIGlzTW9ja2VkUmVzcG9uc2UsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICByZXF1ZXN0SWRcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHhoclJlcXVlc3RDb250cm9sbGVyLnJlcXVlc3Q7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFhNTEh0dHBSZXF1ZXN0UHJveHk7XG59XG52YXIgX1hNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IgPSBjbGFzcyBleHRlbmRzIEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoX1hNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IuaW50ZXJjZXB0b3JTeW1ib2wpO1xuICB9XG4gIGNoZWNrRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIGhhc0NvbmZpZ3VyYWJsZUdsb2JhbChcIlhNTEh0dHBSZXF1ZXN0XCIpO1xuICB9XG4gIHNldHVwKCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcInNldHVwXCIpO1xuICAgIGxvZ2dlci5pbmZvKCdwYXRjaGluZyBcIlhNTEh0dHBSZXF1ZXN0XCIgbW9kdWxlLi4uJyk7XG4gICAgY29uc3QgUHVyZVhNTEh0dHBSZXF1ZXN0ID0gZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdDtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhUHVyZVhNTEh0dHBSZXF1ZXN0W0lTX1BBVENIRURfTU9EVUxFXSxcbiAgICAgICdGYWlsZWQgdG8gcGF0Y2ggdGhlIFwiWE1MSHR0cFJlcXVlc3RcIiBtb2R1bGU6IGFscmVhZHkgcGF0Y2hlZC4nXG4gICAgKTtcbiAgICBnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0ID0gY3JlYXRlWE1MSHR0cFJlcXVlc3RQcm94eSh7XG4gICAgICBlbWl0dGVyOiB0aGlzLmVtaXR0ZXIsXG4gICAgICBsb2dnZXI6IHRoaXMubG9nZ2VyXG4gICAgfSk7XG4gICAgbG9nZ2VyLmluZm8oXG4gICAgICAnbmF0aXZlIFwiWE1MSHR0cFJlcXVlc3RcIiBtb2R1bGUgcGF0Y2hlZCEnLFxuICAgICAgZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdC5uYW1lXG4gICAgKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdCwgSVNfUEFUQ0hFRF9NT0RVTEUsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0LCBJU19QQVRDSEVEX01PRFVMRSwge1xuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIGdsb2JhbFRoaXMuWE1MSHR0cFJlcXVlc3QgPSBQdXJlWE1MSHR0cFJlcXVlc3Q7XG4gICAgICBsb2dnZXIuaW5mbyhcbiAgICAgICAgJ25hdGl2ZSBcIlhNTEh0dHBSZXF1ZXN0XCIgbW9kdWxlIHJlc3RvcmVkIScsXG4gICAgICAgIGdsb2JhbFRoaXMuWE1MSHR0cFJlcXVlc3QubmFtZVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufTtcbnZhciBYTUxIdHRwUmVxdWVzdEludGVyY2VwdG9yID0gX1hNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3I7XG5YTUxIdHRwUmVxdWVzdEludGVyY2VwdG9yLmludGVyY2VwdG9yU3ltYm9sID0gU3ltYm9sKFwieGhyXCIpO1xuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC9jcmVhdGVGYWxsYmFja1JlcXVlc3RMaXN0ZW5lci50c1xuaW1wb3J0IHsgaGFuZGxlUmVxdWVzdCBhcyBoYW5kbGVSZXF1ZXN0MyB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaGFuZGxlUmVxdWVzdC5tanMnO1xuaW1wb3J0IHsgaXNIYW5kbGVyS2luZCBhcyBpc0hhbmRsZXJLaW5kMiB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvaXNIYW5kbGVyS2luZC5tanMnO1xuZnVuY3Rpb24gY3JlYXRlRmFsbGJhY2tSZXF1ZXN0TGlzdGVuZXIoY29udGV4dCwgb3B0aW9ucykge1xuICBjb25zdCBpbnRlcmNlcHRvciA9IG5ldyBCYXRjaEludGVyY2VwdG9yKHtcbiAgICBuYW1lOiBcImZhbGxiYWNrXCIsXG4gICAgaW50ZXJjZXB0b3JzOiBbbmV3IEZldGNoSW50ZXJjZXB0b3IoKSwgbmV3IFhNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IoKV1cbiAgfSk7XG4gIGludGVyY2VwdG9yLm9uKFwicmVxdWVzdFwiLCBhc3luYyAoeyByZXF1ZXN0LCByZXF1ZXN0SWQsIGNvbnRyb2xsZXIgfSkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3RDbG9uZUZvckxvZ3MgPSByZXF1ZXN0LmNsb25lKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0MyhcbiAgICAgIHJlcXVlc3QsXG4gICAgICByZXF1ZXN0SWQsXG4gICAgICBjb250ZXh0LmdldFJlcXVlc3RIYW5kbGVycygpLmZpbHRlcihpc0hhbmRsZXJLaW5kMihcIlJlcXVlc3RIYW5kbGVyXCIpKSxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjb250ZXh0LmVtaXR0ZXIsXG4gICAgICB7XG4gICAgICAgIG9uTW9ja2VkUmVzcG9uc2UoXywgeyBoYW5kbGVyLCBwYXJzZWRSZXN1bHQgfSkge1xuICAgICAgICAgIGlmICghb3B0aW9ucy5xdWlldCkge1xuICAgICAgICAgICAgY29udGV4dC5lbWl0dGVyLm9uY2UoXCJyZXNwb25zZTptb2NrZWRcIiwgKHsgcmVzcG9uc2U6IHJlc3BvbnNlMiB9KSA9PiB7XG4gICAgICAgICAgICAgIGhhbmRsZXIubG9nKHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0Q2xvbmVGb3JMb2dzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZTIsXG4gICAgICAgICAgICAgICAgcGFyc2VkUmVzdWx0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIGNvbnRyb2xsZXIucmVzcG9uZFdpdGgocmVzcG9uc2UpO1xuICAgIH1cbiAgfSk7XG4gIGludGVyY2VwdG9yLm9uKFxuICAgIFwicmVzcG9uc2VcIixcbiAgICAoeyByZXNwb25zZSwgaXNNb2NrZWRSZXNwb25zZSwgcmVxdWVzdCwgcmVxdWVzdElkIH0pID0+IHtcbiAgICAgIGNvbnRleHQuZW1pdHRlci5lbWl0KFxuICAgICAgICBpc01vY2tlZFJlc3BvbnNlID8gXCJyZXNwb25zZTptb2NrZWRcIiA6IFwicmVzcG9uc2U6YnlwYXNzXCIsXG4gICAgICAgIHtcbiAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIHJlcXVlc3RJZFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgaW50ZXJjZXB0b3IuYXBwbHkoKTtcbiAgcmV0dXJuIGludGVyY2VwdG9yO1xufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC9jcmVhdGVGYWxsYmFja1N0YXJ0LnRzXG5mdW5jdGlvbiBjcmVhdGVGYWxsYmFja1N0YXJ0KGNvbnRleHQpIHtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0KG9wdGlvbnMpIHtcbiAgICBjb250ZXh0LmZhbGxiYWNrSW50ZXJjZXB0b3IgPSBjcmVhdGVGYWxsYmFja1JlcXVlc3RMaXN0ZW5lcihcbiAgICAgIGNvbnRleHQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICBwcmludFN0YXJ0TWVzc2FnZSh7XG4gICAgICBtZXNzYWdlOiBcIk1vY2tpbmcgZW5hYmxlZCAoZmFsbGJhY2sgbW9kZSkuXCIsXG4gICAgICBxdWlldDogb3B0aW9ucy5xdWlldFxuICAgIH0pO1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH07XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0b3AvY3JlYXRlRmFsbGJhY2tTdG9wLnRzXG5mdW5jdGlvbiBjcmVhdGVGYWxsYmFja1N0b3AoY29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBjb250ZXh0LmZhbGxiYWNrSW50ZXJjZXB0b3I/LmRpc3Bvc2UoKTtcbiAgICBwcmludFN0b3BNZXNzYWdlKHsgcXVpZXQ6IGNvbnRleHQuc3RhcnRPcHRpb25zPy5xdWlldCB9KTtcbiAgfTtcbn1cblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc2V0dXBXb3JrZXIudHNcbmltcG9ydCB7IGRldlV0aWxzIGFzIGRldlV0aWxzMTAgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5pbXBvcnQgeyBTZXR1cEFwaSB9IGZyb20gJy4uL2NvcmUvU2V0dXBBcGkubWpzJztcbmltcG9ydCB7IG1lcmdlUmlnaHQgYXMgbWVyZ2VSaWdodDIgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL21lcmdlUmlnaHQubWpzJztcblxuLy8gc3JjL2Jyb3dzZXIvdXRpbHMvc3VwcG9ydHNSZWFkYWJsZVN0cmVhbVRyYW5zZmVyLnRzXG5mdW5jdGlvbiBzdXBwb3J0c1JlYWRhYmxlU3RyZWFtVHJhbnNmZXIoKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIHN0YXJ0OiAoY29udHJvbGxlcikgPT4gY29udHJvbGxlci5jbG9zZSgpXG4gICAgfSk7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgIG1lc3NhZ2UucG9ydDEucG9zdE1lc3NhZ2Uoc3RyZWFtLCBbc3RyZWFtXSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zZXR1cFdvcmtlci50c1xuaW1wb3J0IHsgd2ViU29ja2V0SW50ZXJjZXB0b3IgfSBmcm9tICcuLi9jb3JlL3dzL3dlYlNvY2tldEludGVyY2VwdG9yLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVXZWJTb2NrZXRFdmVudCB9IGZyb20gJy4uL2NvcmUvd3MvaGFuZGxlV2ViU29ja2V0RXZlbnQubWpzJztcbmltcG9ydCB7IGF0dGFjaFdlYlNvY2tldExvZ2dlciB9IGZyb20gJy4uL2NvcmUvd3MvdXRpbHMvYXR0YWNoV2ViU29ja2V0TG9nZ2VyLm1qcyc7XG52YXIgU2V0dXBXb3JrZXJBcGkgPSBjbGFzcyBleHRlbmRzIFNldHVwQXBpIHtcbiAgY29udGV4dDtcbiAgc3RhcnRIYW5kbGVyID0gbnVsbDtcbiAgc3RvcEhhbmRsZXIgPSBudWxsO1xuICBsaXN0ZW5lcnM7XG4gIGNvbnN0cnVjdG9yKC4uLmhhbmRsZXJzKSB7XG4gICAgc3VwZXIoLi4uaGFuZGxlcnMpO1xuICAgIGludmFyaWFudChcbiAgICAgICFpc05vZGVQcm9jZXNzKCksXG4gICAgICBkZXZVdGlsczEwLmZvcm1hdE1lc3NhZ2UoXG4gICAgICAgIFwiRmFpbGVkIHRvIGV4ZWN1dGUgYHNldHVwV29ya2VyYCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LiBDb25zaWRlciB1c2luZyBgc2V0dXBTZXJ2ZXJgIGZvciBOb2RlLmpzIGVudmlyb25tZW50IGluc3RlYWQuXCJcbiAgICAgIClcbiAgICApO1xuICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jcmVhdGVXb3JrZXJDb250ZXh0KCk7XG4gIH1cbiAgY3JlYXRlV29ya2VyQ29udGV4dCgpIHtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgLy8gTW9ja2luZyBpcyBub3QgY29uc2lkZXJlZCBlbmFibGVkIHVudGlsIHRoZSB3b3JrZXJcbiAgICAgIC8vIHNpZ25hbHMgYmFjayB0aGUgc3VjY2Vzc2Z1bCBhY3RpdmF0aW9uIGV2ZW50LlxuICAgICAgaXNNb2NraW5nRW5hYmxlZDogZmFsc2UsXG4gICAgICBzdGFydE9wdGlvbnM6IG51bGwsXG4gICAgICB3b3JrZXI6IG51bGwsXG4gICAgICBnZXRSZXF1ZXN0SGFuZGxlcnM6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlcnNDb250cm9sbGVyLmN1cnJlbnRIYW5kbGVycygpO1xuICAgICAgfSxcbiAgICAgIHJlZ2lzdHJhdGlvbjogbnVsbCxcbiAgICAgIGVtaXR0ZXI6IHRoaXMuZW1pdHRlcixcbiAgICAgIHdvcmtlckNoYW5uZWw6IHtcbiAgICAgICAgb246IChldmVudFR5cGUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0LmV2ZW50cy5hZGRMaXN0ZW5lcihuYXZpZ2F0b3Iuc2VydmljZVdvcmtlciwgXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gdGhpcy5jb250ZXh0Lndvcmtlcikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSBldmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZW5kOiAodHlwZSkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGV4dC53b3JrZXI/LnBvc3RNZXNzYWdlKHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIGFkZExpc3RlbmVyOiAodGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjayk7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICBldmVudFR5cGUsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVBbGxMaXN0ZW5lcnM6ICgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHsgdGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrIH0gb2YgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICBvbmNlOiAoZXZlbnRUeXBlKSA9PiB7XG4gICAgICAgICAgY29uc3QgYmluZGluZ3MgPSBbXTtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlSW5jb21pbmdNZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBiaW5kaW5ncy5wdXNoKFxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZXZlbnRzLmFkZExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLFxuICAgICAgICAgICAgICAgIFwibWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIGhhbmRsZUluY29taW5nTWVzc2FnZVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZXZlbnRzLmFkZExpc3RlbmVyKFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLFxuICAgICAgICAgICAgICAgIFwibWVzc2FnZWVycm9yXCIsXG4gICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBiaW5kaW5ncy5mb3JFYWNoKCh1bmJpbmQpID0+IHVuYmluZCgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN1cHBvcnRzOiB7XG4gICAgICAgIHNlcnZpY2VXb3JrZXJBcGk6ICEoXCJzZXJ2aWNlV29ya2VyXCIgaW4gbmF2aWdhdG9yKSB8fCBsb2NhdGlvbi5wcm90b2NvbCA9PT0gXCJmaWxlOlwiLFxuICAgICAgICByZWFkYWJsZVN0cmVhbVRyYW5zZmVyOiBzdXBwb3J0c1JlYWRhYmxlU3RyZWFtVHJhbnNmZXIoKVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zdGFydEhhbmRsZXIgPSBjb250ZXh0LnN1cHBvcnRzLnNlcnZpY2VXb3JrZXJBcGkgPyBjcmVhdGVGYWxsYmFja1N0YXJ0KGNvbnRleHQpIDogY3JlYXRlU3RhcnRIYW5kbGVyKGNvbnRleHQpO1xuICAgIHRoaXMuc3RvcEhhbmRsZXIgPSBjb250ZXh0LnN1cHBvcnRzLnNlcnZpY2VXb3JrZXJBcGkgPyBjcmVhdGVGYWxsYmFja1N0b3AoY29udGV4dCkgOiBjcmVhdGVTdG9wKGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG4gIGFzeW5jIHN0YXJ0KG9wdGlvbnMgPSB7fSkge1xuICAgIGlmIChvcHRpb25zLndhaXRVbnRpbFJlYWR5ID09PSB0cnVlKSB7XG4gICAgICBkZXZVdGlsczEwLndhcm4oXG4gICAgICAgICdUaGUgXCJ3YWl0VW50aWxSZWFkeVwiIG9wdGlvbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBQbGVhc2UgcmVtb3ZlIGl0IGZyb20gdGhpcyBcIndvcmtlci5zdGFydCgpXCIgY2FsbC4gRm9sbG93IHRoZSByZWNvbW1lbmRlZCBCcm93c2VyIGludGVncmF0aW9uIChodHRwczovL21zd2pzLmlvL2RvY3MvaW50ZWdyYXRpb25zL2Jyb3dzZXIpIHRvIGVsaW1pbmF0ZSBhbnkgcmFjZSBjb25kaXRpb25zIGJldHdlZW4gdGhlIFNlcnZpY2UgV29ya2VyIHJlZ2lzdHJhdGlvbiBhbmQgYW55IHJlcXVlc3RzIG1hZGUgYnkgeW91ciBhcHBsaWNhdGlvbiBvbiBpbml0aWFsIHJlbmRlci4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNvbnRleHQuc3RhcnRPcHRpb25zID0gbWVyZ2VSaWdodDIoXG4gICAgICBERUZBVUxUX1NUQVJUX09QVElPTlMsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICBoYW5kbGVXZWJTb2NrZXRFdmVudCh7XG4gICAgICBnZXRVbmhhbmRsZWRSZXF1ZXN0U3RyYXRlZ3k6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zdGFydE9wdGlvbnMub25VbmhhbmRsZWRSZXF1ZXN0O1xuICAgICAgfSxcbiAgICAgIGdldEhhbmRsZXJzOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZXJzQ29udHJvbGxlci5jdXJyZW50SGFuZGxlcnMoKTtcbiAgICAgIH0sXG4gICAgICBvbk1vY2tlZENvbm5lY3Rpb246IChjb25uZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5jb250ZXh0LnN0YXJ0T3B0aW9ucy5xdWlldCkge1xuICAgICAgICAgIGF0dGFjaFdlYlNvY2tldExvZ2dlcihjb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uUGFzc3Rocm91Z2hDb25uZWN0aW9uKCkge1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdlYlNvY2tldEludGVyY2VwdG9yLmFwcGx5KCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgd2ViU29ja2V0SW50ZXJjZXB0b3IuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0YXJ0SGFuZGxlcih0aGlzLmNvbnRleHQuc3RhcnRPcHRpb25zLCBvcHRpb25zKTtcbiAgfVxuICBzdG9wKCkge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLmNvbnRleHQuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuY29udGV4dC5lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuc3RvcEhhbmRsZXIoKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNldHVwV29ya2VyKC4uLmhhbmRsZXJzKSB7XG4gIHJldHVybiBuZXcgU2V0dXBXb3JrZXJBcGkoLi4uaGFuZGxlcnMpO1xufVxuZXhwb3J0IHtcbiAgU2V0dXBXb3JrZXJBcGksXG4gIHNldHVwV29ya2VyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/browser/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/HttpResponse.mjs":
/*!****************************************************!*\
  !*** ./node_modules/msw/lib/core/HttpResponse.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpResponse: () => (/* binding */ HttpResponse),\n/* harmony export */   bodyType: () => (/* binding */ bodyType)\n/* harmony export */ });\n/* harmony import */ var _mswjs_interceptors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mswjs/interceptors */ \"(ssr)/./node_modules/@mswjs/interceptors/lib/node/index.mjs\");\n/* harmony import */ var _utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/HttpResponse/decorators.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs\");\n\n\nconst bodyType = Symbol(\"bodyType\");\nclass HttpResponse extends _mswjs_interceptors__WEBPACK_IMPORTED_MODULE_0__.FetchResponse {\n  [bodyType] = null;\n  constructor(body, init) {\n    const responseInit = (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizeResponseInit)(init);\n    super(body, responseInit);\n    (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.decorateResponse)(this, responseInit);\n  }\n  static error() {\n    return super.error();\n  }\n  /**\n   * Create a `Response` with a `Content-Type: \"text/plain\"` body.\n   * @example\n   * HttpResponse.text('hello world')\n   * HttpResponse.text('Error', { status: 500 })\n   */\n  static text(body, init) {\n    const responseInit = (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizeResponseInit)(init);\n    if (!responseInit.headers.has(\"Content-Type\")) {\n      responseInit.headers.set(\"Content-Type\", \"text/plain\");\n    }\n    if (!responseInit.headers.has(\"Content-Length\")) {\n      responseInit.headers.set(\n        \"Content-Length\",\n        body ? new Blob([body]).size.toString() : \"0\"\n      );\n    }\n    return new HttpResponse(body, responseInit);\n  }\n  /**\n   * Create a `Response` with a `Content-Type: \"application/json\"` body.\n   * @example\n   * HttpResponse.json({ firstName: 'John' })\n   * HttpResponse.json({ error: 'Not Authorized' }, { status: 401 })\n   */\n  static json(body, init) {\n    const responseInit = (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizeResponseInit)(init);\n    if (!responseInit.headers.has(\"Content-Type\")) {\n      responseInit.headers.set(\"Content-Type\", \"application/json\");\n    }\n    const responseText = JSON.stringify(body);\n    if (!responseInit.headers.has(\"Content-Length\")) {\n      responseInit.headers.set(\n        \"Content-Length\",\n        responseText ? new Blob([responseText]).size.toString() : \"0\"\n      );\n    }\n    return new HttpResponse(responseText, responseInit);\n  }\n  /**\n   * Create a `Response` with a `Content-Type: \"application/xml\"` body.\n   * @example\n   * HttpResponse.xml(`<user name=\"John\" />`)\n   * HttpResponse.xml(`<article id=\"abc-123\" />`, { status: 201 })\n   */\n  static xml(body, init) {\n    const responseInit = (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizeResponseInit)(init);\n    if (!responseInit.headers.has(\"Content-Type\")) {\n      responseInit.headers.set(\"Content-Type\", \"text/xml\");\n    }\n    return new HttpResponse(body, responseInit);\n  }\n  /**\n   * Create a `Response` with a `Content-Type: \"text/html\"` body.\n   * @example\n   * HttpResponse.html(`<p class=\"author\">Jane Doe</p>`)\n   * HttpResponse.html(`<main id=\"abc-123\">Main text</main>`, { status: 201 })\n   */\n  static html(body, init) {\n    const responseInit = (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizeResponseInit)(init);\n    if (!responseInit.headers.has(\"Content-Type\")) {\n      responseInit.headers.set(\"Content-Type\", \"text/html\");\n    }\n    return new HttpResponse(body, responseInit);\n  }\n  /**\n   * Create a `Response` with an `ArrayBuffer` body.\n   * @example\n   * const buffer = new ArrayBuffer(3)\n   * const view = new Uint8Array(buffer)\n   * view.set([1, 2, 3])\n   *\n   * HttpResponse.arrayBuffer(buffer)\n   */\n  static arrayBuffer(body, init) {\n    const responseInit = (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizeResponseInit)(init);\n    if (!responseInit.headers.has(\"Content-Type\")) {\n      responseInit.headers.set(\"Content-Type\", \"application/octet-stream\");\n    }\n    if (body && !responseInit.headers.has(\"Content-Length\")) {\n      responseInit.headers.set(\"Content-Length\", body.byteLength.toString());\n    }\n    return new HttpResponse(body, responseInit);\n  }\n  /**\n   * Create a `Response` with a `FormData` body.\n   * @example\n   * const data = new FormData()\n   * data.set('name', 'Alice')\n   *\n   * HttpResponse.formData(data)\n   */\n  static formData(body, init) {\n    return new HttpResponse(body, (0,_utils_HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizeResponseInit)(init));\n  }\n}\n\n//# sourceMappingURL=HttpResponse.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL0h0dHBSZXNwb25zZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvRDtBQUlQO0FBQzdDO0FBQ0EsMkJBQTJCLDhEQUFhO0FBQ3hDO0FBQ0E7QUFDQSx5QkFBeUIseUZBQXFCO0FBQzlDO0FBQ0EsSUFBSSxvRkFBZ0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQSx5QkFBeUIseUZBQXFCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbUJBQW1CO0FBQzVDLHlCQUF5Qix5QkFBeUIsSUFBSSxhQUFhO0FBQ25FO0FBQ0E7QUFDQSx5QkFBeUIseUZBQXFCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGFBQWE7QUFDakU7QUFDQTtBQUNBLHlCQUF5Qix5RkFBcUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGFBQWE7QUFDN0U7QUFDQTtBQUNBLHlCQUF5Qix5RkFBcUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlGQUFxQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLHlGQUFxQjtBQUN2RDtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS9IdHRwUmVzcG9uc2UubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZldGNoUmVzcG9uc2UgfSBmcm9tIFwiQG1zd2pzL2ludGVyY2VwdG9yc1wiO1xuaW1wb3J0IHtcbiAgZGVjb3JhdGVSZXNwb25zZSxcbiAgbm9ybWFsaXplUmVzcG9uc2VJbml0XG59IGZyb20gJy4vdXRpbHMvSHR0cFJlc3BvbnNlL2RlY29yYXRvcnMubWpzJztcbmNvbnN0IGJvZHlUeXBlID0gU3ltYm9sKFwiYm9keVR5cGVcIik7XG5jbGFzcyBIdHRwUmVzcG9uc2UgZXh0ZW5kcyBGZXRjaFJlc3BvbnNlIHtcbiAgW2JvZHlUeXBlXSA9IG51bGw7XG4gIGNvbnN0cnVjdG9yKGJvZHksIGluaXQpIHtcbiAgICBjb25zdCByZXNwb25zZUluaXQgPSBub3JtYWxpemVSZXNwb25zZUluaXQoaW5pdCk7XG4gICAgc3VwZXIoYm9keSwgcmVzcG9uc2VJbml0KTtcbiAgICBkZWNvcmF0ZVJlc3BvbnNlKHRoaXMsIHJlc3BvbnNlSW5pdCk7XG4gIH1cbiAgc3RhdGljIGVycm9yKCkge1xuICAgIHJldHVybiBzdXBlci5lcnJvcigpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBgUmVzcG9uc2VgIHdpdGggYSBgQ29udGVudC1UeXBlOiBcInRleHQvcGxhaW5cImAgYm9keS5cbiAgICogQGV4YW1wbGVcbiAgICogSHR0cFJlc3BvbnNlLnRleHQoJ2hlbGxvIHdvcmxkJylcbiAgICogSHR0cFJlc3BvbnNlLnRleHQoJ0Vycm9yJywgeyBzdGF0dXM6IDUwMCB9KVxuICAgKi9cbiAgc3RhdGljIHRleHQoYm9keSwgaW5pdCkge1xuICAgIGNvbnN0IHJlc3BvbnNlSW5pdCA9IG5vcm1hbGl6ZVJlc3BvbnNlSW5pdChpbml0KTtcbiAgICBpZiAoIXJlc3BvbnNlSW5pdC5oZWFkZXJzLmhhcyhcIkNvbnRlbnQtVHlwZVwiKSkge1xuICAgICAgcmVzcG9uc2VJbml0LmhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwidGV4dC9wbGFpblwiKTtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZUluaXQuaGVhZGVycy5oYXMoXCJDb250ZW50LUxlbmd0aFwiKSkge1xuICAgICAgcmVzcG9uc2VJbml0LmhlYWRlcnMuc2V0KFxuICAgICAgICBcIkNvbnRlbnQtTGVuZ3RoXCIsXG4gICAgICAgIGJvZHkgPyBuZXcgQmxvYihbYm9keV0pLnNpemUudG9TdHJpbmcoKSA6IFwiMFwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEh0dHBSZXNwb25zZShib2R5LCByZXNwb25zZUluaXQpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBgUmVzcG9uc2VgIHdpdGggYSBgQ29udGVudC1UeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cImAgYm9keS5cbiAgICogQGV4YW1wbGVcbiAgICogSHR0cFJlc3BvbnNlLmpzb24oeyBmaXJzdE5hbWU6ICdKb2huJyB9KVxuICAgKiBIdHRwUmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm90IEF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICovXG4gIHN0YXRpYyBqc29uKGJvZHksIGluaXQpIHtcbiAgICBjb25zdCByZXNwb25zZUluaXQgPSBub3JtYWxpemVSZXNwb25zZUluaXQoaW5pdCk7XG4gICAgaWYgKCFyZXNwb25zZUluaXQuaGVhZGVycy5oYXMoXCJDb250ZW50LVR5cGVcIikpIHtcbiAgICAgIHJlc3BvbnNlSW5pdC5oZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuICAgIGlmICghcmVzcG9uc2VJbml0LmhlYWRlcnMuaGFzKFwiQ29udGVudC1MZW5ndGhcIikpIHtcbiAgICAgIHJlc3BvbnNlSW5pdC5oZWFkZXJzLnNldChcbiAgICAgICAgXCJDb250ZW50LUxlbmd0aFwiLFxuICAgICAgICByZXNwb25zZVRleHQgPyBuZXcgQmxvYihbcmVzcG9uc2VUZXh0XSkuc2l6ZS50b1N0cmluZygpIDogXCIwXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSHR0cFJlc3BvbnNlKHJlc3BvbnNlVGV4dCwgcmVzcG9uc2VJbml0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgYFJlc3BvbnNlYCB3aXRoIGEgYENvbnRlbnQtVHlwZTogXCJhcHBsaWNhdGlvbi94bWxcImAgYm9keS5cbiAgICogQGV4YW1wbGVcbiAgICogSHR0cFJlc3BvbnNlLnhtbChgPHVzZXIgbmFtZT1cIkpvaG5cIiAvPmApXG4gICAqIEh0dHBSZXNwb25zZS54bWwoYDxhcnRpY2xlIGlkPVwiYWJjLTEyM1wiIC8+YCwgeyBzdGF0dXM6IDIwMSB9KVxuICAgKi9cbiAgc3RhdGljIHhtbChib2R5LCBpbml0KSB7XG4gICAgY29uc3QgcmVzcG9uc2VJbml0ID0gbm9ybWFsaXplUmVzcG9uc2VJbml0KGluaXQpO1xuICAgIGlmICghcmVzcG9uc2VJbml0LmhlYWRlcnMuaGFzKFwiQ29udGVudC1UeXBlXCIpKSB7XG4gICAgICByZXNwb25zZUluaXQuaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L3htbFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIdHRwUmVzcG9uc2UoYm9keSwgcmVzcG9uc2VJbml0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgYFJlc3BvbnNlYCB3aXRoIGEgYENvbnRlbnQtVHlwZTogXCJ0ZXh0L2h0bWxcImAgYm9keS5cbiAgICogQGV4YW1wbGVcbiAgICogSHR0cFJlc3BvbnNlLmh0bWwoYDxwIGNsYXNzPVwiYXV0aG9yXCI+SmFuZSBEb2U8L3A+YClcbiAgICogSHR0cFJlc3BvbnNlLmh0bWwoYDxtYWluIGlkPVwiYWJjLTEyM1wiPk1haW4gdGV4dDwvbWFpbj5gLCB7IHN0YXR1czogMjAxIH0pXG4gICAqL1xuICBzdGF0aWMgaHRtbChib2R5LCBpbml0KSB7XG4gICAgY29uc3QgcmVzcG9uc2VJbml0ID0gbm9ybWFsaXplUmVzcG9uc2VJbml0KGluaXQpO1xuICAgIGlmICghcmVzcG9uc2VJbml0LmhlYWRlcnMuaGFzKFwiQ29udGVudC1UeXBlXCIpKSB7XG4gICAgICByZXNwb25zZUluaXQuaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L2h0bWxcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSHR0cFJlc3BvbnNlKGJvZHksIHJlc3BvbnNlSW5pdCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGBSZXNwb25zZWAgd2l0aCBhbiBgQXJyYXlCdWZmZXJgIGJvZHkuXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcigzKVxuICAgKiBjb25zdCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKVxuICAgKiB2aWV3LnNldChbMSwgMiwgM10pXG4gICAqXG4gICAqIEh0dHBSZXNwb25zZS5hcnJheUJ1ZmZlcihidWZmZXIpXG4gICAqL1xuICBzdGF0aWMgYXJyYXlCdWZmZXIoYm9keSwgaW5pdCkge1xuICAgIGNvbnN0IHJlc3BvbnNlSW5pdCA9IG5vcm1hbGl6ZVJlc3BvbnNlSW5pdChpbml0KTtcbiAgICBpZiAoIXJlc3BvbnNlSW5pdC5oZWFkZXJzLmhhcyhcIkNvbnRlbnQtVHlwZVwiKSkge1xuICAgICAgcmVzcG9uc2VJbml0LmhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpO1xuICAgIH1cbiAgICBpZiAoYm9keSAmJiAhcmVzcG9uc2VJbml0LmhlYWRlcnMuaGFzKFwiQ29udGVudC1MZW5ndGhcIikpIHtcbiAgICAgIHJlc3BvbnNlSW5pdC5oZWFkZXJzLnNldChcIkNvbnRlbnQtTGVuZ3RoXCIsIGJvZHkuYnl0ZUxlbmd0aC50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIdHRwUmVzcG9uc2UoYm9keSwgcmVzcG9uc2VJbml0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgYFJlc3BvbnNlYCB3aXRoIGEgYEZvcm1EYXRhYCBib2R5LlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICogZGF0YS5zZXQoJ25hbWUnLCAnQWxpY2UnKVxuICAgKlxuICAgKiBIdHRwUmVzcG9uc2UuZm9ybURhdGEoZGF0YSlcbiAgICovXG4gIHN0YXRpYyBmb3JtRGF0YShib2R5LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBIdHRwUmVzcG9uc2UoYm9keSwgbm9ybWFsaXplUmVzcG9uc2VJbml0KGluaXQpKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgSHR0cFJlc3BvbnNlLFxuICBib2R5VHlwZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBSZXNwb25zZS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/HttpResponse.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/SetupApi.mjs":
/*!************************************************!*\
  !*** ./node_modules/msw/lib/core/SetupApi.mjs ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HandlersController: () => (/* binding */ HandlersController),\n/* harmony export */   InMemoryHandlersController: () => (/* binding */ InMemoryHandlersController),\n/* harmony export */   SetupApi: () => (/* binding */ SetupApi)\n/* harmony export */ });\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! outvariant */ \"(ssr)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! strict-event-emitter */ \"(ssr)/./node_modules/strict-event-emitter/lib/index.mjs\");\n/* harmony import */ var _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/internal/devUtils.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _utils_internal_pipeEvents_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/internal/pipeEvents.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs\");\n/* harmony import */ var _utils_internal_toReadonlyArray_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/internal/toReadonlyArray.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs\");\n/* harmony import */ var _utils_internal_Disposable_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/internal/Disposable.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/Disposable.mjs\");\n\n\n\n\n\n\nclass HandlersController {\n}\nclass InMemoryHandlersController {\n  constructor(initialHandlers) {\n    this.initialHandlers = initialHandlers;\n    this.handlers = [...initialHandlers];\n  }\n  handlers;\n  prepend(runtimeHandles) {\n    this.handlers.unshift(...runtimeHandles);\n  }\n  reset(nextHandlers) {\n    this.handlers = nextHandlers.length > 0 ? [...nextHandlers] : [...this.initialHandlers];\n  }\n  currentHandlers() {\n    return this.handlers;\n  }\n}\nclass SetupApi extends _utils_internal_Disposable_mjs__WEBPACK_IMPORTED_MODULE_2__.Disposable {\n  handlersController;\n  emitter;\n  publicEmitter;\n  events;\n  constructor(...initialHandlers) {\n    super();\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_0__.invariant)(\n      this.validateHandlers(initialHandlers),\n      _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_3__.devUtils.formatMessage(\n        `Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?`\n      )\n    );\n    this.handlersController = new InMemoryHandlersController(initialHandlers);\n    this.emitter = new strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n    this.publicEmitter = new strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n    (0,_utils_internal_pipeEvents_mjs__WEBPACK_IMPORTED_MODULE_4__.pipeEvents)(this.emitter, this.publicEmitter);\n    this.events = this.createLifeCycleEvents();\n    this.subscriptions.push(() => {\n      this.emitter.removeAllListeners();\n      this.publicEmitter.removeAllListeners();\n    });\n  }\n  validateHandlers(handlers) {\n    return handlers.every((handler) => !Array.isArray(handler));\n  }\n  use(...runtimeHandlers) {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_0__.invariant)(\n      this.validateHandlers(runtimeHandlers),\n      _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_3__.devUtils.formatMessage(\n        `Failed to call \"use()\" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?`\n      )\n    );\n    this.handlersController.prepend(runtimeHandlers);\n  }\n  restoreHandlers() {\n    this.handlersController.currentHandlers().forEach((handler) => {\n      if (\"isUsed\" in handler) {\n        handler.isUsed = false;\n      }\n    });\n  }\n  resetHandlers(...nextHandlers) {\n    this.handlersController.reset(nextHandlers);\n  }\n  listHandlers() {\n    return (0,_utils_internal_toReadonlyArray_mjs__WEBPACK_IMPORTED_MODULE_5__.toReadonlyArray)(this.handlersController.currentHandlers());\n  }\n  createLifeCycleEvents() {\n    return {\n      on: (...args) => {\n        return this.publicEmitter.on(...args);\n      },\n      removeListener: (...args) => {\n        return this.publicEmitter.removeListener(...args);\n      },\n      removeAllListeners: (...args) => {\n        return this.publicEmitter.removeAllListeners(...args);\n      }\n    };\n  }\n}\n\n//# sourceMappingURL=SetupApi.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL1NldHVwQXBpLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUM7QUFDUTtBQUNVO0FBQ0k7QUFDVTtBQUNWO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzRUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFTO0FBQ2I7QUFDQSxNQUFNLGtFQUFRO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseURBQU87QUFDOUIsNkJBQTZCLHlEQUFPO0FBQ3BDLElBQUksMEVBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxREFBUztBQUNiO0FBQ0EsTUFBTSxrRUFBUTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9GQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL1NldHVwQXBpLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tIFwib3V0dmFyaWFudFwiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJzdHJpY3QtZXZlbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgZGV2VXRpbHMgfSBmcm9tICcuL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5pbXBvcnQgeyBwaXBlRXZlbnRzIH0gZnJvbSAnLi91dGlscy9pbnRlcm5hbC9waXBlRXZlbnRzLm1qcyc7XG5pbXBvcnQgeyB0b1JlYWRvbmx5QXJyYXkgfSBmcm9tICcuL3V0aWxzL2ludGVybmFsL3RvUmVhZG9ubHlBcnJheS5tanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4vdXRpbHMvaW50ZXJuYWwvRGlzcG9zYWJsZS5tanMnO1xuY2xhc3MgSGFuZGxlcnNDb250cm9sbGVyIHtcbn1cbmNsYXNzIEluTWVtb3J5SGFuZGxlcnNDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoaW5pdGlhbEhhbmRsZXJzKSB7XG4gICAgdGhpcy5pbml0aWFsSGFuZGxlcnMgPSBpbml0aWFsSGFuZGxlcnM7XG4gICAgdGhpcy5oYW5kbGVycyA9IFsuLi5pbml0aWFsSGFuZGxlcnNdO1xuICB9XG4gIGhhbmRsZXJzO1xuICBwcmVwZW5kKHJ1bnRpbWVIYW5kbGVzKSB7XG4gICAgdGhpcy5oYW5kbGVycy51bnNoaWZ0KC4uLnJ1bnRpbWVIYW5kbGVzKTtcbiAgfVxuICByZXNldChuZXh0SGFuZGxlcnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gbmV4dEhhbmRsZXJzLmxlbmd0aCA+IDAgPyBbLi4ubmV4dEhhbmRsZXJzXSA6IFsuLi50aGlzLmluaXRpYWxIYW5kbGVyc107XG4gIH1cbiAgY3VycmVudEhhbmRsZXJzKCkge1xuICAgIHJldHVybiB0aGlzLmhhbmRsZXJzO1xuICB9XG59XG5jbGFzcyBTZXR1cEFwaSBleHRlbmRzIERpc3Bvc2FibGUge1xuICBoYW5kbGVyc0NvbnRyb2xsZXI7XG4gIGVtaXR0ZXI7XG4gIHB1YmxpY0VtaXR0ZXI7XG4gIGV2ZW50cztcbiAgY29uc3RydWN0b3IoLi4uaW5pdGlhbEhhbmRsZXJzKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0aGlzLnZhbGlkYXRlSGFuZGxlcnMoaW5pdGlhbEhhbmRsZXJzKSxcbiAgICAgIGRldlV0aWxzLmZvcm1hdE1lc3NhZ2UoXG4gICAgICAgIGBGYWlsZWQgdG8gYXBwbHkgZ2l2ZW4gcmVxdWVzdCBoYW5kbGVyczogaW52YWxpZCBpbnB1dC4gRGlkIHlvdSBmb3JnZXQgdG8gc3ByZWFkIHRoZSByZXF1ZXN0IGhhbmRsZXJzIEFycmF5P2BcbiAgICAgIClcbiAgICApO1xuICAgIHRoaXMuaGFuZGxlcnNDb250cm9sbGVyID0gbmV3IEluTWVtb3J5SGFuZGxlcnNDb250cm9sbGVyKGluaXRpYWxIYW5kbGVycyk7XG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICB0aGlzLnB1YmxpY0VtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIHBpcGVFdmVudHModGhpcy5lbWl0dGVyLCB0aGlzLnB1YmxpY0VtaXR0ZXIpO1xuICAgIHRoaXMuZXZlbnRzID0gdGhpcy5jcmVhdGVMaWZlQ3ljbGVFdmVudHMoKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICB0aGlzLmVtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLnB1YmxpY0VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfSk7XG4gIH1cbiAgdmFsaWRhdGVIYW5kbGVycyhoYW5kbGVycykge1xuICAgIHJldHVybiBoYW5kbGVycy5ldmVyeSgoaGFuZGxlcikgPT4gIUFycmF5LmlzQXJyYXkoaGFuZGxlcikpO1xuICB9XG4gIHVzZSguLi5ydW50aW1lSGFuZGxlcnMpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0aGlzLnZhbGlkYXRlSGFuZGxlcnMocnVudGltZUhhbmRsZXJzKSxcbiAgICAgIGRldlV0aWxzLmZvcm1hdE1lc3NhZ2UoXG4gICAgICAgIGBGYWlsZWQgdG8gY2FsbCBcInVzZSgpXCIgd2l0aCB0aGUgZ2l2ZW4gcmVxdWVzdCBoYW5kbGVyczogaW52YWxpZCBpbnB1dC4gRGlkIHlvdSBmb3JnZXQgdG8gc3ByZWFkIHRoZSBhcnJheSBvZiByZXF1ZXN0IGhhbmRsZXJzP2BcbiAgICAgIClcbiAgICApO1xuICAgIHRoaXMuaGFuZGxlcnNDb250cm9sbGVyLnByZXBlbmQocnVudGltZUhhbmRsZXJzKTtcbiAgfVxuICByZXN0b3JlSGFuZGxlcnMoKSB7XG4gICAgdGhpcy5oYW5kbGVyc0NvbnRyb2xsZXIuY3VycmVudEhhbmRsZXJzKCkuZm9yRWFjaCgoaGFuZGxlcikgPT4ge1xuICAgICAgaWYgKFwiaXNVc2VkXCIgaW4gaGFuZGxlcikge1xuICAgICAgICBoYW5kbGVyLmlzVXNlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJlc2V0SGFuZGxlcnMoLi4ubmV4dEhhbmRsZXJzKSB7XG4gICAgdGhpcy5oYW5kbGVyc0NvbnRyb2xsZXIucmVzZXQobmV4dEhhbmRsZXJzKTtcbiAgfVxuICBsaXN0SGFuZGxlcnMoKSB7XG4gICAgcmV0dXJuIHRvUmVhZG9ubHlBcnJheSh0aGlzLmhhbmRsZXJzQ29udHJvbGxlci5jdXJyZW50SGFuZGxlcnMoKSk7XG4gIH1cbiAgY3JlYXRlTGlmZUN5Y2xlRXZlbnRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvbjogKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHVibGljRW1pdHRlci5vbiguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVMaXN0ZW5lcjogKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHVibGljRW1pdHRlci5yZW1vdmVMaXN0ZW5lciguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVBbGxMaXN0ZW5lcnM6ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1YmxpY0VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKC4uLmFyZ3MpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEhhbmRsZXJzQ29udHJvbGxlcixcbiAgSW5NZW1vcnlIYW5kbGVyc0NvbnRyb2xsZXIsXG4gIFNldHVwQXBpXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2V0dXBBcGkubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/SetupApi.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/handlers/HttpHandler.mjs":
/*!************************************************************!*\
  !*** ./node_modules/msw/lib/core/handlers/HttpHandler.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpHandler: () => (/* binding */ HttpHandler),\n/* harmony export */   HttpMethods: () => (/* binding */ HttpMethods)\n/* harmony export */ });\n/* harmony import */ var _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/internal/devUtils.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _utils_internal_isStringEqual_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/internal/isStringEqual.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/isStringEqual.mjs\");\n/* harmony import */ var _utils_logging_getStatusCodeColor_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/logging/getStatusCodeColor.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/logging/getStatusCodeColor.mjs\");\n/* harmony import */ var _utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/logging/getTimestamp.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/logging/getTimestamp.mjs\");\n/* harmony import */ var _utils_logging_serializeRequest_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/logging/serializeRequest.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/logging/serializeRequest.mjs\");\n/* harmony import */ var _utils_logging_serializeResponse_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/logging/serializeResponse.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/logging/serializeResponse.mjs\");\n/* harmony import */ var _utils_matching_matchRequestUrl_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/matching/matchRequestUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/matching/matchRequestUrl.mjs\");\n/* harmony import */ var _utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/request/toPublicUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs\");\n/* harmony import */ var _utils_request_getRequestCookies_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/request/getRequestCookies.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/request/getRequestCookies.mjs\");\n/* harmony import */ var _utils_url_cleanUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/url/cleanUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/url/cleanUrl.mjs\");\n/* harmony import */ var _RequestHandler_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RequestHandler.mjs */ \"(ssr)/./node_modules/msw/lib/core/handlers/RequestHandler.mjs\");\n\n\n\n\n\n\n\n\n\n\n\nvar HttpMethods = /* @__PURE__ */ ((HttpMethods2) => {\n  HttpMethods2[\"HEAD\"] = \"HEAD\";\n  HttpMethods2[\"GET\"] = \"GET\";\n  HttpMethods2[\"POST\"] = \"POST\";\n  HttpMethods2[\"PUT\"] = \"PUT\";\n  HttpMethods2[\"PATCH\"] = \"PATCH\";\n  HttpMethods2[\"OPTIONS\"] = \"OPTIONS\";\n  HttpMethods2[\"DELETE\"] = \"DELETE\";\n  return HttpMethods2;\n})(HttpMethods || {});\nclass HttpHandler extends _RequestHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.RequestHandler {\n  constructor(method, predicate, resolver, options) {\n    const displayPath = typeof predicate === \"function\" ? \"[custom predicate]\" : predicate;\n    super({\n      info: {\n        header: `${method}${displayPath ? ` ${displayPath}` : \"\"}`,\n        path: predicate,\n        method\n      },\n      resolver,\n      options\n    });\n    this.checkRedundantQueryParameters();\n  }\n  checkRedundantQueryParameters() {\n    const { method, path } = this.info;\n    if (!path || path instanceof RegExp || typeof path === \"function\") {\n      return;\n    }\n    const url = (0,_utils_url_cleanUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.cleanUrl)(path);\n    if (url === path) {\n      return;\n    }\n    const searchParams = (0,_utils_url_cleanUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.getSearchParams)(path);\n    const queryParams = [];\n    searchParams.forEach((_, paramName) => {\n      queryParams.push(paramName);\n    });\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_2__.devUtils.warn(\n      `Found a redundant usage of query parameters in the request handler URL for \"${method} ${path}\". Please match against a path instead and access query parameters using \"new URL(request.url).searchParams\" instead. Learn more: https://mswjs.io/docs/http/intercepting-requests#querysearch-parameters`\n    );\n  }\n  async parse(args) {\n    const url = new URL(args.request.url);\n    const cookies = (0,_utils_request_getRequestCookies_mjs__WEBPACK_IMPORTED_MODULE_3__.getAllRequestCookies)(args.request);\n    if (typeof this.info.path === \"function\") {\n      const customPredicateResult = await this.info.path({\n        request: args.request,\n        cookies\n      });\n      const match2 = typeof customPredicateResult === \"boolean\" ? {\n        matches: customPredicateResult,\n        params: {}\n      } : customPredicateResult;\n      return {\n        match: match2,\n        cookies\n      };\n    }\n    const match = this.info.path ? (0,_utils_matching_matchRequestUrl_mjs__WEBPACK_IMPORTED_MODULE_4__.matchRequestUrl)(url, this.info.path, args.resolutionContext?.baseUrl) : { matches: false, params: {} };\n    return {\n      match,\n      cookies\n    };\n  }\n  async predicate(args) {\n    const hasMatchingMethod = this.matchMethod(args.request.method);\n    const hasMatchingUrl = args.parsedResult.match.matches;\n    return hasMatchingMethod && hasMatchingUrl;\n  }\n  matchMethod(actualMethod) {\n    return this.info.method instanceof RegExp ? this.info.method.test(actualMethod) : (0,_utils_internal_isStringEqual_mjs__WEBPACK_IMPORTED_MODULE_5__.isStringEqual)(this.info.method, actualMethod);\n  }\n  extendResolverArgs(args) {\n    return {\n      params: args.parsedResult.match?.params || {},\n      cookies: args.parsedResult.cookies\n    };\n  }\n  async log(args) {\n    const publicUrl = (0,_utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_6__.toPublicUrl)(args.request.url);\n    const loggedRequest = await (0,_utils_logging_serializeRequest_mjs__WEBPACK_IMPORTED_MODULE_7__.serializeRequest)(args.request);\n    const loggedResponse = await (0,_utils_logging_serializeResponse_mjs__WEBPACK_IMPORTED_MODULE_8__.serializeResponse)(args.response);\n    const statusColor = (0,_utils_logging_getStatusCodeColor_mjs__WEBPACK_IMPORTED_MODULE_9__.getStatusCodeColor)(loggedResponse.status);\n    console.groupCollapsed(\n      _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_2__.devUtils.formatMessage(\n        `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_10__.getTimestamp)()} ${args.request.method} ${publicUrl} (%c${loggedResponse.status} ${loggedResponse.statusText}%c)`\n      ),\n      `color:${statusColor}`,\n      \"color:inherit\"\n    );\n    console.log(\"Request\", loggedRequest);\n    console.log(\"Handler:\", this);\n    console.log(\"Response\", loggedResponse);\n    console.groupEnd();\n  }\n}\n\n//# sourceMappingURL=HttpHandler.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL2hhbmRsZXJzL0h0dHBIYW5kbGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTBEO0FBQ1U7QUFDUztBQUNaO0FBQ1E7QUFDRTtBQUc1QjtBQUNnQjtBQUNlO0FBQ1I7QUFHeEM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQkFBbUI7QUFDcEIsMEJBQTBCLCtEQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU8sRUFBRSxrQkFBa0IsWUFBWSxPQUFPO0FBQ2pFO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix3RUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxrRUFBUTtBQUNaLHFGQUFxRixRQUFRLEVBQUUsS0FBSztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwRkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0ZBQWUsMkRBQTJEO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsZ0ZBQWE7QUFDbkc7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJFQUFXO0FBQ2pDLGdDQUFnQyxxRkFBZ0I7QUFDaEQsaUNBQWlDLHVGQUFpQjtBQUNsRCx3QkFBd0IseUZBQWtCO0FBQzFDO0FBQ0EsTUFBTSxrRUFBUTtBQUNkLFdBQVcsOEVBQVksSUFBSSxFQUFFLHFCQUFxQixFQUFFLFdBQVcsS0FBSyx1QkFBdUIsRUFBRSwwQkFBMEI7QUFDdkg7QUFDQSxlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvaGFuZGxlcnMvSHR0cEhhbmRsZXIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRldlV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcbmltcG9ydCB7IGlzU3RyaW5nRXF1YWwgfSBmcm9tICcuLi91dGlscy9pbnRlcm5hbC9pc1N0cmluZ0VxdWFsLm1qcyc7XG5pbXBvcnQgeyBnZXRTdGF0dXNDb2RlQ29sb3IgfSBmcm9tICcuLi91dGlscy9sb2dnaW5nL2dldFN0YXR1c0NvZGVDb2xvci5tanMnO1xuaW1wb3J0IHsgZ2V0VGltZXN0YW1wIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2luZy9nZXRUaW1lc3RhbXAubWpzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVJlcXVlc3QgfSBmcm9tICcuLi91dGlscy9sb2dnaW5nL3NlcmlhbGl6ZVJlcXVlc3QubWpzJztcbmltcG9ydCB7IHNlcmlhbGl6ZVJlc3BvbnNlIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2luZy9zZXJpYWxpemVSZXNwb25zZS5tanMnO1xuaW1wb3J0IHtcbiAgbWF0Y2hSZXF1ZXN0VXJsXG59IGZyb20gJy4uL3V0aWxzL21hdGNoaW5nL21hdGNoUmVxdWVzdFVybC5tanMnO1xuaW1wb3J0IHsgdG9QdWJsaWNVcmwgfSBmcm9tICcuLi91dGlscy9yZXF1ZXN0L3RvUHVibGljVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRBbGxSZXF1ZXN0Q29va2llcyB9IGZyb20gJy4uL3V0aWxzL3JlcXVlc3QvZ2V0UmVxdWVzdENvb2tpZXMubWpzJztcbmltcG9ydCB7IGNsZWFuVXJsLCBnZXRTZWFyY2hQYXJhbXMgfSBmcm9tICcuLi91dGlscy91cmwvY2xlYW5VcmwubWpzJztcbmltcG9ydCB7XG4gIFJlcXVlc3RIYW5kbGVyXG59IGZyb20gJy4vUmVxdWVzdEhhbmRsZXIubWpzJztcbnZhciBIdHRwTWV0aG9kcyA9IC8qIEBfX1BVUkVfXyAqLyAoKEh0dHBNZXRob2RzMikgPT4ge1xuICBIdHRwTWV0aG9kczJbXCJIRUFEXCJdID0gXCJIRUFEXCI7XG4gIEh0dHBNZXRob2RzMltcIkdFVFwiXSA9IFwiR0VUXCI7XG4gIEh0dHBNZXRob2RzMltcIlBPU1RcIl0gPSBcIlBPU1RcIjtcbiAgSHR0cE1ldGhvZHMyW1wiUFVUXCJdID0gXCJQVVRcIjtcbiAgSHR0cE1ldGhvZHMyW1wiUEFUQ0hcIl0gPSBcIlBBVENIXCI7XG4gIEh0dHBNZXRob2RzMltcIk9QVElPTlNcIl0gPSBcIk9QVElPTlNcIjtcbiAgSHR0cE1ldGhvZHMyW1wiREVMRVRFXCJdID0gXCJERUxFVEVcIjtcbiAgcmV0dXJuIEh0dHBNZXRob2RzMjtcbn0pKEh0dHBNZXRob2RzIHx8IHt9KTtcbmNsYXNzIEh0dHBIYW5kbGVyIGV4dGVuZHMgUmVxdWVzdEhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihtZXRob2QsIHByZWRpY2F0ZSwgcmVzb2x2ZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkaXNwbGF5UGF0aCA9IHR5cGVvZiBwcmVkaWNhdGUgPT09IFwiZnVuY3Rpb25cIiA/IFwiW2N1c3RvbSBwcmVkaWNhdGVdXCIgOiBwcmVkaWNhdGU7XG4gICAgc3VwZXIoe1xuICAgICAgaW5mbzoge1xuICAgICAgICBoZWFkZXI6IGAke21ldGhvZH0ke2Rpc3BsYXlQYXRoID8gYCAke2Rpc3BsYXlQYXRofWAgOiBcIlwifWAsXG4gICAgICAgIHBhdGg6IHByZWRpY2F0ZSxcbiAgICAgICAgbWV0aG9kXG4gICAgICB9LFxuICAgICAgcmVzb2x2ZXIsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gICAgdGhpcy5jaGVja1JlZHVuZGFudFF1ZXJ5UGFyYW1ldGVycygpO1xuICB9XG4gIGNoZWNrUmVkdW5kYW50UXVlcnlQYXJhbWV0ZXJzKCkge1xuICAgIGNvbnN0IHsgbWV0aG9kLCBwYXRoIH0gPSB0aGlzLmluZm87XG4gICAgaWYgKCFwYXRoIHx8IHBhdGggaW5zdGFuY2VvZiBSZWdFeHAgfHwgdHlwZW9mIHBhdGggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1cmwgPSBjbGVhblVybChwYXRoKTtcbiAgICBpZiAodXJsID09PSBwYXRoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IGdldFNlYXJjaFBhcmFtcyhwYXRoKTtcbiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IFtdO1xuICAgIHNlYXJjaFBhcmFtcy5mb3JFYWNoKChfLCBwYXJhbU5hbWUpID0+IHtcbiAgICAgIHF1ZXJ5UGFyYW1zLnB1c2gocGFyYW1OYW1lKTtcbiAgICB9KTtcbiAgICBkZXZVdGlscy53YXJuKFxuICAgICAgYEZvdW5kIGEgcmVkdW5kYW50IHVzYWdlIG9mIHF1ZXJ5IHBhcmFtZXRlcnMgaW4gdGhlIHJlcXVlc3QgaGFuZGxlciBVUkwgZm9yIFwiJHttZXRob2R9ICR7cGF0aH1cIi4gUGxlYXNlIG1hdGNoIGFnYWluc3QgYSBwYXRoIGluc3RlYWQgYW5kIGFjY2VzcyBxdWVyeSBwYXJhbWV0ZXJzIHVzaW5nIFwibmV3IFVSTChyZXF1ZXN0LnVybCkuc2VhcmNoUGFyYW1zXCIgaW5zdGVhZC4gTGVhcm4gbW9yZTogaHR0cHM6Ly9tc3dqcy5pby9kb2NzL2h0dHAvaW50ZXJjZXB0aW5nLXJlcXVlc3RzI3F1ZXJ5c2VhcmNoLXBhcmFtZXRlcnNgXG4gICAgKTtcbiAgfVxuICBhc3luYyBwYXJzZShhcmdzKSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChhcmdzLnJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBjb29raWVzID0gZ2V0QWxsUmVxdWVzdENvb2tpZXMoYXJncy5yZXF1ZXN0KTtcbiAgICBpZiAodHlwZW9mIHRoaXMuaW5mby5wYXRoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnN0IGN1c3RvbVByZWRpY2F0ZVJlc3VsdCA9IGF3YWl0IHRoaXMuaW5mby5wYXRoKHtcbiAgICAgICAgcmVxdWVzdDogYXJncy5yZXF1ZXN0LFxuICAgICAgICBjb29raWVzXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG1hdGNoMiA9IHR5cGVvZiBjdXN0b21QcmVkaWNhdGVSZXN1bHQgPT09IFwiYm9vbGVhblwiID8ge1xuICAgICAgICBtYXRjaGVzOiBjdXN0b21QcmVkaWNhdGVSZXN1bHQsXG4gICAgICAgIHBhcmFtczoge31cbiAgICAgIH0gOiBjdXN0b21QcmVkaWNhdGVSZXN1bHQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaDogbWF0Y2gyLFxuICAgICAgICBjb29raWVzXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IHRoaXMuaW5mby5wYXRoID8gbWF0Y2hSZXF1ZXN0VXJsKHVybCwgdGhpcy5pbmZvLnBhdGgsIGFyZ3MucmVzb2x1dGlvbkNvbnRleHQ/LmJhc2VVcmwpIDogeyBtYXRjaGVzOiBmYWxzZSwgcGFyYW1zOiB7fSB9O1xuICAgIHJldHVybiB7XG4gICAgICBtYXRjaCxcbiAgICAgIGNvb2tpZXNcbiAgICB9O1xuICB9XG4gIGFzeW5jIHByZWRpY2F0ZShhcmdzKSB7XG4gICAgY29uc3QgaGFzTWF0Y2hpbmdNZXRob2QgPSB0aGlzLm1hdGNoTWV0aG9kKGFyZ3MucmVxdWVzdC5tZXRob2QpO1xuICAgIGNvbnN0IGhhc01hdGNoaW5nVXJsID0gYXJncy5wYXJzZWRSZXN1bHQubWF0Y2gubWF0Y2hlcztcbiAgICByZXR1cm4gaGFzTWF0Y2hpbmdNZXRob2QgJiYgaGFzTWF0Y2hpbmdVcmw7XG4gIH1cbiAgbWF0Y2hNZXRob2QoYWN0dWFsTWV0aG9kKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5mby5tZXRob2QgaW5zdGFuY2VvZiBSZWdFeHAgPyB0aGlzLmluZm8ubWV0aG9kLnRlc3QoYWN0dWFsTWV0aG9kKSA6IGlzU3RyaW5nRXF1YWwodGhpcy5pbmZvLm1ldGhvZCwgYWN0dWFsTWV0aG9kKTtcbiAgfVxuICBleHRlbmRSZXNvbHZlckFyZ3MoYXJncykge1xuICAgIHJldHVybiB7XG4gICAgICBwYXJhbXM6IGFyZ3MucGFyc2VkUmVzdWx0Lm1hdGNoPy5wYXJhbXMgfHwge30sXG4gICAgICBjb29raWVzOiBhcmdzLnBhcnNlZFJlc3VsdC5jb29raWVzXG4gICAgfTtcbiAgfVxuICBhc3luYyBsb2coYXJncykge1xuICAgIGNvbnN0IHB1YmxpY1VybCA9IHRvUHVibGljVXJsKGFyZ3MucmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IGxvZ2dlZFJlcXVlc3QgPSBhd2FpdCBzZXJpYWxpemVSZXF1ZXN0KGFyZ3MucmVxdWVzdCk7XG4gICAgY29uc3QgbG9nZ2VkUmVzcG9uc2UgPSBhd2FpdCBzZXJpYWxpemVSZXNwb25zZShhcmdzLnJlc3BvbnNlKTtcbiAgICBjb25zdCBzdGF0dXNDb2xvciA9IGdldFN0YXR1c0NvZGVDb2xvcihsb2dnZWRSZXNwb25zZS5zdGF0dXMpO1xuICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICBgJHtnZXRUaW1lc3RhbXAoKX0gJHthcmdzLnJlcXVlc3QubWV0aG9kfSAke3B1YmxpY1VybH0gKCVjJHtsb2dnZWRSZXNwb25zZS5zdGF0dXN9ICR7bG9nZ2VkUmVzcG9uc2Uuc3RhdHVzVGV4dH0lYylgXG4gICAgICApLFxuICAgICAgYGNvbG9yOiR7c3RhdHVzQ29sb3J9YCxcbiAgICAgIFwiY29sb3I6aW5oZXJpdFwiXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcIlJlcXVlc3RcIiwgbG9nZ2VkUmVxdWVzdCk7XG4gICAgY29uc29sZS5sb2coXCJIYW5kbGVyOlwiLCB0aGlzKTtcbiAgICBjb25zb2xlLmxvZyhcIlJlc3BvbnNlXCIsIGxvZ2dlZFJlc3BvbnNlKTtcbiAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEh0dHBIYW5kbGVyLFxuICBIdHRwTWV0aG9kc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh0dHBIYW5kbGVyLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/handlers/HttpHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/handlers/RequestHandler.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/msw/lib/core/handlers/RequestHandler.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestHandler: () => (/* binding */ RequestHandler)\n/* harmony export */ });\n/* harmony import */ var _utils_internal_getCallFrame_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/internal/getCallFrame.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/getCallFrame.mjs\");\n/* harmony import */ var _utils_internal_isIterable_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/internal/isIterable.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/isIterable.mjs\");\n\n\nclass RequestHandler {\n  static cache = /* @__PURE__ */ new WeakMap();\n  __kind;\n  info;\n  /**\n   * Indicates whether this request handler has been used\n   * (its resolver has successfully executed).\n   */\n  isUsed;\n  resolver;\n  resolverIterator;\n  resolverIteratorResult;\n  options;\n  constructor(args) {\n    this.resolver = args.resolver;\n    this.options = args.options;\n    const callFrame = (0,_utils_internal_getCallFrame_mjs__WEBPACK_IMPORTED_MODULE_0__.getCallFrame)(new Error());\n    this.info = {\n      ...args.info,\n      callFrame\n    };\n    this.isUsed = false;\n    this.__kind = \"RequestHandler\";\n  }\n  /**\n   * Parse the intercepted request to extract additional information from it.\n   * Parsed result is then exposed to other methods of this request handler.\n   */\n  async parse(_args) {\n    return {};\n  }\n  /**\n   * Test if this handler matches the given request.\n   *\n   * This method is not used internally but is exposed\n   * as a convenience method for consumers writing custom\n   * handlers.\n   */\n  async test(args) {\n    const parsedResult = await this.parse({\n      request: args.request,\n      resolutionContext: args.resolutionContext\n    });\n    return this.predicate({\n      request: args.request,\n      parsedResult,\n      resolutionContext: args.resolutionContext\n    });\n  }\n  extendResolverArgs(_args) {\n    return {};\n  }\n  // Clone the request instance before it's passed to the handler phases\n  // and the response resolver so we can always read it for logging.\n  // We only clone it once per request to avoid unnecessary overhead.\n  cloneRequestOrGetFromCache(request) {\n    const existingClone = RequestHandler.cache.get(request);\n    if (typeof existingClone !== \"undefined\") {\n      return existingClone;\n    }\n    const clonedRequest = request.clone();\n    RequestHandler.cache.set(request, clonedRequest);\n    return clonedRequest;\n  }\n  /**\n   * Execute this request handler and produce a mocked response\n   * using the given resolver function.\n   */\n  async run(args) {\n    if (this.isUsed && this.options?.once) {\n      return null;\n    }\n    const requestClone = this.cloneRequestOrGetFromCache(args.request);\n    const parsedResult = await this.parse({\n      request: args.request,\n      resolutionContext: args.resolutionContext\n    });\n    const shouldInterceptRequest = await this.predicate({\n      request: args.request,\n      parsedResult,\n      resolutionContext: args.resolutionContext\n    });\n    if (!shouldInterceptRequest) {\n      return null;\n    }\n    if (this.isUsed && this.options?.once) {\n      return null;\n    }\n    this.isUsed = true;\n    const executeResolver = this.wrapResolver(this.resolver);\n    const resolverExtras = this.extendResolverArgs({\n      request: args.request,\n      parsedResult\n    });\n    const mockedResponsePromise = executeResolver({\n      ...resolverExtras,\n      requestId: args.requestId,\n      request: args.request\n    }).catch((errorOrResponse) => {\n      if (errorOrResponse instanceof Response) {\n        return errorOrResponse;\n      }\n      throw errorOrResponse;\n    });\n    const mockedResponse = await mockedResponsePromise;\n    const executionResult = this.createExecutionResult({\n      // Pass the cloned request to the result so that logging\n      // and other consumers could read its body once more.\n      request: requestClone,\n      requestId: args.requestId,\n      response: mockedResponse,\n      parsedResult\n    });\n    return executionResult;\n  }\n  wrapResolver(resolver) {\n    return async (info) => {\n      if (!this.resolverIterator) {\n        const result = await resolver(info);\n        if (!(0,_utils_internal_isIterable_mjs__WEBPACK_IMPORTED_MODULE_1__.isIterable)(result)) {\n          return result;\n        }\n        this.resolverIterator = Symbol.iterator in result ? result[Symbol.iterator]() : result[Symbol.asyncIterator]();\n      }\n      this.isUsed = false;\n      const { done, value } = await this.resolverIterator.next();\n      const nextResponse = await value;\n      if (nextResponse) {\n        this.resolverIteratorResult = nextResponse.clone();\n      }\n      if (done) {\n        this.isUsed = true;\n        return this.resolverIteratorResult?.clone();\n      }\n      return nextResponse;\n    };\n  }\n  createExecutionResult(args) {\n    return {\n      handler: this,\n      request: args.request,\n      requestId: args.requestId,\n      response: args.response,\n      parsedResult: args.parsedResult\n    };\n  }\n}\n\n//# sourceMappingURL=RequestHandler.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL2hhbmRsZXJzL1JlcXVlc3RIYW5kbGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0U7QUFHeEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOEVBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMEVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL2hhbmRsZXJzL1JlcXVlc3RIYW5kbGVyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDYWxsRnJhbWUgfSBmcm9tICcuLi91dGlscy9pbnRlcm5hbC9nZXRDYWxsRnJhbWUubWpzJztcbmltcG9ydCB7XG4gIGlzSXRlcmFibGVcbn0gZnJvbSAnLi4vdXRpbHMvaW50ZXJuYWwvaXNJdGVyYWJsZS5tanMnO1xuY2xhc3MgUmVxdWVzdEhhbmRsZXIge1xuICBzdGF0aWMgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgX19raW5kO1xuICBpbmZvO1xuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyByZXF1ZXN0IGhhbmRsZXIgaGFzIGJlZW4gdXNlZFxuICAgKiAoaXRzIHJlc29sdmVyIGhhcyBzdWNjZXNzZnVsbHkgZXhlY3V0ZWQpLlxuICAgKi9cbiAgaXNVc2VkO1xuICByZXNvbHZlcjtcbiAgcmVzb2x2ZXJJdGVyYXRvcjtcbiAgcmVzb2x2ZXJJdGVyYXRvclJlc3VsdDtcbiAgb3B0aW9ucztcbiAgY29uc3RydWN0b3IoYXJncykge1xuICAgIHRoaXMucmVzb2x2ZXIgPSBhcmdzLnJlc29sdmVyO1xuICAgIHRoaXMub3B0aW9ucyA9IGFyZ3Mub3B0aW9ucztcbiAgICBjb25zdCBjYWxsRnJhbWUgPSBnZXRDYWxsRnJhbWUobmV3IEVycm9yKCkpO1xuICAgIHRoaXMuaW5mbyA9IHtcbiAgICAgIC4uLmFyZ3MuaW5mbyxcbiAgICAgIGNhbGxGcmFtZVxuICAgIH07XG4gICAgdGhpcy5pc1VzZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9fa2luZCA9IFwiUmVxdWVzdEhhbmRsZXJcIjtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgdGhlIGludGVyY2VwdGVkIHJlcXVlc3QgdG8gZXh0cmFjdCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGZyb20gaXQuXG4gICAqIFBhcnNlZCByZXN1bHQgaXMgdGhlbiBleHBvc2VkIHRvIG90aGVyIG1ldGhvZHMgb2YgdGhpcyByZXF1ZXN0IGhhbmRsZXIuXG4gICAqL1xuICBhc3luYyBwYXJzZShfYXJncykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICAvKipcbiAgICogVGVzdCBpZiB0aGlzIGhhbmRsZXIgbWF0Y2hlcyB0aGUgZ2l2ZW4gcmVxdWVzdC5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgbm90IHVzZWQgaW50ZXJuYWxseSBidXQgaXMgZXhwb3NlZFxuICAgKiBhcyBhIGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgY29uc3VtZXJzIHdyaXRpbmcgY3VzdG9tXG4gICAqIGhhbmRsZXJzLlxuICAgKi9cbiAgYXN5bmMgdGVzdChhcmdzKSB7XG4gICAgY29uc3QgcGFyc2VkUmVzdWx0ID0gYXdhaXQgdGhpcy5wYXJzZSh7XG4gICAgICByZXF1ZXN0OiBhcmdzLnJlcXVlc3QsXG4gICAgICByZXNvbHV0aW9uQ29udGV4dDogYXJncy5yZXNvbHV0aW9uQ29udGV4dFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnByZWRpY2F0ZSh7XG4gICAgICByZXF1ZXN0OiBhcmdzLnJlcXVlc3QsXG4gICAgICBwYXJzZWRSZXN1bHQsXG4gICAgICByZXNvbHV0aW9uQ29udGV4dDogYXJncy5yZXNvbHV0aW9uQ29udGV4dFxuICAgIH0pO1xuICB9XG4gIGV4dGVuZFJlc29sdmVyQXJncyhfYXJncykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICAvLyBDbG9uZSB0aGUgcmVxdWVzdCBpbnN0YW5jZSBiZWZvcmUgaXQncyBwYXNzZWQgdG8gdGhlIGhhbmRsZXIgcGhhc2VzXG4gIC8vIGFuZCB0aGUgcmVzcG9uc2UgcmVzb2x2ZXIgc28gd2UgY2FuIGFsd2F5cyByZWFkIGl0IGZvciBsb2dnaW5nLlxuICAvLyBXZSBvbmx5IGNsb25lIGl0IG9uY2UgcGVyIHJlcXVlc3QgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgb3ZlcmhlYWQuXG4gIGNsb25lUmVxdWVzdE9yR2V0RnJvbUNhY2hlKHJlcXVlc3QpIHtcbiAgICBjb25zdCBleGlzdGluZ0Nsb25lID0gUmVxdWVzdEhhbmRsZXIuY2FjaGUuZ2V0KHJlcXVlc3QpO1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmdDbG9uZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nQ2xvbmU7XG4gICAgfVxuICAgIGNvbnN0IGNsb25lZFJlcXVlc3QgPSByZXF1ZXN0LmNsb25lKCk7XG4gICAgUmVxdWVzdEhhbmRsZXIuY2FjaGUuc2V0KHJlcXVlc3QsIGNsb25lZFJlcXVlc3QpO1xuICAgIHJldHVybiBjbG9uZWRSZXF1ZXN0O1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoaXMgcmVxdWVzdCBoYW5kbGVyIGFuZCBwcm9kdWNlIGEgbW9ja2VkIHJlc3BvbnNlXG4gICAqIHVzaW5nIHRoZSBnaXZlbiByZXNvbHZlciBmdW5jdGlvbi5cbiAgICovXG4gIGFzeW5jIHJ1bihhcmdzKSB7XG4gICAgaWYgKHRoaXMuaXNVc2VkICYmIHRoaXMub3B0aW9ucz8ub25jZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3RDbG9uZSA9IHRoaXMuY2xvbmVSZXF1ZXN0T3JHZXRGcm9tQ2FjaGUoYXJncy5yZXF1ZXN0KTtcbiAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBhd2FpdCB0aGlzLnBhcnNlKHtcbiAgICAgIHJlcXVlc3Q6IGFyZ3MucmVxdWVzdCxcbiAgICAgIHJlc29sdXRpb25Db250ZXh0OiBhcmdzLnJlc29sdXRpb25Db250ZXh0XG4gICAgfSk7XG4gICAgY29uc3Qgc2hvdWxkSW50ZXJjZXB0UmVxdWVzdCA9IGF3YWl0IHRoaXMucHJlZGljYXRlKHtcbiAgICAgIHJlcXVlc3Q6IGFyZ3MucmVxdWVzdCxcbiAgICAgIHBhcnNlZFJlc3VsdCxcbiAgICAgIHJlc29sdXRpb25Db250ZXh0OiBhcmdzLnJlc29sdXRpb25Db250ZXh0XG4gICAgfSk7XG4gICAgaWYgKCFzaG91bGRJbnRlcmNlcHRSZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNVc2VkICYmIHRoaXMub3B0aW9ucz8ub25jZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRoaXMuaXNVc2VkID0gdHJ1ZTtcbiAgICBjb25zdCBleGVjdXRlUmVzb2x2ZXIgPSB0aGlzLndyYXBSZXNvbHZlcih0aGlzLnJlc29sdmVyKTtcbiAgICBjb25zdCByZXNvbHZlckV4dHJhcyA9IHRoaXMuZXh0ZW5kUmVzb2x2ZXJBcmdzKHtcbiAgICAgIHJlcXVlc3Q6IGFyZ3MucmVxdWVzdCxcbiAgICAgIHBhcnNlZFJlc3VsdFxuICAgIH0pO1xuICAgIGNvbnN0IG1vY2tlZFJlc3BvbnNlUHJvbWlzZSA9IGV4ZWN1dGVSZXNvbHZlcih7XG4gICAgICAuLi5yZXNvbHZlckV4dHJhcyxcbiAgICAgIHJlcXVlc3RJZDogYXJncy5yZXF1ZXN0SWQsXG4gICAgICByZXF1ZXN0OiBhcmdzLnJlcXVlc3RcbiAgICB9KS5jYXRjaCgoZXJyb3JPclJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAoZXJyb3JPclJlc3BvbnNlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yT3JSZXNwb25zZTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yT3JSZXNwb25zZTtcbiAgICB9KTtcbiAgICBjb25zdCBtb2NrZWRSZXNwb25zZSA9IGF3YWl0IG1vY2tlZFJlc3BvbnNlUHJvbWlzZTtcbiAgICBjb25zdCBleGVjdXRpb25SZXN1bHQgPSB0aGlzLmNyZWF0ZUV4ZWN1dGlvblJlc3VsdCh7XG4gICAgICAvLyBQYXNzIHRoZSBjbG9uZWQgcmVxdWVzdCB0byB0aGUgcmVzdWx0IHNvIHRoYXQgbG9nZ2luZ1xuICAgICAgLy8gYW5kIG90aGVyIGNvbnN1bWVycyBjb3VsZCByZWFkIGl0cyBib2R5IG9uY2UgbW9yZS5cbiAgICAgIHJlcXVlc3Q6IHJlcXVlc3RDbG9uZSxcbiAgICAgIHJlcXVlc3RJZDogYXJncy5yZXF1ZXN0SWQsXG4gICAgICByZXNwb25zZTogbW9ja2VkUmVzcG9uc2UsXG4gICAgICBwYXJzZWRSZXN1bHRcbiAgICB9KTtcbiAgICByZXR1cm4gZXhlY3V0aW9uUmVzdWx0O1xuICB9XG4gIHdyYXBSZXNvbHZlcihyZXNvbHZlcikge1xuICAgIHJldHVybiBhc3luYyAoaW5mbykgPT4ge1xuICAgICAgaWYgKCF0aGlzLnJlc29sdmVySXRlcmF0b3IpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzb2x2ZXIoaW5mbyk7XG4gICAgICAgIGlmICghaXNJdGVyYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc29sdmVySXRlcmF0b3IgPSBTeW1ib2wuaXRlcmF0b3IgaW4gcmVzdWx0ID8gcmVzdWx0W1N5bWJvbC5pdGVyYXRvcl0oKSA6IHJlc3VsdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNVc2VkID0gZmFsc2U7XG4gICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCB0aGlzLnJlc29sdmVySXRlcmF0b3IubmV4dCgpO1xuICAgICAgY29uc3QgbmV4dFJlc3BvbnNlID0gYXdhaXQgdmFsdWU7XG4gICAgICBpZiAobmV4dFJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZXJJdGVyYXRvclJlc3VsdCA9IG5leHRSZXNwb25zZS5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgdGhpcy5pc1VzZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlckl0ZXJhdG9yUmVzdWx0Py5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHRSZXNwb25zZTtcbiAgICB9O1xuICB9XG4gIGNyZWF0ZUV4ZWN1dGlvblJlc3VsdChhcmdzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhbmRsZXI6IHRoaXMsXG4gICAgICByZXF1ZXN0OiBhcmdzLnJlcXVlc3QsXG4gICAgICByZXF1ZXN0SWQ6IGFyZ3MucmVxdWVzdElkLFxuICAgICAgcmVzcG9uc2U6IGFyZ3MucmVzcG9uc2UsXG4gICAgICBwYXJzZWRSZXN1bHQ6IGFyZ3MucGFyc2VkUmVzdWx0XG4gICAgfTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgUmVxdWVzdEhhbmRsZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXF1ZXN0SGFuZGxlci5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/handlers/RequestHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/http.mjs":
/*!********************************************!*\
  !*** ./node_modules/msw/lib/core/http.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   http: () => (/* binding */ http)\n/* harmony export */ });\n/* harmony import */ var _handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./handlers/HttpHandler.mjs */ \"(ssr)/./node_modules/msw/lib/core/handlers/HttpHandler.mjs\");\n\nfunction createHttpHandler(method) {\n  return (predicate, resolver, options = {}) => {\n    return new _handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpHandler(method, predicate, resolver, options);\n  };\n}\nconst http = {\n  all: createHttpHandler(/.+/),\n  head: createHttpHandler(_handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpMethods.HEAD),\n  get: createHttpHandler(_handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpMethods.GET),\n  post: createHttpHandler(_handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpMethods.POST),\n  put: createHttpHandler(_handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpMethods.PUT),\n  delete: createHttpHandler(_handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpMethods.DELETE),\n  patch: createHttpHandler(_handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpMethods.PATCH),\n  options: createHttpHandler(_handlers_HttpHandler_mjs__WEBPACK_IMPORTED_MODULE_0__.HttpMethods.OPTIONS)\n};\n\n//# sourceMappingURL=http.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL2h0dHAubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR29DO0FBQ3BDO0FBQ0EsMkNBQTJDO0FBQzNDLGVBQWUsa0VBQVc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0VBQVc7QUFDckMseUJBQXlCLGtFQUFXO0FBQ3BDLDBCQUEwQixrRUFBVztBQUNyQyx5QkFBeUIsa0VBQVc7QUFDcEMsNEJBQTRCLGtFQUFXO0FBQ3ZDLDJCQUEyQixrRUFBVztBQUN0Qyw2QkFBNkIsa0VBQVc7QUFDeEM7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL2h0dHAubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEh0dHBNZXRob2RzLFxuICBIdHRwSGFuZGxlclxufSBmcm9tICcuL2hhbmRsZXJzL0h0dHBIYW5kbGVyLm1qcyc7XG5mdW5jdGlvbiBjcmVhdGVIdHRwSGFuZGxlcihtZXRob2QpIHtcbiAgcmV0dXJuIChwcmVkaWNhdGUsIHJlc29sdmVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgICByZXR1cm4gbmV3IEh0dHBIYW5kbGVyKG1ldGhvZCwgcHJlZGljYXRlLCByZXNvbHZlciwgb3B0aW9ucyk7XG4gIH07XG59XG5jb25zdCBodHRwID0ge1xuICBhbGw6IGNyZWF0ZUh0dHBIYW5kbGVyKC8uKy8pLFxuICBoZWFkOiBjcmVhdGVIdHRwSGFuZGxlcihIdHRwTWV0aG9kcy5IRUFEKSxcbiAgZ2V0OiBjcmVhdGVIdHRwSGFuZGxlcihIdHRwTWV0aG9kcy5HRVQpLFxuICBwb3N0OiBjcmVhdGVIdHRwSGFuZGxlcihIdHRwTWV0aG9kcy5QT1NUKSxcbiAgcHV0OiBjcmVhdGVIdHRwSGFuZGxlcihIdHRwTWV0aG9kcy5QVVQpLFxuICBkZWxldGU6IGNyZWF0ZUh0dHBIYW5kbGVyKEh0dHBNZXRob2RzLkRFTEVURSksXG4gIHBhdGNoOiBjcmVhdGVIdHRwSGFuZGxlcihIdHRwTWV0aG9kcy5QQVRDSCksXG4gIG9wdGlvbnM6IGNyZWF0ZUh0dHBIYW5kbGVyKEh0dHBNZXRob2RzLk9QVElPTlMpXG59O1xuZXhwb3J0IHtcbiAgaHR0cFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/http.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/isCommonAssetRequest.mjs":
/*!************************************************************!*\
  !*** ./node_modules/msw/lib/core/isCommonAssetRequest.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isCommonAssetRequest: () => (/* binding */ isCommonAssetRequest)\n/* harmony export */ });\nfunction isCommonAssetRequest(request) {\n  const url = new URL(request.url);\n  if (url.protocol === \"file:\") {\n    return true;\n  }\n  if (/(fonts\\.googleapis\\.com)/.test(url.hostname)) {\n    return true;\n  }\n  if (/node_modules/.test(url.pathname)) {\n    return true;\n  }\n  if (url.pathname.includes(\"@vite\")) {\n    return true;\n  }\n  return /\\.(s?css|less|m?jsx?|m?tsx?|html|ttf|otf|woff|woff2|eot|gif|jpe?g|png|avif|webp|svg|mp4|webm|ogg|mov|mp3|wav|ogg|flac|aac|pdf|txt|csv|json|xml|md|zip|tar|gz|rar|7z)$/i.test(\n    url.pathname\n  );\n}\n\n//# sourceMappingURL=isCommonAssetRequest.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL2lzQ29tbW9uQXNzZXRSZXF1ZXN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS9pc0NvbW1vbkFzc2V0UmVxdWVzdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNDb21tb25Bc3NldFJlcXVlc3QocmVxdWVzdCkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgaWYgKHVybC5wcm90b2NvbCA9PT0gXCJmaWxlOlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKC8oZm9udHNcXC5nb29nbGVhcGlzXFwuY29tKS8udGVzdCh1cmwuaG9zdG5hbWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKC9ub2RlX21vZHVsZXMvLnRlc3QodXJsLnBhdGhuYW1lKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh1cmwucGF0aG5hbWUuaW5jbHVkZXMoXCJAdml0ZVwiKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiAvXFwuKHM/Y3NzfGxlc3N8bT9qc3g/fG0/dHN4P3xodG1sfHR0ZnxvdGZ8d29mZnx3b2ZmMnxlb3R8Z2lmfGpwZT9nfHBuZ3xhdmlmfHdlYnB8c3ZnfG1wNHx3ZWJtfG9nZ3xtb3Z8bXAzfHdhdnxvZ2d8ZmxhY3xhYWN8cGRmfHR4dHxjc3Z8anNvbnx4bWx8bWR8emlwfHRhcnxnenxyYXJ8N3opJC9pLnRlc3QoXG4gICAgdXJsLnBhdGhuYW1lXG4gICk7XG59XG5leHBvcnQge1xuICBpc0NvbW1vbkFzc2V0UmVxdWVzdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQ29tbW9uQXNzZXRSZXF1ZXN0Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/isCommonAssetRequest.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decorateResponse: () => (/* binding */ decorateResponse),\n/* harmony export */   kSetCookie: () => (/* binding */ kSetCookie),\n/* harmony export */   normalizeResponseInit: () => (/* binding */ normalizeResponseInit)\n/* harmony export */ });\n/* harmony import */ var _bundled_es_modules_statuses__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bundled-es-modules/statuses */ \"(ssr)/./node_modules/@bundled-es-modules/statuses/index-esm.js\");\n/* harmony import */ var headers_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! headers-polyfill */ \"(ssr)/./node_modules/headers-polyfill/lib/index.mjs\");\n\n\nconst { message } = _bundled_es_modules_statuses__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nconst kSetCookie = Symbol(\"kSetCookie\");\nfunction normalizeResponseInit(init = {}) {\n  const status = init?.status || 200;\n  const statusText = init?.statusText || message[status] || \"\";\n  const headers = new Headers(init?.headers);\n  return {\n    ...init,\n    headers,\n    status,\n    statusText\n  };\n}\nfunction decorateResponse(response, init) {\n  if (init.type) {\n    Object.defineProperty(response, \"type\", {\n      value: init.type,\n      enumerable: true,\n      writable: false\n    });\n  }\n  const responseCookies = init.headers.get(\"set-cookie\");\n  if (responseCookies) {\n    Object.defineProperty(response, kSetCookie, {\n      value: responseCookies,\n      enumerable: false,\n      writable: false\n    });\n    if (typeof document !== \"undefined\") {\n      const responseCookiePairs = headers_polyfill__WEBPACK_IMPORTED_MODULE_1__.Headers.prototype.getSetCookie.call(\n        init.headers\n      );\n      for (const cookieString of responseCookiePairs) {\n        document.cookie = cookieString;\n      }\n    }\n  }\n  return response;\n}\n\n//# sourceMappingURL=decorators.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL0h0dHBSZXNwb25zZS9kZWNvcmF0b3JzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvRDtBQUNVO0FBQzlELFFBQVEsVUFBVSxFQUFFLG9FQUFRO0FBQzVCO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0NBQWtDLHFEQUFlO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvSHR0cFJlc3BvbnNlL2RlY29yYXRvcnMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdGF0dXNlcyBmcm9tIFwiQGJ1bmRsZWQtZXMtbW9kdWxlcy9zdGF0dXNlc1wiO1xuaW1wb3J0IHsgSGVhZGVycyBhcyBIZWFkZXJzUG9seWZpbGwgfSBmcm9tIFwiaGVhZGVycy1wb2x5ZmlsbFwiO1xuY29uc3QgeyBtZXNzYWdlIH0gPSBzdGF0dXNlcztcbmNvbnN0IGtTZXRDb29raWUgPSBTeW1ib2woXCJrU2V0Q29va2llXCIpO1xuZnVuY3Rpb24gbm9ybWFsaXplUmVzcG9uc2VJbml0KGluaXQgPSB7fSkge1xuICBjb25zdCBzdGF0dXMgPSBpbml0Py5zdGF0dXMgfHwgMjAwO1xuICBjb25zdCBzdGF0dXNUZXh0ID0gaW5pdD8uc3RhdHVzVGV4dCB8fCBtZXNzYWdlW3N0YXR1c10gfHwgXCJcIjtcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKGluaXQ/LmhlYWRlcnMpO1xuICByZXR1cm4ge1xuICAgIC4uLmluaXQsXG4gICAgaGVhZGVycyxcbiAgICBzdGF0dXMsXG4gICAgc3RhdHVzVGV4dFxuICB9O1xufVxuZnVuY3Rpb24gZGVjb3JhdGVSZXNwb25zZShyZXNwb25zZSwgaW5pdCkge1xuICBpZiAoaW5pdC50eXBlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc3BvbnNlLCBcInR5cGVcIiwge1xuICAgICAgdmFsdWU6IGluaXQudHlwZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBjb25zdCByZXNwb25zZUNvb2tpZXMgPSBpbml0LmhlYWRlcnMuZ2V0KFwic2V0LWNvb2tpZVwiKTtcbiAgaWYgKHJlc3BvbnNlQ29va2llcykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNwb25zZSwga1NldENvb2tpZSwge1xuICAgICAgdmFsdWU6IHJlc3BvbnNlQ29va2llcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uc3QgcmVzcG9uc2VDb29raWVQYWlycyA9IEhlYWRlcnNQb2x5ZmlsbC5wcm90b3R5cGUuZ2V0U2V0Q29va2llLmNhbGwoXG4gICAgICAgIGluaXQuaGVhZGVyc1xuICAgICAgKTtcbiAgICAgIGZvciAoY29uc3QgY29va2llU3RyaW5nIG9mIHJlc3BvbnNlQ29va2llUGFpcnMpIHtcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llU3RyaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5leHBvcnQge1xuICBkZWNvcmF0ZVJlc3BvbnNlLFxuICBrU2V0Q29va2llLFxuICBub3JtYWxpemVSZXNwb25zZUluaXRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWNvcmF0b3JzLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/cookieStore.mjs":
/*!*********************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/cookieStore.mjs ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cookieStore: () => (/* binding */ cookieStore)\n/* harmony export */ });\n/* harmony import */ var is_node_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is-node-process */ \"(ssr)/./node_modules/is-node-process/lib/index.mjs\");\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! outvariant */ \"(ssr)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var tough_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tough-cookie */ \"(ssr)/./node_modules/msw/node_modules/tough-cookie/dist/index.js\");\n/* harmony import */ var _internal_jsonParse_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/jsonParse.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/jsonParse.mjs\");\n\n\n\n\nclass CookieStore {\n  #storageKey = \"__msw-cookie-store__\";\n  #jar;\n  #memoryStore;\n  constructor() {\n    if (!(0,is_node_process__WEBPACK_IMPORTED_MODULE_0__.isNodeProcess)()) {\n      (0,outvariant__WEBPACK_IMPORTED_MODULE_1__.invariant)(\n        typeof localStorage !== \"undefined\",\n        \"Failed to create a CookieStore: `localStorage` is not available in this environment. This is likely an issue with your environment, which has been detected as browser (or browser-like) environment and must implement global browser APIs correctly.\"\n      );\n    }\n    this.#memoryStore = new tough_cookie__WEBPACK_IMPORTED_MODULE_2__.MemoryCookieStore();\n    this.#memoryStore.idx = this.getCookieStoreIndex();\n    this.#jar = new tough_cookie__WEBPACK_IMPORTED_MODULE_2__.CookieJar(this.#memoryStore);\n  }\n  getCookies(url) {\n    return this.#jar.getCookiesSync(url);\n  }\n  async setCookie(cookieName, url) {\n    await this.#jar.setCookie(cookieName, url);\n    this.persist();\n  }\n  getCookieStoreIndex() {\n    if (typeof localStorage === \"undefined\") {\n      return {};\n    }\n    const cookiesString = localStorage.getItem(this.#storageKey);\n    if (cookiesString == null) {\n      return {};\n    }\n    const rawCookies = (0,_internal_jsonParse_mjs__WEBPACK_IMPORTED_MODULE_3__.jsonParse)(cookiesString);\n    if (rawCookies == null) {\n      return {};\n    }\n    const cookies = {};\n    for (const rawCookie of rawCookies) {\n      const cookie = tough_cookie__WEBPACK_IMPORTED_MODULE_2__.Cookie.fromJSON(rawCookie);\n      if (cookie != null && cookie.domain != null && cookie.path != null) {\n        cookies[cookie.domain] ||= {};\n        cookies[cookie.domain][cookie.path] ||= {};\n        cookies[cookie.domain][cookie.path][cookie.key] = cookie;\n      }\n    }\n    return cookies;\n  }\n  persist() {\n    if (typeof localStorage === \"undefined\") {\n      return;\n    }\n    const data = [];\n    const { idx } = this.#memoryStore;\n    for (const domain in idx) {\n      for (const path in idx[domain]) {\n        for (const key in idx[domain][path]) {\n          data.push(idx[domain][path][key].toJSON());\n        }\n      }\n    }\n    localStorage.setItem(this.#storageKey, JSON.stringify(data));\n  }\n}\nconst cookieStore = new CookieStore();\n\n//# sourceMappingURL=cookieStore.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2Nvb2tpZVN0b3JlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnRDtBQUNUO0FBS2pCO0FBQytCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhEQUFhO0FBQ3RCLE1BQU0scURBQVM7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyREFBaUI7QUFDN0M7QUFDQSxvQkFBb0IsbURBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0VBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnREFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9jb29raWVTdG9yZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNOb2RlUHJvY2VzcyB9IGZyb20gXCJpcy1ub2RlLXByb2Nlc3NcIjtcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gXCJvdXR2YXJpYW50XCI7XG5pbXBvcnQge1xuICBDb29raWUsXG4gIENvb2tpZUphcixcbiAgTWVtb3J5Q29va2llU3RvcmVcbn0gZnJvbSBcInRvdWdoLWNvb2tpZVwiO1xuaW1wb3J0IHsganNvblBhcnNlIH0gZnJvbSAnLi9pbnRlcm5hbC9qc29uUGFyc2UubWpzJztcbmNsYXNzIENvb2tpZVN0b3JlIHtcbiAgI3N0b3JhZ2VLZXkgPSBcIl9fbXN3LWNvb2tpZS1zdG9yZV9fXCI7XG4gICNqYXI7XG4gICNtZW1vcnlTdG9yZTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKCFpc05vZGVQcm9jZXNzKCkpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gXCJ1bmRlZmluZWRcIixcbiAgICAgICAgXCJGYWlsZWQgdG8gY3JlYXRlIGEgQ29va2llU3RvcmU6IGBsb2NhbFN0b3JhZ2VgIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudC4gVGhpcyBpcyBsaWtlbHkgYW4gaXNzdWUgd2l0aCB5b3VyIGVudmlyb25tZW50LCB3aGljaCBoYXMgYmVlbiBkZXRlY3RlZCBhcyBicm93c2VyIChvciBicm93c2VyLWxpa2UpIGVudmlyb25tZW50IGFuZCBtdXN0IGltcGxlbWVudCBnbG9iYWwgYnJvd3NlciBBUElzIGNvcnJlY3RseS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy4jbWVtb3J5U3RvcmUgPSBuZXcgTWVtb3J5Q29va2llU3RvcmUoKTtcbiAgICB0aGlzLiNtZW1vcnlTdG9yZS5pZHggPSB0aGlzLmdldENvb2tpZVN0b3JlSW5kZXgoKTtcbiAgICB0aGlzLiNqYXIgPSBuZXcgQ29va2llSmFyKHRoaXMuI21lbW9yeVN0b3JlKTtcbiAgfVxuICBnZXRDb29raWVzKHVybCkge1xuICAgIHJldHVybiB0aGlzLiNqYXIuZ2V0Q29va2llc1N5bmModXJsKTtcbiAgfVxuICBhc3luYyBzZXRDb29raWUoY29va2llTmFtZSwgdXJsKSB7XG4gICAgYXdhaXQgdGhpcy4jamFyLnNldENvb2tpZShjb29raWVOYW1lLCB1cmwpO1xuICAgIHRoaXMucGVyc2lzdCgpO1xuICB9XG4gIGdldENvb2tpZVN0b3JlSW5kZXgoKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgY29va2llc1N0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuI3N0b3JhZ2VLZXkpO1xuICAgIGlmIChjb29raWVzU3RyaW5nID09IG51bGwpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgcmF3Q29va2llcyA9IGpzb25QYXJzZShjb29raWVzU3RyaW5nKTtcbiAgICBpZiAocmF3Q29va2llcyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IGNvb2tpZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHJhd0Nvb2tpZSBvZiByYXdDb29raWVzKSB7XG4gICAgICBjb25zdCBjb29raWUgPSBDb29raWUuZnJvbUpTT04ocmF3Q29va2llKTtcbiAgICAgIGlmIChjb29raWUgIT0gbnVsbCAmJiBjb29raWUuZG9tYWluICE9IG51bGwgJiYgY29va2llLnBhdGggIT0gbnVsbCkge1xuICAgICAgICBjb29raWVzW2Nvb2tpZS5kb21haW5dIHx8PSB7fTtcbiAgICAgICAgY29va2llc1tjb29raWUuZG9tYWluXVtjb29raWUucGF0aF0gfHw9IHt9O1xuICAgICAgICBjb29raWVzW2Nvb2tpZS5kb21haW5dW2Nvb2tpZS5wYXRoXVtjb29raWUua2V5XSA9IGNvb2tpZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvb2tpZXM7XG4gIH1cbiAgcGVyc2lzdCgpIHtcbiAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gW107XG4gICAgY29uc3QgeyBpZHggfSA9IHRoaXMuI21lbW9yeVN0b3JlO1xuICAgIGZvciAoY29uc3QgZG9tYWluIGluIGlkeCkge1xuICAgICAgZm9yIChjb25zdCBwYXRoIGluIGlkeFtkb21haW5dKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGlkeFtkb21haW5dW3BhdGhdKSB7XG4gICAgICAgICAgZGF0YS5wdXNoKGlkeFtkb21haW5dW3BhdGhdW2tleV0udG9KU09OKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuI3N0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfVxufVxuY29uc3QgY29va2llU3RvcmUgPSBuZXcgQ29va2llU3RvcmUoKTtcbmV4cG9ydCB7XG4gIGNvb2tpZVN0b3JlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29va2llU3RvcmUubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/cookieStore.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/executeHandlers.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/executeHandlers.mjs ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   executeHandlers: () => (/* binding */ executeHandlers)\n/* harmony export */ });\nconst executeHandlers = async ({\n  request,\n  requestId,\n  handlers,\n  resolutionContext\n}) => {\n  let matchingHandler = null;\n  let result = null;\n  for (const handler of handlers) {\n    result = await handler.run({ request, requestId, resolutionContext });\n    if (result !== null) {\n      matchingHandler = handler;\n    }\n    if (result?.response) {\n      break;\n    }\n  }\n  if (matchingHandler) {\n    return {\n      handler: matchingHandler,\n      parsedResult: result?.parsedResult,\n      response: result?.response\n    };\n  }\n  return null;\n};\n\n//# sourceMappingURL=executeHandlers.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2V4ZWN1dGVIYW5kbGVycy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVDQUF1QztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvZXhlY3V0ZUhhbmRsZXJzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleGVjdXRlSGFuZGxlcnMgPSBhc3luYyAoe1xuICByZXF1ZXN0LFxuICByZXF1ZXN0SWQsXG4gIGhhbmRsZXJzLFxuICByZXNvbHV0aW9uQ29udGV4dFxufSkgPT4ge1xuICBsZXQgbWF0Y2hpbmdIYW5kbGVyID0gbnVsbDtcbiAgbGV0IHJlc3VsdCA9IG51bGw7XG4gIGZvciAoY29uc3QgaGFuZGxlciBvZiBoYW5kbGVycykge1xuICAgIHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIucnVuKHsgcmVxdWVzdCwgcmVxdWVzdElkLCByZXNvbHV0aW9uQ29udGV4dCB9KTtcbiAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICBtYXRjaGluZ0hhbmRsZXIgPSBoYW5kbGVyO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Py5yZXNwb25zZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmIChtYXRjaGluZ0hhbmRsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGFuZGxlcjogbWF0Y2hpbmdIYW5kbGVyLFxuICAgICAgcGFyc2VkUmVzdWx0OiByZXN1bHQ/LnBhcnNlZFJlc3VsdCxcbiAgICAgIHJlc3BvbnNlOiByZXN1bHQ/LnJlc3BvbnNlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5leHBvcnQge1xuICBleGVjdXRlSGFuZGxlcnNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGVjdXRlSGFuZGxlcnMubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/executeHandlers.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/handleRequest.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/handleRequest.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleRequest: () => (/* binding */ handleRequest)\n/* harmony export */ });\n/* harmony import */ var _open_draft_until__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @open-draft/until */ \"(ssr)/./node_modules/@open-draft/until/lib/index.mjs\");\n/* harmony import */ var _executeHandlers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./executeHandlers.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/executeHandlers.mjs\");\n/* harmony import */ var _request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./request/onUnhandledRequest.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs\");\n/* harmony import */ var _request_storeResponseCookies_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request/storeResponseCookies.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs\");\n\n\n\n\nasync function handleRequest(request, requestId, handlers, options, emitter, handleRequestOptions) {\n  emitter.emit(\"request:start\", { request, requestId });\n  if (request.headers.get(\"accept\")?.includes(\"msw/passthrough\")) {\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  const lookupResult = await (0,_open_draft_until__WEBPACK_IMPORTED_MODULE_0__.until)(() => {\n    return (0,_executeHandlers_mjs__WEBPACK_IMPORTED_MODULE_1__.executeHandlers)({\n      request,\n      requestId,\n      handlers,\n      resolutionContext: handleRequestOptions?.resolutionContext\n    });\n  });\n  if (lookupResult.error) {\n    emitter.emit(\"unhandledException\", {\n      error: lookupResult.error,\n      request,\n      requestId\n    });\n    throw lookupResult.error;\n  }\n  if (!lookupResult.data) {\n    await (0,_request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.onUnhandledRequest)(request, options.onUnhandledRequest);\n    emitter.emit(\"request:unhandled\", { request, requestId });\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  const { response } = lookupResult.data;\n  if (!response) {\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  if (response.status === 302 && response.headers.get(\"x-msw-intention\") === \"passthrough\") {\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  await (0,_request_storeResponseCookies_mjs__WEBPACK_IMPORTED_MODULE_3__.storeResponseCookies)(request, response);\n  emitter.emit(\"request:match\", { request, requestId });\n  const requiredLookupResult = lookupResult.data;\n  handleRequestOptions?.onMockedResponse?.(response, requiredLookupResult);\n  emitter.emit(\"request:end\", { request, requestId });\n  return response;\n}\n\n//# sourceMappingURL=handleRequest.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2hhbmRsZVJlcXVlc3QubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBDO0FBQ2M7QUFDYztBQUNJO0FBQzFFO0FBQ0Esa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFLO0FBQ2xDLFdBQVcscUVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtRkFBa0I7QUFDNUIsd0NBQXdDLG9CQUFvQjtBQUM1RCxrQ0FBa0Msb0JBQW9CO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLFVBQVUsV0FBVztBQUNyQjtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msb0JBQW9CO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUZBQW9CO0FBQzVCLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBLGdDQUFnQyxvQkFBb0I7QUFDcEQ7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaGFuZGxlUmVxdWVzdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdW50aWwgfSBmcm9tIFwiQG9wZW4tZHJhZnQvdW50aWxcIjtcbmltcG9ydCB7IGV4ZWN1dGVIYW5kbGVycyB9IGZyb20gJy4vZXhlY3V0ZUhhbmRsZXJzLm1qcyc7XG5pbXBvcnQgeyBvblVuaGFuZGxlZFJlcXVlc3QgfSBmcm9tICcuL3JlcXVlc3Qvb25VbmhhbmRsZWRSZXF1ZXN0Lm1qcyc7XG5pbXBvcnQgeyBzdG9yZVJlc3BvbnNlQ29va2llcyB9IGZyb20gJy4vcmVxdWVzdC9zdG9yZVJlc3BvbnNlQ29va2llcy5tanMnO1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdChyZXF1ZXN0LCByZXF1ZXN0SWQsIGhhbmRsZXJzLCBvcHRpb25zLCBlbWl0dGVyLCBoYW5kbGVSZXF1ZXN0T3B0aW9ucykge1xuICBlbWl0dGVyLmVtaXQoXCJyZXF1ZXN0OnN0YXJ0XCIsIHsgcmVxdWVzdCwgcmVxdWVzdElkIH0pO1xuICBpZiAocmVxdWVzdC5oZWFkZXJzLmdldChcImFjY2VwdFwiKT8uaW5jbHVkZXMoXCJtc3cvcGFzc3Rocm91Z2hcIikpIHtcbiAgICBlbWl0dGVyLmVtaXQoXCJyZXF1ZXN0OmVuZFwiLCB7IHJlcXVlc3QsIHJlcXVlc3RJZCB9KTtcbiAgICBoYW5kbGVSZXF1ZXN0T3B0aW9ucz8ub25QYXNzdGhyb3VnaFJlc3BvbnNlPy4ocmVxdWVzdCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGxvb2t1cFJlc3VsdCA9IGF3YWl0IHVudGlsKCgpID0+IHtcbiAgICByZXR1cm4gZXhlY3V0ZUhhbmRsZXJzKHtcbiAgICAgIHJlcXVlc3QsXG4gICAgICByZXF1ZXN0SWQsXG4gICAgICBoYW5kbGVycyxcbiAgICAgIHJlc29sdXRpb25Db250ZXh0OiBoYW5kbGVSZXF1ZXN0T3B0aW9ucz8ucmVzb2x1dGlvbkNvbnRleHRcbiAgICB9KTtcbiAgfSk7XG4gIGlmIChsb29rdXBSZXN1bHQuZXJyb3IpIHtcbiAgICBlbWl0dGVyLmVtaXQoXCJ1bmhhbmRsZWRFeGNlcHRpb25cIiwge1xuICAgICAgZXJyb3I6IGxvb2t1cFJlc3VsdC5lcnJvcixcbiAgICAgIHJlcXVlc3QsXG4gICAgICByZXF1ZXN0SWRcbiAgICB9KTtcbiAgICB0aHJvdyBsb29rdXBSZXN1bHQuZXJyb3I7XG4gIH1cbiAgaWYgKCFsb29rdXBSZXN1bHQuZGF0YSkge1xuICAgIGF3YWl0IG9uVW5oYW5kbGVkUmVxdWVzdChyZXF1ZXN0LCBvcHRpb25zLm9uVW5oYW5kbGVkUmVxdWVzdCk7XG4gICAgZW1pdHRlci5lbWl0KFwicmVxdWVzdDp1bmhhbmRsZWRcIiwgeyByZXF1ZXN0LCByZXF1ZXN0SWQgfSk7XG4gICAgZW1pdHRlci5lbWl0KFwicmVxdWVzdDplbmRcIiwgeyByZXF1ZXN0LCByZXF1ZXN0SWQgfSk7XG4gICAgaGFuZGxlUmVxdWVzdE9wdGlvbnM/Lm9uUGFzc3Rocm91Z2hSZXNwb25zZT8uKHJlcXVlc3QpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB7IHJlc3BvbnNlIH0gPSBsb29rdXBSZXN1bHQuZGF0YTtcbiAgaWYgKCFyZXNwb25zZSkge1xuICAgIGVtaXR0ZXIuZW1pdChcInJlcXVlc3Q6ZW5kXCIsIHsgcmVxdWVzdCwgcmVxdWVzdElkIH0pO1xuICAgIGhhbmRsZVJlcXVlc3RPcHRpb25zPy5vblBhc3N0aHJvdWdoUmVzcG9uc2U/LihyZXF1ZXN0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMzAyICYmIHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwieC1tc3ctaW50ZW50aW9uXCIpID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICBlbWl0dGVyLmVtaXQoXCJyZXF1ZXN0OmVuZFwiLCB7IHJlcXVlc3QsIHJlcXVlc3RJZCB9KTtcbiAgICBoYW5kbGVSZXF1ZXN0T3B0aW9ucz8ub25QYXNzdGhyb3VnaFJlc3BvbnNlPy4ocmVxdWVzdCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGF3YWl0IHN0b3JlUmVzcG9uc2VDb29raWVzKHJlcXVlc3QsIHJlc3BvbnNlKTtcbiAgZW1pdHRlci5lbWl0KFwicmVxdWVzdDptYXRjaFwiLCB7IHJlcXVlc3QsIHJlcXVlc3RJZCB9KTtcbiAgY29uc3QgcmVxdWlyZWRMb29rdXBSZXN1bHQgPSBsb29rdXBSZXN1bHQuZGF0YTtcbiAgaGFuZGxlUmVxdWVzdE9wdGlvbnM/Lm9uTW9ja2VkUmVzcG9uc2U/LihyZXNwb25zZSwgcmVxdWlyZWRMb29rdXBSZXN1bHQpO1xuICBlbWl0dGVyLmVtaXQoXCJyZXF1ZXN0OmVuZFwiLCB7IHJlcXVlc3QsIHJlcXVlc3RJZCB9KTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuZXhwb3J0IHtcbiAgaGFuZGxlUmVxdWVzdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhbmRsZVJlcXVlc3QubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/handleRequest.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/Disposable.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/Disposable.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Disposable: () => (/* binding */ Disposable)\n/* harmony export */ });\nclass Disposable {\n  subscriptions = [];\n  dispose() {\n    let subscription;\n    while (subscription = this.subscriptions.shift()) {\n      subscription();\n    }\n  }\n}\n\n//# sourceMappingURL=Disposable.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL0Rpc3Bvc2FibGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL0Rpc3Bvc2FibGUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIERpc3Bvc2FibGUge1xuICBzdWJzY3JpcHRpb25zID0gW107XG4gIGRpc3Bvc2UoKSB7XG4gICAgbGV0IHN1YnNjcmlwdGlvbjtcbiAgICB3aGlsZSAoc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpcHRpb25zLnNoaWZ0KCkpIHtcbiAgICAgIHN1YnNjcmlwdGlvbigpO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IHtcbiAgRGlzcG9zYWJsZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURpc3Bvc2FibGUubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/Disposable.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/devUtils.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InternalError: () => (/* binding */ InternalError),\n/* harmony export */   devUtils: () => (/* binding */ devUtils)\n/* harmony export */ });\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! outvariant */ \"(ssr)/./node_modules/outvariant/lib/index.mjs\");\n\nconst LIBRARY_PREFIX = \"[MSW]\";\nfunction formatMessage(message, ...positionals) {\n  const interpolatedMessage = (0,outvariant__WEBPACK_IMPORTED_MODULE_0__.format)(message, ...positionals);\n  return `${LIBRARY_PREFIX} ${interpolatedMessage}`;\n}\nfunction warn(message, ...positionals) {\n  console.warn(formatMessage(message, ...positionals));\n}\nfunction error(message, ...positionals) {\n  console.error(formatMessage(message, ...positionals));\n}\nconst devUtils = {\n  formatMessage,\n  warn,\n  error\n};\nclass InternalError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"InternalError\";\n  }\n}\n\n//# sourceMappingURL=devUtils.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0M7QUFDcEM7QUFDQTtBQUNBLDhCQUE4QixrREFBTTtBQUNwQyxZQUFZLGdCQUFnQixFQUFFLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tIFwib3V0dmFyaWFudFwiO1xuY29uc3QgTElCUkFSWV9QUkVGSVggPSBcIltNU1ddXCI7XG5mdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSB7XG4gIGNvbnN0IGludGVycG9sYXRlZE1lc3NhZ2UgPSBmb3JtYXQobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpO1xuICByZXR1cm4gYCR7TElCUkFSWV9QUkVGSVh9ICR7aW50ZXJwb2xhdGVkTWVzc2FnZX1gO1xufVxuZnVuY3Rpb24gd2FybihtZXNzYWdlLCAuLi5wb3NpdGlvbmFscykge1xuICBjb25zb2xlLndhcm4oZm9ybWF0TWVzc2FnZShtZXNzYWdlLCAuLi5wb3NpdGlvbmFscykpO1xufVxuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgY29uc29sZS5lcnJvcihmb3JtYXRNZXNzYWdlKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSk7XG59XG5jb25zdCBkZXZVdGlscyA9IHtcbiAgZm9ybWF0TWVzc2FnZSxcbiAgd2FybixcbiAgZXJyb3Jcbn07XG5jbGFzcyBJbnRlcm5hbEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJJbnRlcm5hbEVycm9yXCI7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIEludGVybmFsRXJyb3IsXG4gIGRldlV0aWxzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV2VXRpbHMubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/getCallFrame.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/getCallFrame.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCallFrame: () => (/* binding */ getCallFrame)\n/* harmony export */ });\nconst SOURCE_FRAME = /[\\/\\\\]msw[\\/\\\\]src[\\/\\\\](.+)/;\nconst BUILD_FRAME = /(node_modules)?[\\/\\\\]lib[\\/\\\\](core|browser|node|native|iife)[\\/\\\\]|^[^\\/\\\\]*$/;\nfunction getCallFrame(error) {\n  const stack = error.stack;\n  if (!stack) {\n    return;\n  }\n  const frames = stack.split(\"\\n\").slice(1);\n  const declarationFrame = frames.find((frame) => {\n    return !(SOURCE_FRAME.test(frame) || BUILD_FRAME.test(frame));\n  });\n  if (!declarationFrame) {\n    return;\n  }\n  const declarationPath = declarationFrame.replace(/\\s*at [^()]*\\(([^)]+)\\)/, \"$1\").replace(/^@/, \"\");\n  return declarationPath;\n}\n\n//# sourceMappingURL=getCallFrame.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2dldENhbGxGcmFtZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvZ2V0Q2FsbEZyYW1lLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTT1VSQ0VfRlJBTUUgPSAvW1xcL1xcXFxdbXN3W1xcL1xcXFxdc3JjW1xcL1xcXFxdKC4rKS87XG5jb25zdCBCVUlMRF9GUkFNRSA9IC8obm9kZV9tb2R1bGVzKT9bXFwvXFxcXF1saWJbXFwvXFxcXF0oY29yZXxicm93c2VyfG5vZGV8bmF0aXZlfGlpZmUpW1xcL1xcXFxdfF5bXlxcL1xcXFxdKiQvO1xuZnVuY3Rpb24gZ2V0Q2FsbEZyYW1lKGVycm9yKSB7XG4gIGNvbnN0IHN0YWNrID0gZXJyb3Iuc3RhY2s7XG4gIGlmICghc3RhY2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZnJhbWVzID0gc3RhY2suc3BsaXQoXCJcXG5cIikuc2xpY2UoMSk7XG4gIGNvbnN0IGRlY2xhcmF0aW9uRnJhbWUgPSBmcmFtZXMuZmluZCgoZnJhbWUpID0+IHtcbiAgICByZXR1cm4gIShTT1VSQ0VfRlJBTUUudGVzdChmcmFtZSkgfHwgQlVJTERfRlJBTUUudGVzdChmcmFtZSkpO1xuICB9KTtcbiAgaWYgKCFkZWNsYXJhdGlvbkZyYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGRlY2xhcmF0aW9uUGF0aCA9IGRlY2xhcmF0aW9uRnJhbWUucmVwbGFjZSgvXFxzKmF0IFteKCldKlxcKChbXildKylcXCkvLCBcIiQxXCIpLnJlcGxhY2UoL15ALywgXCJcIik7XG4gIHJldHVybiBkZWNsYXJhdGlvblBhdGg7XG59XG5leHBvcnQge1xuICBnZXRDYWxsRnJhbWVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDYWxsRnJhbWUubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/getCallFrame.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHandlerKind: () => (/* binding */ isHandlerKind)\n/* harmony export */ });\nfunction isHandlerKind(kind) {\n  return (input) => {\n    return input != null && typeof input === \"object\" && \"__kind\" in input && input.__kind === kind;\n  };\n}\n\n//# sourceMappingURL=isHandlerKind.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2lzSGFuZGxlcktpbmQubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9pbnRlcm5hbC9pc0hhbmRsZXJLaW5kLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpc0hhbmRsZXJLaW5kKGtpbmQpIHtcbiAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIiAmJiBcIl9fa2luZFwiIGluIGlucHV0ICYmIGlucHV0Ll9fa2luZCA9PT0ga2luZDtcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIGlzSGFuZGxlcktpbmRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0hhbmRsZXJLaW5kLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/isIterable.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/isIterable.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isIterable: () => (/* binding */ isIterable)\n/* harmony export */ });\nfunction isIterable(fn) {\n  if (!fn) {\n    return false;\n  }\n  return Reflect.has(fn, Symbol.iterator) || Reflect.has(fn, Symbol.asyncIterator);\n}\n\n//# sourceMappingURL=isIterable.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2lzSXRlcmFibGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2lzSXRlcmFibGUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzSXRlcmFibGUoZm4pIHtcbiAgaWYgKCFmbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gUmVmbGVjdC5oYXMoZm4sIFN5bWJvbC5pdGVyYXRvcikgfHwgUmVmbGVjdC5oYXMoZm4sIFN5bWJvbC5hc3luY0l0ZXJhdG9yKTtcbn1cbmV4cG9ydCB7XG4gIGlzSXRlcmFibGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/isIterable.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/isObject.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/isObject.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isObject: () => (/* binding */ isObject)\n/* harmony export */ });\nfunction isObject(value) {\n  return value != null && typeof value === \"object\" && !Array.isArray(value);\n}\n\n//# sourceMappingURL=isObject.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2lzT2JqZWN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9pbnRlcm5hbC9pc09iamVjdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cbmV4cG9ydCB7XG4gIGlzT2JqZWN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYmplY3QubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/isObject.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/isStringEqual.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/isStringEqual.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isStringEqual: () => (/* binding */ isStringEqual)\n/* harmony export */ });\nfunction isStringEqual(actual, expected) {\n  return actual.toLowerCase() === expected.toLowerCase();\n}\n\n//# sourceMappingURL=isStringEqual.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2lzU3RyaW5nRXF1YWwubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2lzU3RyaW5nRXF1YWwubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzU3RyaW5nRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkge1xuICByZXR1cm4gYWN0dWFsLnRvTG93ZXJDYXNlKCkgPT09IGV4cGVjdGVkLnRvTG93ZXJDYXNlKCk7XG59XG5leHBvcnQge1xuICBpc1N0cmluZ0VxdWFsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNTdHJpbmdFcXVhbC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/isStringEqual.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/jsonParse.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/jsonParse.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   jsonParse: () => (/* binding */ jsonParse)\n/* harmony export */ });\nfunction jsonParse(value) {\n  try {\n    return JSON.parse(value);\n  } catch {\n    return void 0;\n  }\n}\n\n//# sourceMappingURL=jsonParse.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2pzb25QYXJzZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL2pzb25QYXJzZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24ganNvblBhcnNlKHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG59XG5leHBvcnQge1xuICBqc29uUGFyc2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uUGFyc2UubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/jsonParse.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/mergeRight.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/mergeRight.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mergeRight: () => (/* binding */ mergeRight)\n/* harmony export */ });\n/* harmony import */ var _isObject_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isObject.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/isObject.mjs\");\n\nfunction mergeRight(left, right) {\n  return Object.entries(right).reduce(\n    (result, [key, rightValue]) => {\n      const leftValue = result[key];\n      if (Array.isArray(leftValue) && Array.isArray(rightValue)) {\n        result[key] = leftValue.concat(rightValue);\n        return result;\n      }\n      if ((0,_isObject_mjs__WEBPACK_IMPORTED_MODULE_0__.isObject)(leftValue) && (0,_isObject_mjs__WEBPACK_IMPORTED_MODULE_0__.isObject)(rightValue)) {\n        result[key] = mergeRight(leftValue, rightValue);\n        return result;\n      }\n      result[key] = rightValue;\n      return result;\n    },\n    Object.assign({}, left)\n  );\n}\n\n//# sourceMappingURL=mergeRight.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL21lcmdlUmlnaHQubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVEQUFRLGVBQWUsdURBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvQkFBb0I7QUFDcEI7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvbWVyZ2VSaWdodC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL2lzT2JqZWN0Lm1qcyc7XG5mdW5jdGlvbiBtZXJnZVJpZ2h0KGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhyaWdodCkucmVkdWNlKFxuICAgIChyZXN1bHQsIFtrZXksIHJpZ2h0VmFsdWVdKSA9PiB7XG4gICAgICBjb25zdCBsZWZ0VmFsdWUgPSByZXN1bHRba2V5XTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGxlZnRWYWx1ZSkgJiYgQXJyYXkuaXNBcnJheShyaWdodFZhbHVlKSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IGxlZnRWYWx1ZS5jb25jYXQocmlnaHRWYWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QobGVmdFZhbHVlKSAmJiBpc09iamVjdChyaWdodFZhbHVlKSkge1xuICAgICAgICByZXN1bHRba2V5XSA9IG1lcmdlUmlnaHQobGVmdFZhbHVlLCByaWdodFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJlc3VsdFtrZXldID0gcmlnaHRWYWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBPYmplY3QuYXNzaWduKHt9LCBsZWZ0KVxuICApO1xufVxuZXhwb3J0IHtcbiAgbWVyZ2VSaWdodFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlUmlnaHQubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/mergeRight.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pipeEvents: () => (/* binding */ pipeEvents)\n/* harmony export */ });\nfunction pipeEvents(source, destination) {\n  const rawEmit = source.emit;\n  if (rawEmit._isPiped) {\n    return;\n  }\n  const sourceEmit = function sourceEmit2(event, ...data) {\n    destination.emit(event, ...data);\n    return rawEmit.call(this, event, ...data);\n  };\n  sourceEmit._isPiped = true;\n  source.emit = sourceEmit;\n}\n\n//# sourceMappingURL=pipeEvents.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL3BpcGVFdmVudHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL3BpcGVFdmVudHMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHBpcGVFdmVudHMoc291cmNlLCBkZXN0aW5hdGlvbikge1xuICBjb25zdCByYXdFbWl0ID0gc291cmNlLmVtaXQ7XG4gIGlmIChyYXdFbWl0Ll9pc1BpcGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHNvdXJjZUVtaXQgPSBmdW5jdGlvbiBzb3VyY2VFbWl0MihldmVudCwgLi4uZGF0YSkge1xuICAgIGRlc3RpbmF0aW9uLmVtaXQoZXZlbnQsIC4uLmRhdGEpO1xuICAgIHJldHVybiByYXdFbWl0LmNhbGwodGhpcywgZXZlbnQsIC4uLmRhdGEpO1xuICB9O1xuICBzb3VyY2VFbWl0Ll9pc1BpcGVkID0gdHJ1ZTtcbiAgc291cmNlLmVtaXQgPSBzb3VyY2VFbWl0O1xufVxuZXhwb3J0IHtcbiAgcGlwZUV2ZW50c1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGVFdmVudHMubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toReadonlyArray: () => (/* binding */ toReadonlyArray)\n/* harmony export */ });\nfunction toReadonlyArray(source) {\n  const clone = [...source];\n  Object.freeze(clone);\n  return clone;\n}\n\n//# sourceMappingURL=toReadonlyArray.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL3RvUmVhZG9ubHlBcnJheS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL3RvUmVhZG9ubHlBcnJheS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdG9SZWFkb25seUFycmF5KHNvdXJjZSkge1xuICBjb25zdCBjbG9uZSA9IFsuLi5zb3VyY2VdO1xuICBPYmplY3QuZnJlZXplKGNsb25lKTtcbiAgcmV0dXJuIGNsb25lO1xufVxuZXhwb3J0IHtcbiAgdG9SZWFkb25seUFycmF5XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9SZWFkb25seUFycmF5Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/logging/getStatusCodeColor.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/logging/getStatusCodeColor.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StatusCodeColor: () => (/* binding */ StatusCodeColor),\n/* harmony export */   getStatusCodeColor: () => (/* binding */ getStatusCodeColor)\n/* harmony export */ });\nvar StatusCodeColor = /* @__PURE__ */ ((StatusCodeColor2) => {\n  StatusCodeColor2[\"Success\"] = \"#69AB32\";\n  StatusCodeColor2[\"Warning\"] = \"#F0BB4B\";\n  StatusCodeColor2[\"Danger\"] = \"#E95F5D\";\n  return StatusCodeColor2;\n})(StatusCodeColor || {});\nfunction getStatusCodeColor(status) {\n  if (status < 300) {\n    return \"#69AB32\" /* Success */;\n  }\n  if (status < 400) {\n    return \"#F0BB4B\" /* Warning */;\n  }\n  return \"#E95F5D\" /* Danger */;\n}\n\n//# sourceMappingURL=getStatusCodeColor.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2xvZ2dpbmcvZ2V0U3RhdHVzQ29kZUNvbG9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHVCQUF1QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2xvZ2dpbmcvZ2V0U3RhdHVzQ29kZUNvbG9yLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3RhdHVzQ29kZUNvbG9yID0gLyogQF9fUFVSRV9fICovICgoU3RhdHVzQ29kZUNvbG9yMikgPT4ge1xuICBTdGF0dXNDb2RlQ29sb3IyW1wiU3VjY2Vzc1wiXSA9IFwiIzY5QUIzMlwiO1xuICBTdGF0dXNDb2RlQ29sb3IyW1wiV2FybmluZ1wiXSA9IFwiI0YwQkI0QlwiO1xuICBTdGF0dXNDb2RlQ29sb3IyW1wiRGFuZ2VyXCJdID0gXCIjRTk1RjVEXCI7XG4gIHJldHVybiBTdGF0dXNDb2RlQ29sb3IyO1xufSkoU3RhdHVzQ29kZUNvbG9yIHx8IHt9KTtcbmZ1bmN0aW9uIGdldFN0YXR1c0NvZGVDb2xvcihzdGF0dXMpIHtcbiAgaWYgKHN0YXR1cyA8IDMwMCkge1xuICAgIHJldHVybiBcIiM2OUFCMzJcIiAvKiBTdWNjZXNzICovO1xuICB9XG4gIGlmIChzdGF0dXMgPCA0MDApIHtcbiAgICByZXR1cm4gXCIjRjBCQjRCXCIgLyogV2FybmluZyAqLztcbiAgfVxuICByZXR1cm4gXCIjRTk1RjVEXCIgLyogRGFuZ2VyICovO1xufVxuZXhwb3J0IHtcbiAgU3RhdHVzQ29kZUNvbG9yLFxuICBnZXRTdGF0dXNDb2RlQ29sb3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTdGF0dXNDb2RlQ29sb3IubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/logging/getStatusCodeColor.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/logging/getTimestamp.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/logging/getTimestamp.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTimestamp: () => (/* binding */ getTimestamp)\n/* harmony export */ });\nfunction getTimestamp(options) {\n  const now = /* @__PURE__ */ new Date();\n  const timestamp = `${now.getHours().toString().padStart(2, \"0\")}:${now.getMinutes().toString().padStart(2, \"0\")}:${now.getSeconds().toString().padStart(2, \"0\")}`;\n  if (options?.milliseconds) {\n    return `${timestamp}.${now.getMilliseconds().toString().padStart(3, \"0\")}`;\n  }\n  return timestamp;\n}\n\n//# sourceMappingURL=getTimestamp.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2xvZ2dpbmcvZ2V0VGltZXN0YW1wLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBLHVCQUF1QiwyQ0FBMkMsR0FBRyw2Q0FBNkMsR0FBRyw2Q0FBNkM7QUFDbEs7QUFDQSxjQUFjLFVBQVUsR0FBRyxrREFBa0Q7QUFDN0U7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9sb2dnaW5nL2dldFRpbWVzdGFtcC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZ2V0VGltZXN0YW1wKG9wdGlvbnMpIHtcbiAgY29uc3Qgbm93ID0gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IGAke25vdy5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfToke25vdy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7bm93LmdldFNlY29uZHMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xuICBpZiAob3B0aW9ucz8ubWlsbGlzZWNvbmRzKSB7XG4gICAgcmV0dXJuIGAke3RpbWVzdGFtcH0uJHtub3cuZ2V0TWlsbGlzZWNvbmRzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgzLCBcIjBcIil9YDtcbiAgfVxuICByZXR1cm4gdGltZXN0YW1wO1xufVxuZXhwb3J0IHtcbiAgZ2V0VGltZXN0YW1wXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0VGltZXN0YW1wLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/logging/getTimestamp.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/logging/serializeRequest.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/logging/serializeRequest.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serializeRequest: () => (/* binding */ serializeRequest)\n/* harmony export */ });\nasync function serializeRequest(request) {\n  const requestClone = request.clone();\n  const requestText = await requestClone.text();\n  return {\n    url: new URL(request.url),\n    method: request.method,\n    headers: Object.fromEntries(request.headers.entries()),\n    body: requestText\n  };\n}\n\n//# sourceMappingURL=serializeRequest.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2xvZ2dpbmcvc2VyaWFsaXplUmVxdWVzdC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9sb2dnaW5nL3NlcmlhbGl6ZVJlcXVlc3QubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImFzeW5jIGZ1bmN0aW9uIHNlcmlhbGl6ZVJlcXVlc3QocmVxdWVzdCkge1xuICBjb25zdCByZXF1ZXN0Q2xvbmUgPSByZXF1ZXN0LmNsb25lKCk7XG4gIGNvbnN0IHJlcXVlc3RUZXh0ID0gYXdhaXQgcmVxdWVzdENsb25lLnRleHQoKTtcbiAgcmV0dXJuIHtcbiAgICB1cmw6IG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgaGVhZGVyczogT2JqZWN0LmZyb21FbnRyaWVzKHJlcXVlc3QuaGVhZGVycy5lbnRyaWVzKCkpLFxuICAgIGJvZHk6IHJlcXVlc3RUZXh0XG4gIH07XG59XG5leHBvcnQge1xuICBzZXJpYWxpemVSZXF1ZXN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXplUmVxdWVzdC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/logging/serializeRequest.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/logging/serializeResponse.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/logging/serializeResponse.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   serializeResponse: () => (/* binding */ serializeResponse)\n/* harmony export */ });\n/* harmony import */ var _bundled_es_modules_statuses__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bundled-es-modules/statuses */ \"(ssr)/./node_modules/@bundled-es-modules/statuses/index-esm.js\");\n\nconst { message } = _bundled_es_modules_statuses__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nasync function serializeResponse(response) {\n  const responseClone = response.clone();\n  const responseText = await responseClone.text();\n  const responseStatus = responseClone.status || 200;\n  const responseStatusText = responseClone.statusText || message[responseStatus] || \"OK\";\n  return {\n    status: responseStatus,\n    statusText: responseStatusText,\n    headers: Object.fromEntries(responseClone.headers.entries()),\n    body: responseText\n  };\n}\n\n//# sourceMappingURL=serializeResponse.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2xvZ2dpbmcvc2VyaWFsaXplUmVzcG9uc2UubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EO0FBQ3BELFFBQVEsVUFBVSxFQUFFLG9FQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvbG9nZ2luZy9zZXJpYWxpemVSZXNwb25zZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0YXR1c2VzIGZyb20gXCJAYnVuZGxlZC1lcy1tb2R1bGVzL3N0YXR1c2VzXCI7XG5jb25zdCB7IG1lc3NhZ2UgfSA9IHN0YXR1c2VzO1xuYXN5bmMgZnVuY3Rpb24gc2VyaWFsaXplUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgY29uc3QgcmVzcG9uc2VDbG9uZSA9IHJlc3BvbnNlLmNsb25lKCk7XG4gIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlQ2xvbmUudGV4dCgpO1xuICBjb25zdCByZXNwb25zZVN0YXR1cyA9IHJlc3BvbnNlQ2xvbmUuc3RhdHVzIHx8IDIwMDtcbiAgY29uc3QgcmVzcG9uc2VTdGF0dXNUZXh0ID0gcmVzcG9uc2VDbG9uZS5zdGF0dXNUZXh0IHx8IG1lc3NhZ2VbcmVzcG9uc2VTdGF0dXNdIHx8IFwiT0tcIjtcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXM6IHJlc3BvbnNlU3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlU3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBPYmplY3QuZnJvbUVudHJpZXMocmVzcG9uc2VDbG9uZS5oZWFkZXJzLmVudHJpZXMoKSksXG4gICAgYm9keTogcmVzcG9uc2VUZXh0XG4gIH07XG59XG5leHBvcnQge1xuICBzZXJpYWxpemVSZXNwb25zZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZVJlc3BvbnNlLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/logging/serializeResponse.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/matching/matchRequestUrl.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/matching/matchRequestUrl.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coercePath: () => (/* binding */ coercePath),\n/* harmony export */   isPath: () => (/* binding */ isPath),\n/* harmony export */   matchRequestUrl: () => (/* binding */ matchRequestUrl)\n/* harmony export */ });\n/* harmony import */ var path_to_regexp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path-to-regexp */ \"(ssr)/./node_modules/path-to-regexp/dist.es2015/index.js\");\n/* harmony import */ var _mswjs_interceptors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mswjs/interceptors */ \"(ssr)/./node_modules/@mswjs/interceptors/lib/node/index.mjs\");\n/* harmony import */ var _normalizePath_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./normalizePath.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/matching/normalizePath.mjs\");\n\n\n\nfunction coercePath(path) {\n  return path.replace(\n    /([:a-zA-Z_-]*)(\\*{1,2})+/g,\n    (_, parameterName, wildcard) => {\n      const expression = \"(.*)\";\n      if (!parameterName) {\n        return expression;\n      }\n      return parameterName.startsWith(\":\") ? `${parameterName}${wildcard}` : `${parameterName}${expression}`;\n    }\n  ).replace(/([^\\/])(:)(?=\\d+)/, \"$1\\\\$2\").replace(/^([^\\/]+)(:)(?=\\/\\/)/, \"$1\\\\$2\");\n}\nfunction matchRequestUrl(url, path, baseUrl) {\n  const normalizedPath = (0,_normalizePath_mjs__WEBPACK_IMPORTED_MODULE_1__.normalizePath)(path, baseUrl);\n  const cleanPath = typeof normalizedPath === \"string\" ? coercePath(normalizedPath) : normalizedPath;\n  const cleanUrl = (0,_mswjs_interceptors__WEBPACK_IMPORTED_MODULE_0__.getCleanUrl)(url);\n  const result = (0,path_to_regexp__WEBPACK_IMPORTED_MODULE_2__.match)(cleanPath, { decode: decodeURIComponent })(cleanUrl);\n  const params = result && result.params || {};\n  return {\n    matches: result !== false,\n    params\n  };\n}\nfunction isPath(value) {\n  return typeof value === \"string\" || value instanceof RegExp;\n}\n\n//# sourceMappingURL=matchRequestUrl.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL21hdGNoaW5nL21hdGNoUmVxdWVzdFVybC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVDO0FBQ1c7QUFDRTtBQUNwRDtBQUNBO0FBQ0EsdUJBQXVCLElBQUk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxjQUFjLEVBQUUsU0FBUyxPQUFPLGNBQWMsRUFBRSxXQUFXO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlFQUFhO0FBQ3RDO0FBQ0EsbUJBQW1CLGdFQUFXO0FBQzlCLGlCQUFpQixxREFBSyxjQUFjLDRCQUE0QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL21hdGNoaW5nL21hdGNoUmVxdWVzdFVybC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWF0Y2ggfSBmcm9tIFwicGF0aC10by1yZWdleHBcIjtcbmltcG9ydCB7IGdldENsZWFuVXJsIH0gZnJvbSBcIkBtc3dqcy9pbnRlcmNlcHRvcnNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZVBhdGggfSBmcm9tICcuL25vcm1hbGl6ZVBhdGgubWpzJztcbmZ1bmN0aW9uIGNvZXJjZVBhdGgocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZXBsYWNlKFxuICAgIC8oWzphLXpBLVpfLV0qKShcXCp7MSwyfSkrL2csXG4gICAgKF8sIHBhcmFtZXRlck5hbWUsIHdpbGRjYXJkKSA9PiB7XG4gICAgICBjb25zdCBleHByZXNzaW9uID0gXCIoLiopXCI7XG4gICAgICBpZiAoIXBhcmFtZXRlck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb247XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyYW1ldGVyTmFtZS5zdGFydHNXaXRoKFwiOlwiKSA/IGAke3BhcmFtZXRlck5hbWV9JHt3aWxkY2FyZH1gIDogYCR7cGFyYW1ldGVyTmFtZX0ke2V4cHJlc3Npb259YDtcbiAgICB9XG4gICkucmVwbGFjZSgvKFteXFwvXSkoOikoPz1cXGQrKS8sIFwiJDFcXFxcJDJcIikucmVwbGFjZSgvXihbXlxcL10rKSg6KSg/PVxcL1xcLykvLCBcIiQxXFxcXCQyXCIpO1xufVxuZnVuY3Rpb24gbWF0Y2hSZXF1ZXN0VXJsKHVybCwgcGF0aCwgYmFzZVVybCkge1xuICBjb25zdCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVBhdGgocGF0aCwgYmFzZVVybCk7XG4gIGNvbnN0IGNsZWFuUGF0aCA9IHR5cGVvZiBub3JtYWxpemVkUGF0aCA9PT0gXCJzdHJpbmdcIiA/IGNvZXJjZVBhdGgobm9ybWFsaXplZFBhdGgpIDogbm9ybWFsaXplZFBhdGg7XG4gIGNvbnN0IGNsZWFuVXJsID0gZ2V0Q2xlYW5VcmwodXJsKTtcbiAgY29uc3QgcmVzdWx0ID0gbWF0Y2goY2xlYW5QYXRoLCB7IGRlY29kZTogZGVjb2RlVVJJQ29tcG9uZW50IH0pKGNsZWFuVXJsKTtcbiAgY29uc3QgcGFyYW1zID0gcmVzdWx0ICYmIHJlc3VsdC5wYXJhbXMgfHwge307XG4gIHJldHVybiB7XG4gICAgbWF0Y2hlczogcmVzdWx0ICE9PSBmYWxzZSxcbiAgICBwYXJhbXNcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzUGF0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwO1xufVxuZXhwb3J0IHtcbiAgY29lcmNlUGF0aCxcbiAgaXNQYXRoLFxuICBtYXRjaFJlcXVlc3RVcmxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRjaFJlcXVlc3RVcmwubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/matching/matchRequestUrl.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/matching/normalizePath.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/matching/normalizePath.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalizePath: () => (/* binding */ normalizePath)\n/* harmony export */ });\n/* harmony import */ var _url_cleanUrl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../url/cleanUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/url/cleanUrl.mjs\");\n/* harmony import */ var _url_getAbsoluteUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../url/getAbsoluteUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/url/getAbsoluteUrl.mjs\");\n\n\nfunction normalizePath(path, baseUrl) {\n  if (path instanceof RegExp) {\n    return path;\n  }\n  const maybeAbsoluteUrl = (0,_url_getAbsoluteUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.getAbsoluteUrl)(path, baseUrl);\n  return (0,_url_cleanUrl_mjs__WEBPACK_IMPORTED_MODULE_1__.cleanUrl)(maybeAbsoluteUrl);\n}\n\n//# sourceMappingURL=normalizePath.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL21hdGNoaW5nL25vcm1hbGl6ZVBhdGgubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUNZO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVFQUFjO0FBQ3pDLFNBQVMsMkRBQVE7QUFDakI7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL21hdGNoaW5nL25vcm1hbGl6ZVBhdGgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsZWFuVXJsIH0gZnJvbSAnLi4vdXJsL2NsZWFuVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRBYnNvbHV0ZVVybCB9IGZyb20gJy4uL3VybC9nZXRBYnNvbHV0ZVVybC5tanMnO1xuZnVuY3Rpb24gbm9ybWFsaXplUGF0aChwYXRoLCBiYXNlVXJsKSB7XG4gIGlmIChwYXRoIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbiAgY29uc3QgbWF5YmVBYnNvbHV0ZVVybCA9IGdldEFic29sdXRlVXJsKHBhdGgsIGJhc2VVcmwpO1xuICByZXR1cm4gY2xlYW5VcmwobWF5YmVBYnNvbHV0ZVVybCk7XG59XG5leHBvcnQge1xuICBub3JtYWxpemVQYXRoXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9ybWFsaXplUGF0aC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/matching/normalizePath.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/request/getRequestCookies.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/request/getRequestCookies.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAllRequestCookies: () => (/* binding */ getAllRequestCookies)\n/* harmony export */ });\n/* harmony import */ var _bundled_es_modules_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @bundled-es-modules/cookie */ \"(ssr)/./node_modules/@bundled-es-modules/cookie/index-esm.js\");\n/* harmony import */ var _cookieStore_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cookieStore.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/cookieStore.mjs\");\n\n\nfunction parseCookies(input) {\n  const parsedCookies = _bundled_es_modules_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parse(input);\n  const cookies = {};\n  for (const cookieName in parsedCookies) {\n    if (typeof parsedCookies[cookieName] !== \"undefined\") {\n      cookies[cookieName] = parsedCookies[cookieName];\n    }\n  }\n  return cookies;\n}\nfunction getAllDocumentCookies() {\n  return parseCookies(document.cookie);\n}\nfunction getDocumentCookies(request) {\n  if (typeof document === \"undefined\" || typeof location === \"undefined\") {\n    return {};\n  }\n  switch (request.credentials) {\n    case \"same-origin\": {\n      const requestUrl = new URL(request.url);\n      return location.origin === requestUrl.origin ? getAllDocumentCookies() : {};\n    }\n    case \"include\": {\n      return getAllDocumentCookies();\n    }\n    default: {\n      return {};\n    }\n  }\n}\nfunction getAllRequestCookies(request) {\n  const requestCookieHeader = request.headers.get(\"cookie\");\n  const cookiesFromHeaders = requestCookieHeader ? parseCookies(requestCookieHeader) : {};\n  const cookiesFromDocument = getDocumentCookies(request);\n  for (const name in cookiesFromDocument) {\n    request.headers.append(\n      \"cookie\",\n      _bundled_es_modules_cookie__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serialize(name, cookiesFromDocument[name])\n    );\n  }\n  const cookiesFromStore = _cookieStore_mjs__WEBPACK_IMPORTED_MODULE_1__.cookieStore.getCookies(request.url);\n  const storedCookiesObject = Object.fromEntries(\n    cookiesFromStore.map((cookie) => [cookie.key, cookie.value])\n  );\n  for (const cookie of cookiesFromStore) {\n    request.headers.append(\"cookie\", cookie.toString());\n  }\n  return {\n    ...cookiesFromDocument,\n    ...storedCookiesObject,\n    ...cookiesFromHeaders\n  };\n}\n\n//# sourceMappingURL=getRequestCookies.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3JlcXVlc3QvZ2V0UmVxdWVzdENvb2tpZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUNKO0FBQ2pEO0FBQ0Esd0JBQXdCLGtFQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtFQUFXO0FBQ2pCO0FBQ0E7QUFDQSwyQkFBMkIseURBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9yZXF1ZXN0L2dldFJlcXVlc3RDb29raWVzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29va2llVXRpbHMgZnJvbSBcIkBidW5kbGVkLWVzLW1vZHVsZXMvY29va2llXCI7XG5pbXBvcnQgeyBjb29raWVTdG9yZSB9IGZyb20gJy4uL2Nvb2tpZVN0b3JlLm1qcyc7XG5mdW5jdGlvbiBwYXJzZUNvb2tpZXMoaW5wdXQpIHtcbiAgY29uc3QgcGFyc2VkQ29va2llcyA9IGNvb2tpZVV0aWxzLnBhcnNlKGlucHV0KTtcbiAgY29uc3QgY29va2llcyA9IHt9O1xuICBmb3IgKGNvbnN0IGNvb2tpZU5hbWUgaW4gcGFyc2VkQ29va2llcykge1xuICAgIGlmICh0eXBlb2YgcGFyc2VkQ29va2llc1tjb29raWVOYW1lXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29va2llc1tjb29raWVOYW1lXSA9IHBhcnNlZENvb2tpZXNbY29va2llTmFtZV07XG4gICAgfVxuICB9XG4gIHJldHVybiBjb29raWVzO1xufVxuZnVuY3Rpb24gZ2V0QWxsRG9jdW1lbnRDb29raWVzKCkge1xuICByZXR1cm4gcGFyc2VDb29raWVzKGRvY3VtZW50LmNvb2tpZSk7XG59XG5mdW5jdGlvbiBnZXREb2N1bWVudENvb2tpZXMocmVxdWVzdCkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBzd2l0Y2ggKHJlcXVlc3QuY3JlZGVudGlhbHMpIHtcbiAgICBjYXNlIFwic2FtZS1vcmlnaW5cIjoge1xuICAgICAgY29uc3QgcmVxdWVzdFVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgcmV0dXJuIGxvY2F0aW9uLm9yaWdpbiA9PT0gcmVxdWVzdFVybC5vcmlnaW4gPyBnZXRBbGxEb2N1bWVudENvb2tpZXMoKSA6IHt9O1xuICAgIH1cbiAgICBjYXNlIFwiaW5jbHVkZVwiOiB7XG4gICAgICByZXR1cm4gZ2V0QWxsRG9jdW1lbnRDb29raWVzKCk7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEFsbFJlcXVlc3RDb29raWVzKHJlcXVlc3QpIHtcbiAgY29uc3QgcmVxdWVzdENvb2tpZUhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJjb29raWVcIik7XG4gIGNvbnN0IGNvb2tpZXNGcm9tSGVhZGVycyA9IHJlcXVlc3RDb29raWVIZWFkZXIgPyBwYXJzZUNvb2tpZXMocmVxdWVzdENvb2tpZUhlYWRlcikgOiB7fTtcbiAgY29uc3QgY29va2llc0Zyb21Eb2N1bWVudCA9IGdldERvY3VtZW50Q29va2llcyhyZXF1ZXN0KTtcbiAgZm9yIChjb25zdCBuYW1lIGluIGNvb2tpZXNGcm9tRG9jdW1lbnQpIHtcbiAgICByZXF1ZXN0LmhlYWRlcnMuYXBwZW5kKFxuICAgICAgXCJjb29raWVcIixcbiAgICAgIGNvb2tpZVV0aWxzLnNlcmlhbGl6ZShuYW1lLCBjb29raWVzRnJvbURvY3VtZW50W25hbWVdKVxuICAgICk7XG4gIH1cbiAgY29uc3QgY29va2llc0Zyb21TdG9yZSA9IGNvb2tpZVN0b3JlLmdldENvb2tpZXMocmVxdWVzdC51cmwpO1xuICBjb25zdCBzdG9yZWRDb29raWVzT2JqZWN0ID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIGNvb2tpZXNGcm9tU3RvcmUubWFwKChjb29raWUpID0+IFtjb29raWUua2V5LCBjb29raWUudmFsdWVdKVxuICApO1xuICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBjb29raWVzRnJvbVN0b3JlKSB7XG4gICAgcmVxdWVzdC5oZWFkZXJzLmFwcGVuZChcImNvb2tpZVwiLCBjb29raWUudG9TdHJpbmcoKSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5jb29raWVzRnJvbURvY3VtZW50LFxuICAgIC4uLnN0b3JlZENvb2tpZXNPYmplY3QsXG4gICAgLi4uY29va2llc0Zyb21IZWFkZXJzXG4gIH07XG59XG5leHBvcnQge1xuICBnZXRBbGxSZXF1ZXN0Q29va2llc1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFJlcXVlc3RDb29raWVzLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/request/getRequestCookies.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onUnhandledRequest: () => (/* binding */ onUnhandledRequest)\n/* harmony export */ });\n/* harmony import */ var _toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toPublicUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs\");\n/* harmony import */ var _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/devUtils.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _isCommonAssetRequest_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../isCommonAssetRequest.mjs */ \"(ssr)/./node_modules/msw/lib/core/isCommonAssetRequest.mjs\");\n\n\n\nasync function onUnhandledRequest(request, strategy = \"warn\") {\n  const url = new URL(request.url);\n  const publicUrl = (0,_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(url) + url.search;\n  const requestBody = request.method === \"HEAD\" || request.method === \"GET\" ? null : await request.clone().text();\n  const messageDetails = `\n\n  \\u2022 ${request.method} ${publicUrl}\n\n${requestBody ? `  \\u2022 Request body: ${requestBody}\n\n` : \"\"}`;\n  const unhandledRequestMessage = `intercepted a request without a matching request handler:${messageDetails}If you still wish to intercept this unhandled request, please create a request handler for it.\nRead more: https://mswjs.io/docs/http/intercepting-requests`;\n  function applyStrategy(strategy2) {\n    switch (strategy2) {\n      case \"error\": {\n        _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.error(\"Error: %s\", unhandledRequestMessage);\n        throw new _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.InternalError(\n          _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n            'Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option.'\n          )\n        );\n      }\n      case \"warn\": {\n        _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.warn(\"Warning: %s\", unhandledRequestMessage);\n        break;\n      }\n      case \"bypass\":\n        break;\n      default:\n        throw new _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.InternalError(\n          _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n            'Failed to react to an unhandled request: unknown strategy \"%s\". Please provide one of the supported strategies (\"bypass\", \"warn\", \"error\") or a custom callback function as the value of the \"onUnhandledRequest\" option.',\n            strategy2\n          )\n        );\n    }\n  }\n  if (typeof strategy === \"function\") {\n    strategy(request, {\n      warning: applyStrategy.bind(null, \"warn\"),\n      error: applyStrategy.bind(null, \"error\")\n    });\n    return;\n  }\n  if (!(0,_isCommonAssetRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.isCommonAssetRequest)(request)) {\n    applyStrategy(strategy);\n  }\n}\n\n//# sourceMappingURL=onUnhandledRequest.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3JlcXVlc3Qvb25VbmhhbmRsZWRSZXF1ZXN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEO0FBQ21CO0FBQ0c7QUFDdEU7QUFDQTtBQUNBLG9CQUFvQiw2REFBVztBQUMvQjtBQUNBOztBQUVBLFdBQVcsZ0JBQWdCLEVBQUU7O0FBRTdCLEVBQUUsd0NBQXdDOztBQUUxQyxPQUFPO0FBQ1AsOEZBQThGLGVBQWU7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFRO0FBQ2hCLGtCQUFrQixpRUFBYTtBQUMvQixVQUFVLDREQUFRO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsaUVBQWE7QUFDL0IsVUFBVSw0REFBUTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTywrRUFBb0I7QUFDM0I7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9yZXF1ZXN0L29uVW5oYW5kbGVkUmVxdWVzdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9QdWJsaWNVcmwgfSBmcm9tICcuL3RvUHVibGljVXJsLm1qcyc7XG5pbXBvcnQgeyBJbnRlcm5hbEVycm9yLCBkZXZVdGlscyB9IGZyb20gJy4uL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5pbXBvcnQgeyBpc0NvbW1vbkFzc2V0UmVxdWVzdCB9IGZyb20gJy4uLy4uL2lzQ29tbW9uQXNzZXRSZXF1ZXN0Lm1qcyc7XG5hc3luYyBmdW5jdGlvbiBvblVuaGFuZGxlZFJlcXVlc3QocmVxdWVzdCwgc3RyYXRlZ3kgPSBcIndhcm5cIikge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgY29uc3QgcHVibGljVXJsID0gdG9QdWJsaWNVcmwodXJsKSArIHVybC5zZWFyY2g7XG4gIGNvbnN0IHJlcXVlc3RCb2R5ID0gcmVxdWVzdC5tZXRob2QgPT09IFwiSEVBRFwiIHx8IHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiID8gbnVsbCA6IGF3YWl0IHJlcXVlc3QuY2xvbmUoKS50ZXh0KCk7XG4gIGNvbnN0IG1lc3NhZ2VEZXRhaWxzID0gYFxuXG4gIFxcdTIwMjIgJHtyZXF1ZXN0Lm1ldGhvZH0gJHtwdWJsaWNVcmx9XG5cbiR7cmVxdWVzdEJvZHkgPyBgICBcXHUyMDIyIFJlcXVlc3QgYm9keTogJHtyZXF1ZXN0Qm9keX1cblxuYCA6IFwiXCJ9YDtcbiAgY29uc3QgdW5oYW5kbGVkUmVxdWVzdE1lc3NhZ2UgPSBgaW50ZXJjZXB0ZWQgYSByZXF1ZXN0IHdpdGhvdXQgYSBtYXRjaGluZyByZXF1ZXN0IGhhbmRsZXI6JHttZXNzYWdlRGV0YWlsc31JZiB5b3Ugc3RpbGwgd2lzaCB0byBpbnRlcmNlcHQgdGhpcyB1bmhhbmRsZWQgcmVxdWVzdCwgcGxlYXNlIGNyZWF0ZSBhIHJlcXVlc3QgaGFuZGxlciBmb3IgaXQuXG5SZWFkIG1vcmU6IGh0dHBzOi8vbXN3anMuaW8vZG9jcy9odHRwL2ludGVyY2VwdGluZy1yZXF1ZXN0c2A7XG4gIGZ1bmN0aW9uIGFwcGx5U3RyYXRlZ3koc3RyYXRlZ3kyKSB7XG4gICAgc3dpdGNoIChzdHJhdGVneTIpIHtcbiAgICAgIGNhc2UgXCJlcnJvclwiOiB7XG4gICAgICAgIGRldlV0aWxzLmVycm9yKFwiRXJyb3I6ICVzXCIsIHVuaGFuZGxlZFJlcXVlc3RNZXNzYWdlKTtcbiAgICAgICAgdGhyb3cgbmV3IEludGVybmFsRXJyb3IoXG4gICAgICAgICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgICAgICAgICdDYW5ub3QgYnlwYXNzIGEgcmVxdWVzdCB3aGVuIHVzaW5nIHRoZSBcImVycm9yXCIgc3RyYXRlZ3kgZm9yIHRoZSBcIm9uVW5oYW5kbGVkUmVxdWVzdFwiIG9wdGlvbi4nXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSBcIndhcm5cIjoge1xuICAgICAgICBkZXZVdGlscy53YXJuKFwiV2FybmluZzogJXNcIiwgdW5oYW5kbGVkUmVxdWVzdE1lc3NhZ2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJieXBhc3NcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgSW50ZXJuYWxFcnJvcihcbiAgICAgICAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICAgICAgJ0ZhaWxlZCB0byByZWFjdCB0byBhbiB1bmhhbmRsZWQgcmVxdWVzdDogdW5rbm93biBzdHJhdGVneSBcIiVzXCIuIFBsZWFzZSBwcm92aWRlIG9uZSBvZiB0aGUgc3VwcG9ydGVkIHN0cmF0ZWdpZXMgKFwiYnlwYXNzXCIsIFwid2FyblwiLCBcImVycm9yXCIpIG9yIGEgY3VzdG9tIGNhbGxiYWNrIGZ1bmN0aW9uIGFzIHRoZSB2YWx1ZSBvZiB0aGUgXCJvblVuaGFuZGxlZFJlcXVlc3RcIiBvcHRpb24uJyxcbiAgICAgICAgICAgIHN0cmF0ZWd5MlxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJhdGVneSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgc3RyYXRlZ3kocmVxdWVzdCwge1xuICAgICAgd2FybmluZzogYXBwbHlTdHJhdGVneS5iaW5kKG51bGwsIFwid2FyblwiKSxcbiAgICAgIGVycm9yOiBhcHBseVN0cmF0ZWd5LmJpbmQobnVsbCwgXCJlcnJvclwiKVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWlzQ29tbW9uQXNzZXRSZXF1ZXN0KHJlcXVlc3QpKSB7XG4gICAgYXBwbHlTdHJhdGVneShzdHJhdGVneSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIG9uVW5oYW5kbGVkUmVxdWVzdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9uVW5oYW5kbGVkUmVxdWVzdC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   storeResponseCookies: () => (/* binding */ storeResponseCookies)\n/* harmony export */ });\n/* harmony import */ var _cookieStore_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cookieStore.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/cookieStore.mjs\");\n/* harmony import */ var _HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../HttpResponse/decorators.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs\");\n\n\nasync function storeResponseCookies(request, response) {\n  const responseCookies = Reflect.get(response, _HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.kSetCookie);\n  if (responseCookies) {\n    await _cookieStore_mjs__WEBPACK_IMPORTED_MODULE_1__.cookieStore.setCookie(responseCookies, request.url);\n  }\n}\n\n//# sourceMappingURL=storeResponseCookies.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3JlcXVlc3Qvc3RvcmVSZXNwb25zZUNvb2tpZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDtBQUNXO0FBQzVEO0FBQ0EsZ0RBQWdELG9FQUFVO0FBQzFEO0FBQ0EsVUFBVSx5REFBVztBQUNyQjtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9yZXF1ZXN0L3N0b3JlUmVzcG9uc2VDb29raWVzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb29raWVTdG9yZSB9IGZyb20gJy4uL2Nvb2tpZVN0b3JlLm1qcyc7XG5pbXBvcnQgeyBrU2V0Q29va2llIH0gZnJvbSAnLi4vSHR0cFJlc3BvbnNlL2RlY29yYXRvcnMubWpzJztcbmFzeW5jIGZ1bmN0aW9uIHN0b3JlUmVzcG9uc2VDb29raWVzKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHJlc3BvbnNlQ29va2llcyA9IFJlZmxlY3QuZ2V0KHJlc3BvbnNlLCBrU2V0Q29va2llKTtcbiAgaWYgKHJlc3BvbnNlQ29va2llcykge1xuICAgIGF3YWl0IGNvb2tpZVN0b3JlLnNldENvb2tpZShyZXNwb25zZUNvb2tpZXMsIHJlcXVlc3QudXJsKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgc3RvcmVSZXNwb25zZUNvb2tpZXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZVJlc3BvbnNlQ29va2llcy5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toPublicUrl: () => (/* binding */ toPublicUrl)\n/* harmony export */ });\nfunction toPublicUrl(url) {\n  if (typeof location === \"undefined\") {\n    return url.toString();\n  }\n  const urlInstance = url instanceof URL ? url : new URL(url);\n  return urlInstance.origin === location.origin ? urlInstance.pathname : urlInstance.origin + urlInstance.pathname;\n}\n\n//# sourceMappingURL=toPublicUrl.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3JlcXVlc3QvdG9QdWJsaWNVcmwubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvcmVxdWVzdC90b1B1YmxpY1VybC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdG9QdWJsaWNVcmwodXJsKSB7XG4gIGlmICh0eXBlb2YgbG9jYXRpb24gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gIH1cbiAgY29uc3QgdXJsSW5zdGFuY2UgPSB1cmwgaW5zdGFuY2VvZiBVUkwgPyB1cmwgOiBuZXcgVVJMKHVybCk7XG4gIHJldHVybiB1cmxJbnN0YW5jZS5vcmlnaW4gPT09IGxvY2F0aW9uLm9yaWdpbiA/IHVybEluc3RhbmNlLnBhdGhuYW1lIDogdXJsSW5zdGFuY2Uub3JpZ2luICsgdXJsSW5zdGFuY2UucGF0aG5hbWU7XG59XG5leHBvcnQge1xuICB0b1B1YmxpY1VybFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvUHVibGljVXJsLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/toResponseInit.mjs":
/*!************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/toResponseInit.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toResponseInit: () => (/* binding */ toResponseInit)\n/* harmony export */ });\nfunction toResponseInit(response) {\n  return {\n    status: response.status,\n    statusText: response.statusText,\n    headers: Object.fromEntries(response.headers.entries())\n  };\n}\n\n//# sourceMappingURL=toResponseInit.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3RvUmVzcG9uc2VJbml0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3RvUmVzcG9uc2VJbml0Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0b1Jlc3BvbnNlSW5pdChyZXNwb25zZSkge1xuICByZXR1cm4ge1xuICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogT2JqZWN0LmZyb21FbnRyaWVzKHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKVxuICB9O1xufVxuZXhwb3J0IHtcbiAgdG9SZXNwb25zZUluaXRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1Jlc3BvbnNlSW5pdC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/toResponseInit.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/url/cleanUrl.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/url/cleanUrl.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanUrl: () => (/* binding */ cleanUrl),\n/* harmony export */   getSearchParams: () => (/* binding */ getSearchParams)\n/* harmony export */ });\nconst REDUNDANT_CHARACTERS_EXP = /[\\?|#].*$/g;\nfunction getSearchParams(path) {\n  return new URL(`/${path}`, \"http://localhost\").searchParams;\n}\nfunction cleanUrl(path) {\n  if (path.endsWith(\"?\")) {\n    return path;\n  }\n  return path.replace(REDUNDANT_CHARACTERS_EXP, \"\");\n}\n\n//# sourceMappingURL=cleanUrl.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3VybC9jbGVhblVybC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0EscUJBQXFCLEtBQUs7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3VybC9jbGVhblVybC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUkVEVU5EQU5UX0NIQVJBQ1RFUlNfRVhQID0gL1tcXD98I10uKiQvZztcbmZ1bmN0aW9uIGdldFNlYXJjaFBhcmFtcyhwYXRoKSB7XG4gIHJldHVybiBuZXcgVVJMKGAvJHtwYXRofWAsIFwiaHR0cDovL2xvY2FsaG9zdFwiKS5zZWFyY2hQYXJhbXM7XG59XG5mdW5jdGlvbiBjbGVhblVybChwYXRoKSB7XG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiP1wiKSkge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoUkVEVU5EQU5UX0NIQVJBQ1RFUlNfRVhQLCBcIlwiKTtcbn1cbmV4cG9ydCB7XG4gIGNsZWFuVXJsLFxuICBnZXRTZWFyY2hQYXJhbXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGVhblVybC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/url/cleanUrl.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/url/getAbsoluteUrl.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/url/getAbsoluteUrl.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAbsoluteUrl: () => (/* binding */ getAbsoluteUrl)\n/* harmony export */ });\n/* harmony import */ var _isAbsoluteUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isAbsoluteUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/url/isAbsoluteUrl.mjs\");\n\nfunction getAbsoluteUrl(path, baseUrl) {\n  if ((0,_isAbsoluteUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.isAbsoluteUrl)(path)) {\n    return path;\n  }\n  if (path.startsWith(\"*\")) {\n    return path;\n  }\n  const origin = baseUrl || typeof location !== \"undefined\" && location.href;\n  return origin ? (\n    // Encode and decode the path to preserve escaped characters.\n    decodeURI(new URL(encodeURI(path), origin).href)\n  ) : path;\n}\n\n//# sourceMappingURL=getAbsoluteUrl.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3VybC9nZXRBYnNvbHV0ZVVybC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0Q7QUFDcEQ7QUFDQSxNQUFNLGlFQUFhO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3VybC9nZXRBYnNvbHV0ZVVybC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBYnNvbHV0ZVVybCB9IGZyb20gJy4vaXNBYnNvbHV0ZVVybC5tanMnO1xuZnVuY3Rpb24gZ2V0QWJzb2x1dGVVcmwocGF0aCwgYmFzZVVybCkge1xuICBpZiAoaXNBYnNvbHV0ZVVybChwYXRoKSkge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIGlmIChwYXRoLnN0YXJ0c1dpdGgoXCIqXCIpKSB7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbiAgY29uc3Qgb3JpZ2luID0gYmFzZVVybCB8fCB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24uaHJlZjtcbiAgcmV0dXJuIG9yaWdpbiA/IChcbiAgICAvLyBFbmNvZGUgYW5kIGRlY29kZSB0aGUgcGF0aCB0byBwcmVzZXJ2ZSBlc2NhcGVkIGNoYXJhY3RlcnMuXG4gICAgZGVjb2RlVVJJKG5ldyBVUkwoZW5jb2RlVVJJKHBhdGgpLCBvcmlnaW4pLmhyZWYpXG4gICkgOiBwYXRoO1xufVxuZXhwb3J0IHtcbiAgZ2V0QWJzb2x1dGVVcmxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRBYnNvbHV0ZVVybC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/url/getAbsoluteUrl.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/utils/url/isAbsoluteUrl.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/msw/lib/core/utils/url/isAbsoluteUrl.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAbsoluteUrl: () => (/* binding */ isAbsoluteUrl)\n/* harmony export */ });\nfunction isAbsoluteUrl(url) {\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n}\n\n//# sourceMappingURL=isAbsoluteUrl.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3VybC9pc0Fic29sdXRlVXJsLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL25pa29sYXMvbmlrL2lxdXAvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy91cmwvaXNBYnNvbHV0ZVVybC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNBYnNvbHV0ZVVybCh1cmwpIHtcbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufVxuZXhwb3J0IHtcbiAgaXNBYnNvbHV0ZVVybFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQWJzb2x1dGVVcmwubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/utils/url/isAbsoluteUrl.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleWebSocketEvent: () => (/* binding */ handleWebSocketEvent)\n/* harmony export */ });\n/* harmony import */ var _webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webSocketInterceptor.mjs */ \"(ssr)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs\");\n/* harmony import */ var _utils_request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/request/onUnhandledRequest.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs\");\n/* harmony import */ var _utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/internal/isHandlerKind.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs\");\n\n\n\nfunction handleWebSocketEvent(options) {\n  _webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_0__.webSocketInterceptor.on(\"connection\", async (connection) => {\n    const handlers = options.getHandlers().filter((0,_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_1__.isHandlerKind)(\"EventHandler\"));\n    if (handlers.length > 0) {\n      options?.onMockedConnection(connection);\n      await Promise.all(\n        handlers.map((handler) => {\n          return handler.run(connection);\n        })\n      );\n      return;\n    }\n    const request = new Request(connection.client.url, {\n      headers: {\n        upgrade: \"websocket\",\n        connection: \"upgrade\"\n      }\n    });\n    await (0,_utils_request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.onUnhandledRequest)(\n      request,\n      options.getUnhandledRequestStrategy()\n    ).catch((error) => {\n      const errorEvent = new Event(\"error\");\n      Object.defineProperty(errorEvent, \"cause\", {\n        enumerable: true,\n        configurable: false,\n        value: error\n      });\n      connection.client.socket.dispatchEvent(errorEvent);\n    });\n    options?.onPassthroughConnection(connection);\n    connection.server.connect();\n  });\n}\n\n//# sourceMappingURL=handleWebSocketEvent.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL2hhbmRsZVdlYlNvY2tldEV2ZW50Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtFO0FBR2pCO0FBQ21CO0FBQ3BFO0FBQ0EsRUFBRSwyRUFBb0I7QUFDdEIsa0RBQWtELGdGQUFhO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxVQUFVLHlGQUFrQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL2hhbmRsZVdlYlNvY2tldEV2ZW50Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3ZWJTb2NrZXRJbnRlcmNlcHRvciB9IGZyb20gJy4vd2ViU29ja2V0SW50ZXJjZXB0b3IubWpzJztcbmltcG9ydCB7XG4gIG9uVW5oYW5kbGVkUmVxdWVzdFxufSBmcm9tICcuLi91dGlscy9yZXF1ZXN0L29uVW5oYW5kbGVkUmVxdWVzdC5tanMnO1xuaW1wb3J0IHsgaXNIYW5kbGVyS2luZCB9IGZyb20gJy4uL3V0aWxzL2ludGVybmFsL2lzSGFuZGxlcktpbmQubWpzJztcbmZ1bmN0aW9uIGhhbmRsZVdlYlNvY2tldEV2ZW50KG9wdGlvbnMpIHtcbiAgd2ViU29ja2V0SW50ZXJjZXB0b3Iub24oXCJjb25uZWN0aW9uXCIsIGFzeW5jIChjb25uZWN0aW9uKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBvcHRpb25zLmdldEhhbmRsZXJzKCkuZmlsdGVyKGlzSGFuZGxlcktpbmQoXCJFdmVudEhhbmRsZXJcIikpO1xuICAgIGlmIChoYW5kbGVycy5sZW5ndGggPiAwKSB7XG4gICAgICBvcHRpb25zPy5vbk1vY2tlZENvbm5lY3Rpb24oY29ubmVjdGlvbik7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgaGFuZGxlcnMubWFwKChoYW5kbGVyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZXIucnVuKGNvbm5lY3Rpb24pO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGNvbm5lY3Rpb24uY2xpZW50LnVybCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICB1cGdyYWRlOiBcIndlYnNvY2tldFwiLFxuICAgICAgICBjb25uZWN0aW9uOiBcInVwZ3JhZGVcIlxuICAgICAgfVxuICAgIH0pO1xuICAgIGF3YWl0IG9uVW5oYW5kbGVkUmVxdWVzdChcbiAgICAgIHJlcXVlc3QsXG4gICAgICBvcHRpb25zLmdldFVuaGFuZGxlZFJlcXVlc3RTdHJhdGVneSgpXG4gICAgKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yRXZlbnQgPSBuZXcgRXZlbnQoXCJlcnJvclwiKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvckV2ZW50LCBcImNhdXNlXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGVycm9yXG4gICAgICB9KTtcbiAgICAgIGNvbm5lY3Rpb24uY2xpZW50LnNvY2tldC5kaXNwYXRjaEV2ZW50KGVycm9yRXZlbnQpO1xuICAgIH0pO1xuICAgIG9wdGlvbnM/Lm9uUGFzc3Rocm91Z2hDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xuICAgIGNvbm5lY3Rpb24uc2VydmVyLmNvbm5lY3QoKTtcbiAgfSk7XG59XG5leHBvcnQge1xuICBoYW5kbGVXZWJTb2NrZXRFdmVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhbmRsZVdlYlNvY2tldEV2ZW50Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   attachWebSocketLogger: () => (/* binding */ attachWebSocketLogger),\n/* harmony export */   logConnectionOpen: () => (/* binding */ logConnectionOpen)\n/* harmony export */ });\n/* harmony import */ var _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/internal/devUtils.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/logging/getTimestamp.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/logging/getTimestamp.mjs\");\n/* harmony import */ var _utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/request/toPublicUrl.mjs */ \"(ssr)/./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs\");\n/* harmony import */ var _getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getMessageLength.mjs */ \"(ssr)/./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs\");\n/* harmony import */ var _getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getPublicData.mjs */ \"(ssr)/./node_modules/msw/lib/core/ws/utils/getPublicData.mjs\");\n\n\n\n\n\nconst colors = {\n  system: \"#3b82f6\",\n  outgoing: \"#22c55e\",\n  incoming: \"#ef4444\",\n  mocked: \"#ff6a33\"\n};\nfunction attachWebSocketLogger(connection) {\n  const { client, server } = connection;\n  logConnectionOpen(client);\n  client.addEventListener(\"message\", (event) => {\n    logOutgoingClientMessage(event);\n  });\n  client.addEventListener(\"close\", (event) => {\n    logConnectionClose(event);\n  });\n  client.socket.addEventListener(\"error\", (event) => {\n    logClientError(event);\n  });\n  client.send = new Proxy(client.send, {\n    apply(target, thisArg, args) {\n      const [data] = args;\n      const messageEvent = new MessageEvent(\"message\", { data });\n      Object.defineProperties(messageEvent, {\n        currentTarget: {\n          enumerable: true,\n          writable: false,\n          value: client.socket\n        },\n        target: {\n          enumerable: true,\n          writable: false,\n          value: client.socket\n        }\n      });\n      queueMicrotask(() => {\n        logIncomingMockedClientMessage(messageEvent);\n      });\n      return Reflect.apply(target, thisArg, args);\n    }\n  });\n  server.addEventListener(\n    \"open\",\n    () => {\n      server.addEventListener(\"message\", (event) => {\n        logIncomingServerMessage(event);\n      });\n    },\n    { once: true }\n  );\n  server.send = new Proxy(server.send, {\n    apply(target, thisArg, args) {\n      const [data] = args;\n      const messageEvent = new MessageEvent(\"message\", { data });\n      Object.defineProperties(messageEvent, {\n        currentTarget: {\n          enumerable: true,\n          writable: false,\n          value: server.socket\n        },\n        target: {\n          enumerable: true,\n          writable: false,\n          value: server.socket\n        }\n      });\n      logOutgoingMockedClientMessage(messageEvent);\n      return Reflect.apply(target, thisArg, args);\n    }\n  });\n}\nfunction logConnectionOpen(client) {\n  const publicUrl = (0,_utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(client.url);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(`${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)()} %c\\u25B6%c ${publicUrl}`),\n    `color:${colors.system}`,\n    \"color:inherit\"\n  );\n  console.log(\"Client:\", client.socket);\n  console.groupEnd();\n}\nfunction logConnectionClose(event) {\n  const target = event.target;\n  const publicUrl = (0,_utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(target.url);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\u25A0%c ${publicUrl}`\n    ),\n    `color:${colors.system}`,\n    \"color:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nfunction logClientError(event) {\n  const socket = event.target;\n  const publicUrl = (0,_utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(socket.url);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\xD7%c ${publicUrl}`\n    ),\n    `color:${colors.system}`,\n    \"color:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logOutgoingClientMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  const arrow = event.defaultPrevented ? \"\\u21E1\" : \"\\u2B06\";\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c${arrow}%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.outgoing}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logOutgoingMockedClientMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\u2B06%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.mocked}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logIncomingMockedClientMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\u2B07%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.mocked}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logIncomingServerMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  const arrow = event.defaultPrevented ? \"\\u21E3\" : \"\\u2B07\";\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c${arrow}%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.incoming}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\n\n//# sourceMappingURL=attachWebSocketLogger.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL2F0dGFjaFdlYlNvY2tldExvZ2dlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2RDtBQUNPO0FBQ0Y7QUFDUjtBQUNOO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxpQkFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsTUFBTTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxNQUFNO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG9CQUFvQiwyRUFBVztBQUMvQjtBQUNBLElBQUksa0VBQVEsa0JBQWtCLDZFQUFZLElBQUksYUFBYSxVQUFVO0FBQ3JFLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyRUFBVztBQUMvQjtBQUNBLElBQUksa0VBQVE7QUFDWixTQUFTLDZFQUFZLEdBQUcsb0JBQW9CLEdBQUcsYUFBYSxVQUFVO0FBQ3RFO0FBQ0EsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJFQUFXO0FBQy9CO0FBQ0EsSUFBSSxrRUFBUTtBQUNaLFNBQVMsNkVBQVksR0FBRyxvQkFBb0IsR0FBRyxXQUFXLFVBQVU7QUFDcEU7QUFDQSxhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVFQUFnQjtBQUNyQywyQkFBMkIsaUVBQWE7QUFDeEM7QUFDQTtBQUNBLElBQUksa0VBQVE7QUFDWixTQUFTLDZFQUFZLEdBQUcsb0JBQW9CLEdBQUcsSUFBSSxNQUFNLEtBQUssWUFBWSxJQUFJLFdBQVc7QUFDekY7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBLGdCQUFnQjtBQUNoQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1RUFBZ0I7QUFDckMsMkJBQTJCLGlFQUFhO0FBQ3hDO0FBQ0EsSUFBSSxrRUFBUTtBQUNaLFNBQVMsNkVBQVksR0FBRyxvQkFBb0IsR0FBRyxhQUFhLFlBQVksSUFBSSxXQUFXO0FBQ3ZGO0FBQ0EsYUFBYSxjQUFjO0FBQzNCO0FBQ0EsZ0JBQWdCO0FBQ2hCLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVFQUFnQjtBQUNyQywyQkFBMkIsaUVBQWE7QUFDeEM7QUFDQSxJQUFJLGtFQUFRO0FBQ1osU0FBUyw2RUFBWSxHQUFHLG9CQUFvQixHQUFHLGFBQWEsWUFBWSxJQUFJLFdBQVc7QUFDdkY7QUFDQSxhQUFhLGNBQWM7QUFDM0I7QUFDQSxnQkFBZ0I7QUFDaEIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUVBQWdCO0FBQ3JDLDJCQUEyQixpRUFBYTtBQUN4QztBQUNBO0FBQ0EsSUFBSSxrRUFBUTtBQUNaLFNBQVMsNkVBQVksR0FBRyxvQkFBb0IsR0FBRyxJQUFJLE1BQU0sS0FBSyxZQUFZLElBQUksV0FBVztBQUN6RjtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0EsZ0JBQWdCO0FBQ2hCLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvdXRpbHMvYXR0YWNoV2ViU29ja2V0TG9nZ2VyLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXZVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5pbXBvcnQgeyBnZXRUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi91dGlscy9sb2dnaW5nL2dldFRpbWVzdGFtcC5tanMnO1xuaW1wb3J0IHsgdG9QdWJsaWNVcmwgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0L3RvUHVibGljVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRNZXNzYWdlTGVuZ3RoIH0gZnJvbSAnLi9nZXRNZXNzYWdlTGVuZ3RoLm1qcyc7XG5pbXBvcnQgeyBnZXRQdWJsaWNEYXRhIH0gZnJvbSAnLi9nZXRQdWJsaWNEYXRhLm1qcyc7XG5jb25zdCBjb2xvcnMgPSB7XG4gIHN5c3RlbTogXCIjM2I4MmY2XCIsXG4gIG91dGdvaW5nOiBcIiMyMmM1NWVcIixcbiAgaW5jb21pbmc6IFwiI2VmNDQ0NFwiLFxuICBtb2NrZWQ6IFwiI2ZmNmEzM1wiXG59O1xuZnVuY3Rpb24gYXR0YWNoV2ViU29ja2V0TG9nZ2VyKGNvbm5lY3Rpb24pIHtcbiAgY29uc3QgeyBjbGllbnQsIHNlcnZlciB9ID0gY29ubmVjdGlvbjtcbiAgbG9nQ29ubmVjdGlvbk9wZW4oY2xpZW50KTtcbiAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgIGxvZ091dGdvaW5nQ2xpZW50TWVzc2FnZShldmVudCk7XG4gIH0pO1xuICBjbGllbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIChldmVudCkgPT4ge1xuICAgIGxvZ0Nvbm5lY3Rpb25DbG9zZShldmVudCk7XG4gIH0pO1xuICBjbGllbnQuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZXZlbnQpID0+IHtcbiAgICBsb2dDbGllbnRFcnJvcihldmVudCk7XG4gIH0pO1xuICBjbGllbnQuc2VuZCA9IG5ldyBQcm94eShjbGllbnQuc2VuZCwge1xuICAgIGFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncykge1xuICAgICAgY29uc3QgW2RhdGFdID0gYXJncztcbiAgICAgIGNvbnN0IG1lc3NhZ2VFdmVudCA9IG5ldyBNZXNzYWdlRXZlbnQoXCJtZXNzYWdlXCIsIHsgZGF0YSB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1lc3NhZ2VFdmVudCwge1xuICAgICAgICBjdXJyZW50VGFyZ2V0OiB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IGNsaWVudC5zb2NrZXRcbiAgICAgICAgfSxcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgdmFsdWU6IGNsaWVudC5zb2NrZXRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgIGxvZ0luY29taW5nTW9ja2VkQ2xpZW50TWVzc2FnZShtZXNzYWdlRXZlbnQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG4gIHNlcnZlci5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwib3BlblwiLFxuICAgICgpID0+IHtcbiAgICAgIHNlcnZlci5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgbG9nSW5jb21pbmdTZXJ2ZXJNZXNzYWdlKGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgeyBvbmNlOiB0cnVlIH1cbiAgKTtcbiAgc2VydmVyLnNlbmQgPSBuZXcgUHJveHkoc2VydmVyLnNlbmQsIHtcbiAgICBhcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICAgIGNvbnN0IFtkYXRhXSA9IGFyZ3M7XG4gICAgICBjb25zdCBtZXNzYWdlRXZlbnQgPSBuZXcgTWVzc2FnZUV2ZW50KFwibWVzc2FnZVwiLCB7IGRhdGEgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhtZXNzYWdlRXZlbnQsIHtcbiAgICAgICAgY3VycmVudFRhcmdldDoge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBzZXJ2ZXIuc29ja2V0XG4gICAgICAgIH0sXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBzZXJ2ZXIuc29ja2V0XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbG9nT3V0Z29pbmdNb2NrZWRDbGllbnRNZXNzYWdlKG1lc3NhZ2VFdmVudCk7XG4gICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBsb2dDb25uZWN0aW9uT3BlbihjbGllbnQpIHtcbiAgY29uc3QgcHVibGljVXJsID0gdG9QdWJsaWNVcmwoY2xpZW50LnVybCk7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShgJHtnZXRUaW1lc3RhbXAoKX0gJWNcXHUyNUI2JWMgJHtwdWJsaWNVcmx9YCksXG4gICAgYGNvbG9yOiR7Y29sb3JzLnN5c3RlbX1gLFxuICAgIFwiY29sb3I6aW5oZXJpdFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKFwiQ2xpZW50OlwiLCBjbGllbnQuc29ja2V0KTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuZnVuY3Rpb24gbG9nQ29ubmVjdGlvbkNsb3NlKGV2ZW50KSB7XG4gIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgY29uc3QgcHVibGljVXJsID0gdG9QdWJsaWNVcmwodGFyZ2V0LnVybCk7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgIGAke2dldFRpbWVzdGFtcCh7IG1pbGxpc2Vjb25kczogdHJ1ZSB9KX0gJWNcXHUyNUEwJWMgJHtwdWJsaWNVcmx9YFxuICAgICksXG4gICAgYGNvbG9yOiR7Y29sb3JzLnN5c3RlbX1gLFxuICAgIFwiY29sb3I6aW5oZXJpdFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuZnVuY3Rpb24gbG9nQ2xpZW50RXJyb3IoZXZlbnQpIHtcbiAgY29uc3Qgc29ja2V0ID0gZXZlbnQudGFyZ2V0O1xuICBjb25zdCBwdWJsaWNVcmwgPSB0b1B1YmxpY1VybChzb2NrZXQudXJsKTtcbiAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgYCR7Z2V0VGltZXN0YW1wKHsgbWlsbGlzZWNvbmRzOiB0cnVlIH0pfSAlY1xceEQ3JWMgJHtwdWJsaWNVcmx9YFxuICAgICksXG4gICAgYGNvbG9yOiR7Y29sb3JzLnN5c3RlbX1gLFxuICAgIFwiY29sb3I6aW5oZXJpdFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuYXN5bmMgZnVuY3Rpb24gbG9nT3V0Z29pbmdDbGllbnRNZXNzYWdlKGV2ZW50KSB7XG4gIGNvbnN0IGJ5dGVMZW5ndGggPSBnZXRNZXNzYWdlTGVuZ3RoKGV2ZW50LmRhdGEpO1xuICBjb25zdCBwdWJsaWNEYXRhID0gYXdhaXQgZ2V0UHVibGljRGF0YShldmVudC5kYXRhKTtcbiAgY29uc3QgYXJyb3cgPSBldmVudC5kZWZhdWx0UHJldmVudGVkID8gXCJcXHUyMUUxXCIgOiBcIlxcdTJCMDZcIjtcbiAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgYCR7Z2V0VGltZXN0YW1wKHsgbWlsbGlzZWNvbmRzOiB0cnVlIH0pfSAlYyR7YXJyb3d9JWMgJHtwdWJsaWNEYXRhfSAlYyR7Ynl0ZUxlbmd0aH0lY2BcbiAgICApLFxuICAgIGBjb2xvcjoke2NvbG9ycy5vdXRnb2luZ31gLFxuICAgIFwiY29sb3I6aW5oZXJpdFwiLFxuICAgIFwiY29sb3I6Z3JheTtmb250LXdlaWdodDpub3JtYWxcIixcbiAgICBcImNvbG9yOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuYXN5bmMgZnVuY3Rpb24gbG9nT3V0Z29pbmdNb2NrZWRDbGllbnRNZXNzYWdlKGV2ZW50KSB7XG4gIGNvbnN0IGJ5dGVMZW5ndGggPSBnZXRNZXNzYWdlTGVuZ3RoKGV2ZW50LmRhdGEpO1xuICBjb25zdCBwdWJsaWNEYXRhID0gYXdhaXQgZ2V0UHVibGljRGF0YShldmVudC5kYXRhKTtcbiAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgYCR7Z2V0VGltZXN0YW1wKHsgbWlsbGlzZWNvbmRzOiB0cnVlIH0pfSAlY1xcdTJCMDYlYyAke3B1YmxpY0RhdGF9ICVjJHtieXRlTGVuZ3RofSVjYFxuICAgICksXG4gICAgYGNvbG9yOiR7Y29sb3JzLm1vY2tlZH1gLFxuICAgIFwiY29sb3I6aW5oZXJpdFwiLFxuICAgIFwiY29sb3I6Z3JheTtmb250LXdlaWdodDpub3JtYWxcIixcbiAgICBcImNvbG9yOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuYXN5bmMgZnVuY3Rpb24gbG9nSW5jb21pbmdNb2NrZWRDbGllbnRNZXNzYWdlKGV2ZW50KSB7XG4gIGNvbnN0IGJ5dGVMZW5ndGggPSBnZXRNZXNzYWdlTGVuZ3RoKGV2ZW50LmRhdGEpO1xuICBjb25zdCBwdWJsaWNEYXRhID0gYXdhaXQgZ2V0UHVibGljRGF0YShldmVudC5kYXRhKTtcbiAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgYCR7Z2V0VGltZXN0YW1wKHsgbWlsbGlzZWNvbmRzOiB0cnVlIH0pfSAlY1xcdTJCMDclYyAke3B1YmxpY0RhdGF9ICVjJHtieXRlTGVuZ3RofSVjYFxuICAgICksXG4gICAgYGNvbG9yOiR7Y29sb3JzLm1vY2tlZH1gLFxuICAgIFwiY29sb3I6aW5oZXJpdFwiLFxuICAgIFwiY29sb3I6Z3JheTtmb250LXdlaWdodDpub3JtYWxcIixcbiAgICBcImNvbG9yOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuYXN5bmMgZnVuY3Rpb24gbG9nSW5jb21pbmdTZXJ2ZXJNZXNzYWdlKGV2ZW50KSB7XG4gIGNvbnN0IGJ5dGVMZW5ndGggPSBnZXRNZXNzYWdlTGVuZ3RoKGV2ZW50LmRhdGEpO1xuICBjb25zdCBwdWJsaWNEYXRhID0gYXdhaXQgZ2V0UHVibGljRGF0YShldmVudC5kYXRhKTtcbiAgY29uc3QgYXJyb3cgPSBldmVudC5kZWZhdWx0UHJldmVudGVkID8gXCJcXHUyMUUzXCIgOiBcIlxcdTJCMDdcIjtcbiAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgYCR7Z2V0VGltZXN0YW1wKHsgbWlsbGlzZWNvbmRzOiB0cnVlIH0pfSAlYyR7YXJyb3d9JWMgJHtwdWJsaWNEYXRhfSAlYyR7Ynl0ZUxlbmd0aH0lY2BcbiAgICApLFxuICAgIGBjb2xvcjoke2NvbG9ycy5pbmNvbWluZ31gLFxuICAgIFwiY29sb3I6aW5oZXJpdFwiLFxuICAgIFwiY29sb3I6Z3JheTtmb250LXdlaWdodDpub3JtYWxcIixcbiAgICBcImNvbG9yOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdFwiXG4gICk7XG4gIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgY29uc29sZS5ncm91cEVuZCgpO1xufVxuZXhwb3J0IHtcbiAgYXR0YWNoV2ViU29ja2V0TG9nZ2VyLFxuICBsb2dDb25uZWN0aW9uT3BlblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF0dGFjaFdlYlNvY2tldExvZ2dlci5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMessageLength: () => (/* binding */ getMessageLength)\n/* harmony export */ });\nfunction getMessageLength(data) {\n  if (data instanceof Blob) {\n    return data.size;\n  }\n  if (data instanceof ArrayBuffer) {\n    return data.byteLength;\n  }\n  return new Blob([data]).size;\n}\n\n//# sourceMappingURL=getMessageLength.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL2dldE1lc3NhZ2VMZW5ndGgubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvbmlrb2xhcy9uaWsvaXF1cC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL2dldE1lc3NhZ2VMZW5ndGgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldE1lc3NhZ2VMZW5ndGgoZGF0YSkge1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICByZXR1cm4gZGF0YS5zaXplO1xuICB9XG4gIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZGF0YS5ieXRlTGVuZ3RoO1xuICB9XG4gIHJldHVybiBuZXcgQmxvYihbZGF0YV0pLnNpemU7XG59XG5leHBvcnQge1xuICBnZXRNZXNzYWdlTGVuZ3RoXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TWVzc2FnZUxlbmd0aC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/ws/utils/getPublicData.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/msw/lib/core/ws/utils/getPublicData.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPublicData: () => (/* binding */ getPublicData)\n/* harmony export */ });\n/* harmony import */ var _truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./truncateMessage.mjs */ \"(ssr)/./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs\");\n\nasync function getPublicData(data) {\n  if (data instanceof Blob) {\n    const text = await data.text();\n    return `Blob(${(0,_truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__.truncateMessage)(text)})`;\n  }\n  if (typeof data === \"object\" && \"byteLength\" in data) {\n    const text = new TextDecoder().decode(data);\n    return `ArrayBuffer(${(0,_truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__.truncateMessage)(text)})`;\n  }\n  return (0,_truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__.truncateMessage)(data);\n}\n\n//# sourceMappingURL=getPublicData.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL2dldFB1YmxpY0RhdGEubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxRUFBZSxPQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixxRUFBZSxPQUFPO0FBQ2hEO0FBQ0EsU0FBUyxxRUFBZTtBQUN4QjtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvdXRpbHMvZ2V0UHVibGljRGF0YS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHJ1bmNhdGVNZXNzYWdlIH0gZnJvbSAnLi90cnVuY2F0ZU1lc3NhZ2UubWpzJztcbmFzeW5jIGZ1bmN0aW9uIGdldFB1YmxpY0RhdGEoZGF0YSkge1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgZGF0YS50ZXh0KCk7XG4gICAgcmV0dXJuIGBCbG9iKCR7dHJ1bmNhdGVNZXNzYWdlKHRleHQpfSlgO1xuICB9XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImJ5dGVMZW5ndGhcIiBpbiBkYXRhKSB7XG4gICAgY29uc3QgdGV4dCA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShkYXRhKTtcbiAgICByZXR1cm4gYEFycmF5QnVmZmVyKCR7dHJ1bmNhdGVNZXNzYWdlKHRleHQpfSlgO1xuICB9XG4gIHJldHVybiB0cnVuY2F0ZU1lc3NhZ2UoZGF0YSk7XG59XG5leHBvcnQge1xuICBnZXRQdWJsaWNEYXRhXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0UHVibGljRGF0YS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/ws/utils/getPublicData.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   truncateMessage: () => (/* binding */ truncateMessage)\n/* harmony export */ });\nconst MAX_LENGTH = 24;\nfunction truncateMessage(message) {\n  if (message.length <= MAX_LENGTH) {\n    return message;\n  }\n  return `${message.slice(0, MAX_LENGTH)}\\u2026`;\n}\n\n//# sourceMappingURL=truncateMessage.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL3RydW5jYXRlTWVzc2FnZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZCQUE2QjtBQUN6QztBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvdXRpbHMvdHJ1bmNhdGVNZXNzYWdlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNQVhfTEVOR1RIID0gMjQ7XG5mdW5jdGlvbiB0cnVuY2F0ZU1lc3NhZ2UobWVzc2FnZSkge1xuICBpZiAobWVzc2FnZS5sZW5ndGggPD0gTUFYX0xFTkdUSCkge1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIHJldHVybiBgJHttZXNzYWdlLnNsaWNlKDAsIE1BWF9MRU5HVEgpfVxcdTIwMjZgO1xufVxuZXhwb3J0IHtcbiAgdHJ1bmNhdGVNZXNzYWdlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJ1bmNhdGVNZXNzYWdlLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webSocketInterceptor: () => (/* binding */ webSocketInterceptor)\n/* harmony export */ });\n/* harmony import */ var _mswjs_interceptors_WebSocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mswjs/interceptors/WebSocket */ \"(ssr)/./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs\");\n\nconst webSocketInterceptor = new _mswjs_interceptors_WebSocket__WEBPACK_IMPORTED_MODULE_0__.WebSocketInterceptor();\n\n//# sourceMappingURL=webSocketInterceptor.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3dlYlNvY2tldEludGVyY2VwdG9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRTtBQUNyRSxpQ0FBaUMsK0VBQW9CO0FBR25EO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3Mvd2ViU29ja2V0SW50ZXJjZXB0b3IubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdlYlNvY2tldEludGVyY2VwdG9yIH0gZnJvbSBcIkBtc3dqcy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0XCI7XG5jb25zdCB3ZWJTb2NrZXRJbnRlcmNlcHRvciA9IG5ldyBXZWJTb2NrZXRJbnRlcmNlcHRvcigpO1xuZXhwb3J0IHtcbiAgd2ViU29ja2V0SW50ZXJjZXB0b3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13ZWJTb2NrZXRJbnRlcmNlcHRvci5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/msw/node_modules/tough-cookie/dist/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/msw/node_modules/tough-cookie/dist/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cookie: () => (/* binding */ Cookie),\n/* harmony export */   CookieJar: () => (/* binding */ CookieJar),\n/* harmony export */   MemoryCookieStore: () => (/* binding */ MemoryCookieStore),\n/* harmony export */   ParameterError: () => (/* binding */ ParameterError),\n/* harmony export */   PrefixSecurityEnum: () => (/* binding */ PrefixSecurityEnum),\n/* harmony export */   Store: () => (/* binding */ Store),\n/* harmony export */   canonicalDomain: () => (/* binding */ canonicalDomain),\n/* harmony export */   cookieCompare: () => (/* binding */ cookieCompare),\n/* harmony export */   defaultPath: () => (/* binding */ defaultPath),\n/* harmony export */   domainMatch: () => (/* binding */ domainMatch),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   fromJSON: () => (/* binding */ fromJSON2),\n/* harmony export */   getPublicSuffix: () => (/* binding */ getPublicSuffix),\n/* harmony export */   parse: () => (/* binding */ parse2),\n/* harmony export */   parseDate: () => (/* binding */ parseDate),\n/* harmony export */   pathMatch: () => (/* binding */ pathMatch),\n/* harmony export */   permuteDomain: () => (/* binding */ permuteDomain),\n/* harmony export */   permutePath: () => (/* binding */ permutePath),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* harmony import */ var tldts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tldts */ \"(ssr)/./node_modules/tldts/dist/es6/index.js\");\n// lib/pathMatch.ts\nfunction pathMatch(reqPath, cookiePath) {\n  if (cookiePath === reqPath) {\n    return true;\n  }\n  const idx = reqPath.indexOf(cookiePath);\n  if (idx === 0) {\n    if (cookiePath[cookiePath.length - 1] === \"/\") {\n      return true;\n    }\n    if (reqPath.startsWith(cookiePath) && reqPath[cookiePath.length] === \"/\") {\n      return true;\n    }\n  }\n  return false;\n}\n\n// lib/getPublicSuffix.ts\n\nvar SPECIAL_USE_DOMAINS = [\"local\", \"example\", \"invalid\", \"localhost\", \"test\"];\nvar SPECIAL_TREATMENT_DOMAINS = [\"localhost\", \"invalid\"];\nvar defaultGetPublicSuffixOptions = {\n  allowSpecialUseDomain: false,\n  ignoreError: false\n};\nfunction getPublicSuffix(domain, options = {}) {\n  options = { ...defaultGetPublicSuffixOptions, ...options };\n  const domainParts = domain.split(\".\");\n  const topLevelDomain = domainParts[domainParts.length - 1];\n  const allowSpecialUseDomain = !!options.allowSpecialUseDomain;\n  const ignoreError = !!options.ignoreError;\n  if (allowSpecialUseDomain && topLevelDomain !== void 0 && SPECIAL_USE_DOMAINS.includes(topLevelDomain)) {\n    if (domainParts.length > 1) {\n      const secondLevelDomain = domainParts[domainParts.length - 2];\n      return `${secondLevelDomain}.${topLevelDomain}`;\n    } else if (SPECIAL_TREATMENT_DOMAINS.includes(topLevelDomain)) {\n      return topLevelDomain;\n    }\n  }\n  if (!ignoreError && topLevelDomain !== void 0 && SPECIAL_USE_DOMAINS.includes(topLevelDomain)) {\n    throw new Error(\n      `Cookie has domain set to the public suffix \"${topLevelDomain}\" which is a special use domain. To allow this, configure your CookieJar with {allowSpecialUseDomain: true, rejectPublicSuffixes: false}.`\n    );\n  }\n  const publicSuffix = (0,tldts__WEBPACK_IMPORTED_MODULE_0__.getDomain)(domain, {\n    allowIcannDomains: true,\n    allowPrivateDomains: true\n  });\n  if (publicSuffix) return publicSuffix;\n}\n\n// lib/permuteDomain.ts\nfunction permuteDomain(domain, allowSpecialUseDomain) {\n  const pubSuf = getPublicSuffix(domain, {\n    allowSpecialUseDomain\n  });\n  if (!pubSuf) {\n    return void 0;\n  }\n  if (pubSuf == domain) {\n    return [domain];\n  }\n  if (domain.slice(-1) == \".\") {\n    domain = domain.slice(0, -1);\n  }\n  const prefix = domain.slice(0, -(pubSuf.length + 1));\n  const parts = prefix.split(\".\").reverse();\n  let cur = pubSuf;\n  const permutations = [cur];\n  while (parts.length) {\n    const part = parts.shift();\n    cur = `${part}.${cur}`;\n    permutations.push(cur);\n  }\n  return permutations;\n}\n\n// lib/store.ts\nvar Store = class {\n  constructor() {\n    this.synchronous = false;\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  findCookie(_domain, _path, _key, _callback) {\n    throw new Error(\"findCookie is not implemented\");\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  findCookies(_domain, _path, _allowSpecialUseDomain = false, _callback) {\n    throw new Error(\"findCookies is not implemented\");\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  putCookie(_cookie, _callback) {\n    throw new Error(\"putCookie is not implemented\");\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  updateCookie(_oldCookie, _newCookie, _callback) {\n    throw new Error(\"updateCookie is not implemented\");\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  removeCookie(_domain, _path, _key, _callback) {\n    throw new Error(\"removeCookie is not implemented\");\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  removeCookies(_domain, _path, _callback) {\n    throw new Error(\"removeCookies is not implemented\");\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  removeAllCookies(_callback) {\n    throw new Error(\"removeAllCookies is not implemented\");\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  getAllCookies(_callback) {\n    throw new Error(\n      \"getAllCookies is not implemented (therefore jar cannot be serialized)\"\n    );\n  }\n};\n\n// lib/utils.ts\nvar objectToString = (obj) => Object.prototype.toString.call(obj);\nvar safeArrayToString = (arr, seenArrays) => {\n  if (typeof arr.join !== \"function\") return objectToString(arr);\n  seenArrays.add(arr);\n  const mapped = arr.map(\n    (val) => val === null || val === void 0 || seenArrays.has(val) ? \"\" : safeToStringImpl(val, seenArrays)\n  );\n  return mapped.join();\n};\nvar safeToStringImpl = (val, seenArrays = /* @__PURE__ */ new WeakSet()) => {\n  if (typeof val !== \"object\" || val === null) {\n    return String(val);\n  } else if (typeof val.toString === \"function\") {\n    return Array.isArray(val) ? (\n      // Arrays have a weird custom toString that we need to replicate\n      safeArrayToString(val, seenArrays)\n    ) : (\n      // eslint-disable-next-line @typescript-eslint/no-base-to-string\n      String(val)\n    );\n  } else {\n    return objectToString(val);\n  }\n};\nvar safeToString = (val) => safeToStringImpl(val);\nfunction createPromiseCallback(cb) {\n  let callback;\n  let resolve;\n  let reject;\n  const promise = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  if (typeof cb === \"function\") {\n    callback = (err, result) => {\n      try {\n        if (err) cb(err);\n        else cb(null, result);\n      } catch (e) {\n        reject(e instanceof Error ? e : new Error());\n      }\n    };\n  } else {\n    callback = (err, result) => {\n      try {\n        if (err) reject(err);\n        else resolve(result);\n      } catch (e) {\n        reject(e instanceof Error ? e : new Error());\n      }\n    };\n  }\n  return {\n    promise,\n    callback,\n    resolve: (value) => {\n      callback(null, value);\n      return promise;\n    },\n    reject: (error) => {\n      callback(error);\n      return promise;\n    }\n  };\n}\nfunction inOperator(k, o) {\n  return k in o;\n}\n\n// lib/memstore.ts\nvar MemoryCookieStore = class extends Store {\n  /**\n   * Create a new {@link MemoryCookieStore}.\n   */\n  constructor() {\n    super();\n    this.synchronous = true;\n    this.idx = /* @__PURE__ */ Object.create(null);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  findCookie(domain, path, key, callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    if (domain == null || path == null || key == null) {\n      return promiseCallback.resolve(void 0);\n    }\n    const result = this.idx[domain]?.[path]?.[key];\n    return promiseCallback.resolve(result);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  findCookies(domain, path, allowSpecialUseDomain = false, callback) {\n    if (typeof allowSpecialUseDomain === \"function\") {\n      callback = allowSpecialUseDomain;\n      allowSpecialUseDomain = true;\n    }\n    const results = [];\n    const promiseCallback = createPromiseCallback(callback);\n    if (!domain) {\n      return promiseCallback.resolve([]);\n    }\n    let pathMatcher;\n    if (!path) {\n      pathMatcher = function matchAll(domainIndex) {\n        for (const curPath in domainIndex) {\n          const pathIndex = domainIndex[curPath];\n          for (const key in pathIndex) {\n            const value = pathIndex[key];\n            if (value) {\n              results.push(value);\n            }\n          }\n        }\n      };\n    } else {\n      pathMatcher = function matchRFC(domainIndex) {\n        for (const cookiePath in domainIndex) {\n          if (pathMatch(path, cookiePath)) {\n            const pathIndex = domainIndex[cookiePath];\n            for (const key in pathIndex) {\n              const value = pathIndex[key];\n              if (value) {\n                results.push(value);\n              }\n            }\n          }\n        }\n      };\n    }\n    const domains = permuteDomain(domain, allowSpecialUseDomain) || [domain];\n    const idx = this.idx;\n    domains.forEach((curDomain) => {\n      const domainIndex = idx[curDomain];\n      if (!domainIndex) {\n        return;\n      }\n      pathMatcher(domainIndex);\n    });\n    return promiseCallback.resolve(results);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  putCookie(cookie, callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    const { domain, path, key } = cookie;\n    if (domain == null || path == null || key == null) {\n      return promiseCallback.resolve(void 0);\n    }\n    const domainEntry = this.idx[domain] ?? /* @__PURE__ */ Object.create(null);\n    this.idx[domain] = domainEntry;\n    const pathEntry = domainEntry[path] ?? /* @__PURE__ */ Object.create(null);\n    domainEntry[path] = pathEntry;\n    pathEntry[key] = cookie;\n    return promiseCallback.resolve(void 0);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  updateCookie(_oldCookie, newCookie, callback) {\n    if (callback) this.putCookie(newCookie, callback);\n    else return this.putCookie(newCookie);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  removeCookie(domain, path, key, callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    delete this.idx[domain]?.[path]?.[key];\n    return promiseCallback.resolve(void 0);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  removeCookies(domain, path, callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    const domainEntry = this.idx[domain];\n    if (domainEntry) {\n      if (path) {\n        delete domainEntry[path];\n      } else {\n        delete this.idx[domain];\n      }\n    }\n    return promiseCallback.resolve(void 0);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  removeAllCookies(callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    this.idx = /* @__PURE__ */ Object.create(null);\n    return promiseCallback.resolve(void 0);\n  }\n  /**\n   * @internal No doc because this is an overload that supports the implementation\n   */\n  getAllCookies(callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    const cookies = [];\n    const idx = this.idx;\n    const domains = Object.keys(idx);\n    domains.forEach((domain) => {\n      const domainEntry = idx[domain] ?? {};\n      const paths = Object.keys(domainEntry);\n      paths.forEach((path) => {\n        const pathEntry = domainEntry[path] ?? {};\n        const keys = Object.keys(pathEntry);\n        keys.forEach((key) => {\n          const keyEntry = pathEntry[key];\n          if (keyEntry != null) {\n            cookies.push(keyEntry);\n          }\n        });\n      });\n    });\n    cookies.sort((a, b) => {\n      return (a.creationIndex || 0) - (b.creationIndex || 0);\n    });\n    return promiseCallback.resolve(cookies);\n  }\n};\n\n// lib/validators.ts\nfunction isNonEmptyString(data) {\n  return isString(data) && data !== \"\";\n}\nfunction isEmptyString(data) {\n  return data === \"\" || data instanceof String && data.toString() === \"\";\n}\nfunction isString(data) {\n  return typeof data === \"string\" || data instanceof String;\n}\nfunction isObject(data) {\n  return objectToString(data) === \"[object Object]\";\n}\nfunction validate(bool, cbOrMessage, message) {\n  if (bool) return;\n  const cb = typeof cbOrMessage === \"function\" ? cbOrMessage : void 0;\n  let options = typeof cbOrMessage === \"function\" ? message : cbOrMessage;\n  if (!isObject(options)) options = \"[object Object]\";\n  const err = new ParameterError(safeToString(options));\n  if (cb) cb(err);\n  else throw err;\n}\nvar ParameterError = class extends Error {\n};\n\n// lib/version.ts\nvar version = \"6.0.0\";\n\n// lib/cookie/constants.ts\nvar PrefixSecurityEnum = {\n  SILENT: \"silent\",\n  STRICT: \"strict\",\n  DISABLED: \"unsafe-disabled\"\n};\nObject.freeze(PrefixSecurityEnum);\nvar IP_V6_REGEX = `\n\\\\[?(?:\n(?:[a-fA-F\\\\d]{1,4}:){7}(?:[a-fA-F\\\\d]{1,4}|:)|\n(?:[a-fA-F\\\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}|:[a-fA-F\\\\d]{1,4}|:)|\n(?:[a-fA-F\\\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}|(?::[a-fA-F\\\\d]{1,4}){1,2}|:)|\n(?:[a-fA-F\\\\d]{1,4}:){4}(?:(?::[a-fA-F\\\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}|(?::[a-fA-F\\\\d]{1,4}){1,3}|:)|\n(?:[a-fA-F\\\\d]{1,4}:){3}(?:(?::[a-fA-F\\\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}|(?::[a-fA-F\\\\d]{1,4}){1,4}|:)|\n(?:[a-fA-F\\\\d]{1,4}:){2}(?:(?::[a-fA-F\\\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}|(?::[a-fA-F\\\\d]{1,4}){1,5}|:)|\n(?:[a-fA-F\\\\d]{1,4}:){1}(?:(?::[a-fA-F\\\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}|(?::[a-fA-F\\\\d]{1,4}){1,6}|:)|\n(?::(?:(?::[a-fA-F\\\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}|(?::[a-fA-F\\\\d]{1,4}){1,7}|:))\n)(?:%[0-9a-zA-Z]{1,})?\\\\]?\n`.replace(/\\s*\\/\\/.*$/gm, \"\").replace(/\\n/g, \"\").trim();\nvar IP_V6_REGEX_OBJECT = new RegExp(`^${IP_V6_REGEX}$`);\nvar IP_V4_REGEX = `(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])`;\nvar IP_V4_REGEX_OBJECT = new RegExp(`^${IP_V4_REGEX}$`);\n\n// lib/cookie/canonicalDomain.ts\nfunction domainToASCII(domain) {\n  return new URL(`http://${domain}`).hostname;\n}\nfunction canonicalDomain(domainName) {\n  if (domainName == null) {\n    return void 0;\n  }\n  let str = domainName.trim().replace(/^\\./, \"\");\n  if (IP_V6_REGEX_OBJECT.test(str)) {\n    if (!str.startsWith(\"[\")) {\n      str = \"[\" + str;\n    }\n    if (!str.endsWith(\"]\")) {\n      str = str + \"]\";\n    }\n    return domainToASCII(str).slice(1, -1);\n  }\n  if (/[^\\u0001-\\u007f]/.test(str)) {\n    return domainToASCII(str);\n  }\n  return str.toLowerCase();\n}\n\n// lib/cookie/formatDate.ts\nfunction formatDate(date) {\n  return date.toUTCString();\n}\n\n// lib/cookie/parseDate.ts\nvar DATE_DELIM = /[\\x09\\x20-\\x2F\\x3B-\\x40\\x5B-\\x60\\x7B-\\x7E]/;\nvar MONTH_TO_NUM = {\n  jan: 0,\n  feb: 1,\n  mar: 2,\n  apr: 3,\n  may: 4,\n  jun: 5,\n  jul: 6,\n  aug: 7,\n  sep: 8,\n  oct: 9,\n  nov: 10,\n  dec: 11\n};\nfunction parseDigits(token, minDigits, maxDigits, trailingOK) {\n  let count = 0;\n  while (count < token.length) {\n    const c = token.charCodeAt(count);\n    if (c <= 47 || c >= 58) {\n      break;\n    }\n    count++;\n  }\n  if (count < minDigits || count > maxDigits) {\n    return;\n  }\n  if (!trailingOK && count != token.length) {\n    return;\n  }\n  return parseInt(token.slice(0, count), 10);\n}\nfunction parseTime(token) {\n  const parts = token.split(\":\");\n  const result = [0, 0, 0];\n  if (parts.length !== 3) {\n    return;\n  }\n  for (let i = 0; i < 3; i++) {\n    const trailingOK = i == 2;\n    const numPart = parts[i];\n    if (numPart === void 0) {\n      return;\n    }\n    const num = parseDigits(numPart, 1, 2, trailingOK);\n    if (num === void 0) {\n      return;\n    }\n    result[i] = num;\n  }\n  return result;\n}\nfunction parseMonth(token) {\n  token = String(token).slice(0, 3).toLowerCase();\n  switch (token) {\n    case \"jan\":\n      return MONTH_TO_NUM.jan;\n    case \"feb\":\n      return MONTH_TO_NUM.feb;\n    case \"mar\":\n      return MONTH_TO_NUM.mar;\n    case \"apr\":\n      return MONTH_TO_NUM.apr;\n    case \"may\":\n      return MONTH_TO_NUM.may;\n    case \"jun\":\n      return MONTH_TO_NUM.jun;\n    case \"jul\":\n      return MONTH_TO_NUM.jul;\n    case \"aug\":\n      return MONTH_TO_NUM.aug;\n    case \"sep\":\n      return MONTH_TO_NUM.sep;\n    case \"oct\":\n      return MONTH_TO_NUM.oct;\n    case \"nov\":\n      return MONTH_TO_NUM.nov;\n    case \"dec\":\n      return MONTH_TO_NUM.dec;\n    default:\n      return;\n  }\n}\nfunction parseDate(cookieDate) {\n  if (!cookieDate) {\n    return;\n  }\n  const tokens = cookieDate.split(DATE_DELIM);\n  let hour;\n  let minute;\n  let second;\n  let dayOfMonth;\n  let month;\n  let year;\n  for (let i = 0; i < tokens.length; i++) {\n    const token = (tokens[i] ?? \"\").trim();\n    if (!token.length) {\n      continue;\n    }\n    if (second === void 0) {\n      const result = parseTime(token);\n      if (result) {\n        hour = result[0];\n        minute = result[1];\n        second = result[2];\n        continue;\n      }\n    }\n    if (dayOfMonth === void 0) {\n      const result = parseDigits(token, 1, 2, true);\n      if (result !== void 0) {\n        dayOfMonth = result;\n        continue;\n      }\n    }\n    if (month === void 0) {\n      const result = parseMonth(token);\n      if (result !== void 0) {\n        month = result;\n        continue;\n      }\n    }\n    if (year === void 0) {\n      const result = parseDigits(token, 2, 4, true);\n      if (result !== void 0) {\n        year = result;\n        if (year >= 70 && year <= 99) {\n          year += 1900;\n        } else if (year >= 0 && year <= 69) {\n          year += 2e3;\n        }\n      }\n    }\n  }\n  if (dayOfMonth === void 0 || month === void 0 || year === void 0 || hour === void 0 || minute === void 0 || second === void 0 || dayOfMonth < 1 || dayOfMonth > 31 || year < 1601 || hour > 23 || minute > 59 || second > 59) {\n    return;\n  }\n  return new Date(Date.UTC(year, month, dayOfMonth, hour, minute, second));\n}\n\n// lib/cookie/cookie.ts\nvar COOKIE_OCTETS = /^[\\x21\\x23-\\x2B\\x2D-\\x3A\\x3C-\\x5B\\x5D-\\x7E]+$/;\nvar PATH_VALUE = /[\\x20-\\x3A\\x3C-\\x7E]+/;\nvar CONTROL_CHARS = /[\\x00-\\x1F]/;\nvar TERMINATORS = [\"\\n\", \"\\r\", \"\\0\"];\nfunction trimTerminator(str) {\n  if (isEmptyString(str)) return str;\n  for (let t = 0; t < TERMINATORS.length; t++) {\n    const terminator = TERMINATORS[t];\n    const terminatorIdx = terminator ? str.indexOf(terminator) : -1;\n    if (terminatorIdx !== -1) {\n      str = str.slice(0, terminatorIdx);\n    }\n  }\n  return str;\n}\nfunction parseCookiePair(cookiePair, looseMode) {\n  cookiePair = trimTerminator(cookiePair);\n  let firstEq = cookiePair.indexOf(\"=\");\n  if (looseMode) {\n    if (firstEq === 0) {\n      cookiePair = cookiePair.substring(1);\n      firstEq = cookiePair.indexOf(\"=\");\n    }\n  } else {\n    if (firstEq <= 0) {\n      return void 0;\n    }\n  }\n  let cookieName, cookieValue;\n  if (firstEq <= 0) {\n    cookieName = \"\";\n    cookieValue = cookiePair.trim();\n  } else {\n    cookieName = cookiePair.slice(0, firstEq).trim();\n    cookieValue = cookiePair.slice(firstEq + 1).trim();\n  }\n  if (CONTROL_CHARS.test(cookieName) || CONTROL_CHARS.test(cookieValue)) {\n    return void 0;\n  }\n  const c = new Cookie();\n  c.key = cookieName;\n  c.value = cookieValue;\n  return c;\n}\nfunction parse(str, options) {\n  if (isEmptyString(str) || !isString(str)) {\n    return void 0;\n  }\n  str = str.trim();\n  const firstSemi = str.indexOf(\";\");\n  const cookiePair = firstSemi === -1 ? str : str.slice(0, firstSemi);\n  const c = parseCookiePair(cookiePair, options?.loose ?? false);\n  if (!c) {\n    return void 0;\n  }\n  if (firstSemi === -1) {\n    return c;\n  }\n  const unparsed = str.slice(firstSemi + 1).trim();\n  if (unparsed.length === 0) {\n    return c;\n  }\n  const cookie_avs = unparsed.split(\";\");\n  while (cookie_avs.length) {\n    const av = (cookie_avs.shift() ?? \"\").trim();\n    if (av.length === 0) {\n      continue;\n    }\n    const av_sep = av.indexOf(\"=\");\n    let av_key, av_value;\n    if (av_sep === -1) {\n      av_key = av;\n      av_value = null;\n    } else {\n      av_key = av.slice(0, av_sep);\n      av_value = av.slice(av_sep + 1);\n    }\n    av_key = av_key.trim().toLowerCase();\n    if (av_value) {\n      av_value = av_value.trim();\n    }\n    switch (av_key) {\n      case \"expires\":\n        if (av_value) {\n          const exp = parseDate(av_value);\n          if (exp) {\n            c.expires = exp;\n          }\n        }\n        break;\n      case \"max-age\":\n        if (av_value) {\n          if (/^-?[0-9]+$/.test(av_value)) {\n            const delta = parseInt(av_value, 10);\n            c.setMaxAge(delta);\n          }\n        }\n        break;\n      case \"domain\":\n        if (av_value) {\n          const domain = av_value.trim().replace(/^\\./, \"\");\n          if (domain) {\n            c.domain = domain.toLowerCase();\n          }\n        }\n        break;\n      case \"path\":\n        c.path = av_value && av_value[0] === \"/\" ? av_value : null;\n        break;\n      case \"secure\":\n        c.secure = true;\n        break;\n      case \"httponly\":\n        c.httpOnly = true;\n        break;\n      case \"samesite\":\n        switch (av_value ? av_value.toLowerCase() : \"\") {\n          case \"strict\":\n            c.sameSite = \"strict\";\n            break;\n          case \"lax\":\n            c.sameSite = \"lax\";\n            break;\n          case \"none\":\n            c.sameSite = \"none\";\n            break;\n          default:\n            c.sameSite = void 0;\n            break;\n        }\n        break;\n      default:\n        c.extensions = c.extensions || [];\n        c.extensions.push(av);\n        break;\n    }\n  }\n  return c;\n}\nfunction fromJSON(str) {\n  if (!str || isEmptyString(str)) {\n    return void 0;\n  }\n  let obj;\n  if (typeof str === \"string\") {\n    try {\n      obj = JSON.parse(str);\n    } catch {\n      return void 0;\n    }\n  } else {\n    obj = str;\n  }\n  const c = new Cookie();\n  Cookie.serializableProperties.forEach((prop) => {\n    if (obj && typeof obj === \"object\" && inOperator(prop, obj)) {\n      const val = obj[prop];\n      if (val === void 0) {\n        return;\n      }\n      if (inOperator(prop, cookieDefaults) && val === cookieDefaults[prop]) {\n        return;\n      }\n      switch (prop) {\n        case \"key\":\n        case \"value\":\n        case \"sameSite\":\n          if (typeof val === \"string\") {\n            c[prop] = val;\n          }\n          break;\n        case \"expires\":\n        case \"creation\":\n        case \"lastAccessed\":\n          if (typeof val === \"number\" || typeof val === \"string\" || val instanceof Date) {\n            c[prop] = obj[prop] == \"Infinity\" ? \"Infinity\" : new Date(val);\n          } else if (val === null) {\n            c[prop] = null;\n          }\n          break;\n        case \"maxAge\":\n          if (typeof val === \"number\" || val === \"Infinity\" || val === \"-Infinity\") {\n            c[prop] = val;\n          }\n          break;\n        case \"domain\":\n        case \"path\":\n          if (typeof val === \"string\" || val === null) {\n            c[prop] = val;\n          }\n          break;\n        case \"secure\":\n        case \"httpOnly\":\n          if (typeof val === \"boolean\") {\n            c[prop] = val;\n          }\n          break;\n        case \"extensions\":\n          if (Array.isArray(val) && val.every((item) => typeof item === \"string\")) {\n            c[prop] = val;\n          }\n          break;\n        case \"hostOnly\":\n        case \"pathIsDefault\":\n          if (typeof val === \"boolean\" || val === null) {\n            c[prop] = val;\n          }\n          break;\n      }\n    }\n  });\n  return c;\n}\nvar cookieDefaults = {\n  // the order in which the RFC has them:\n  key: \"\",\n  value: \"\",\n  expires: \"Infinity\",\n  maxAge: null,\n  domain: null,\n  path: null,\n  secure: false,\n  httpOnly: false,\n  extensions: null,\n  // set by the CookieJar:\n  hostOnly: null,\n  pathIsDefault: null,\n  creation: null,\n  lastAccessed: null,\n  sameSite: void 0\n};\nvar _Cookie = class _Cookie {\n  /**\n   * Create a new Cookie instance.\n   * @public\n   * @param options - The attributes to set on the cookie\n   */\n  constructor(options = {}) {\n    this.key = options.key ?? cookieDefaults.key;\n    this.value = options.value ?? cookieDefaults.value;\n    this.expires = options.expires ?? cookieDefaults.expires;\n    this.maxAge = options.maxAge ?? cookieDefaults.maxAge;\n    this.domain = options.domain ?? cookieDefaults.domain;\n    this.path = options.path ?? cookieDefaults.path;\n    this.secure = options.secure ?? cookieDefaults.secure;\n    this.httpOnly = options.httpOnly ?? cookieDefaults.httpOnly;\n    this.extensions = options.extensions ?? cookieDefaults.extensions;\n    this.creation = options.creation ?? cookieDefaults.creation;\n    this.hostOnly = options.hostOnly ?? cookieDefaults.hostOnly;\n    this.pathIsDefault = options.pathIsDefault ?? cookieDefaults.pathIsDefault;\n    this.lastAccessed = options.lastAccessed ?? cookieDefaults.lastAccessed;\n    this.sameSite = options.sameSite ?? cookieDefaults.sameSite;\n    this.creation = options.creation ?? /* @__PURE__ */ new Date();\n    Object.defineProperty(this, \"creationIndex\", {\n      configurable: false,\n      enumerable: false,\n      // important for assert.deepEqual checks\n      writable: true,\n      value: ++_Cookie.cookiesCreated\n    });\n    this.creationIndex = _Cookie.cookiesCreated;\n  }\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    const now = Date.now();\n    const hostOnly = this.hostOnly != null ? this.hostOnly.toString() : \"?\";\n    const createAge = this.creation && this.creation !== \"Infinity\" ? `${String(now - this.creation.getTime())}ms` : \"?\";\n    const accessAge = this.lastAccessed && this.lastAccessed !== \"Infinity\" ? `${String(now - this.lastAccessed.getTime())}ms` : \"?\";\n    return `Cookie=\"${this.toString()}; hostOnly=${hostOnly}; aAge=${accessAge}; cAge=${createAge}\"`;\n  }\n  /**\n   * For convenience in using `JSON.stringify(cookie)`. Returns a plain-old Object that can be JSON-serialized.\n   *\n   * @remarks\n   * - Any `Date` properties (such as {@link Cookie.expires}, {@link Cookie.creation}, and {@link Cookie.lastAccessed}) are exported in ISO format (`Date.toISOString()`).\n   *\n   *  - Custom Cookie properties are discarded. In tough-cookie 1.x, since there was no {@link Cookie.toJSON} method explicitly defined, all enumerable properties were captured.\n   *      If you want a property to be serialized, add the property name to {@link Cookie.serializableProperties}.\n   */\n  toJSON() {\n    const obj = {};\n    for (const prop of _Cookie.serializableProperties) {\n      const val = this[prop];\n      if (val === cookieDefaults[prop]) {\n        continue;\n      }\n      switch (prop) {\n        case \"key\":\n        case \"value\":\n        case \"sameSite\":\n          if (typeof val === \"string\") {\n            obj[prop] = val;\n          }\n          break;\n        case \"expires\":\n        case \"creation\":\n        case \"lastAccessed\":\n          if (typeof val === \"number\" || typeof val === \"string\" || val instanceof Date) {\n            obj[prop] = val == \"Infinity\" ? \"Infinity\" : new Date(val).toISOString();\n          } else if (val === null) {\n            obj[prop] = null;\n          }\n          break;\n        case \"maxAge\":\n          if (typeof val === \"number\" || val === \"Infinity\" || val === \"-Infinity\") {\n            obj[prop] = val;\n          }\n          break;\n        case \"domain\":\n        case \"path\":\n          if (typeof val === \"string\" || val === null) {\n            obj[prop] = val;\n          }\n          break;\n        case \"secure\":\n        case \"httpOnly\":\n          if (typeof val === \"boolean\") {\n            obj[prop] = val;\n          }\n          break;\n        case \"extensions\":\n          if (Array.isArray(val)) {\n            obj[prop] = val;\n          }\n          break;\n        case \"hostOnly\":\n        case \"pathIsDefault\":\n          if (typeof val === \"boolean\" || val === null) {\n            obj[prop] = val;\n          }\n          break;\n      }\n    }\n    return obj;\n  }\n  /**\n   * Does a deep clone of this cookie, implemented exactly as `Cookie.fromJSON(cookie.toJSON())`.\n   * @public\n   */\n  clone() {\n    return fromJSON(this.toJSON());\n  }\n  /**\n   * Validates cookie attributes for semantic correctness. Useful for \"lint\" checking any `Set-Cookie` headers you generate.\n   * For now, it returns a boolean, but eventually could return a reason string.\n   *\n   * @remarks\n   * Works for a few things, but is by no means comprehensive.\n   *\n   * @beta\n   */\n  validate() {\n    if (!this.value || !COOKIE_OCTETS.test(this.value)) {\n      return false;\n    }\n    if (this.expires != \"Infinity\" && !(this.expires instanceof Date) && !parseDate(this.expires)) {\n      return false;\n    }\n    if (this.maxAge != null && this.maxAge !== \"Infinity\" && (this.maxAge === \"-Infinity\" || this.maxAge <= 0)) {\n      return false;\n    }\n    if (this.path != null && !PATH_VALUE.test(this.path)) {\n      return false;\n    }\n    const cdomain = this.cdomain();\n    if (cdomain) {\n      if (cdomain.match(/\\.$/)) {\n        return false;\n      }\n      const suffix = getPublicSuffix(cdomain);\n      if (suffix == null) {\n        return false;\n      }\n    }\n    return true;\n  }\n  /**\n   * Sets the 'Expires' attribute on a cookie.\n   *\n   * @remarks\n   * When given a `string` value it will be parsed with {@link parseDate}. If the value can't be parsed as a cookie date\n   * then the 'Expires' attribute will be set to `\"Infinity\"`.\n   *\n   * @param exp - the new value for the 'Expires' attribute of the cookie.\n   */\n  setExpires(exp) {\n    if (exp instanceof Date) {\n      this.expires = exp;\n    } else {\n      this.expires = parseDate(exp) || \"Infinity\";\n    }\n  }\n  /**\n   * Sets the 'Max-Age' attribute (in seconds) on a cookie.\n   *\n   * @remarks\n   * Coerces `-Infinity` to `\"-Infinity\"` and `Infinity` to `\"Infinity\"` so it can be serialized to JSON.\n   *\n   * @param age - the new value for the 'Max-Age' attribute (in seconds).\n   */\n  setMaxAge(age) {\n    if (age === Infinity) {\n      this.maxAge = \"Infinity\";\n    } else if (age === -Infinity) {\n      this.maxAge = \"-Infinity\";\n    } else {\n      this.maxAge = age;\n    }\n  }\n  /**\n   * Encodes to a `Cookie` header value (specifically, the {@link Cookie.key} and {@link Cookie.value} properties joined with \"=\").\n   * @public\n   */\n  cookieString() {\n    const val = this.value || \"\";\n    if (this.key) {\n      return `${this.key}=${val}`;\n    }\n    return val;\n  }\n  /**\n   * Encodes to a `Set-Cookie header` value.\n   * @public\n   */\n  toString() {\n    let str = this.cookieString();\n    if (this.expires != \"Infinity\") {\n      if (this.expires instanceof Date) {\n        str += `; Expires=${formatDate(this.expires)}`;\n      }\n    }\n    if (this.maxAge != null && this.maxAge != Infinity) {\n      str += `; Max-Age=${String(this.maxAge)}`;\n    }\n    if (this.domain && !this.hostOnly) {\n      str += `; Domain=${this.domain}`;\n    }\n    if (this.path) {\n      str += `; Path=${this.path}`;\n    }\n    if (this.secure) {\n      str += \"; Secure\";\n    }\n    if (this.httpOnly) {\n      str += \"; HttpOnly\";\n    }\n    if (this.sameSite && this.sameSite !== \"none\") {\n      if (this.sameSite.toLowerCase() === _Cookie.sameSiteCanonical.lax.toLowerCase()) {\n        str += `; SameSite=${_Cookie.sameSiteCanonical.lax}`;\n      } else if (this.sameSite.toLowerCase() === _Cookie.sameSiteCanonical.strict.toLowerCase()) {\n        str += `; SameSite=${_Cookie.sameSiteCanonical.strict}`;\n      } else {\n        str += `; SameSite=${this.sameSite}`;\n      }\n    }\n    if (this.extensions) {\n      this.extensions.forEach((ext) => {\n        str += `; ${ext}`;\n      });\n    }\n    return str;\n  }\n  /**\n   * Computes the TTL relative to now (milliseconds).\n   *\n   * @remarks\n   * - `Infinity` is returned for cookies without an explicit expiry\n   *\n   * - `0` is returned if the cookie is expired.\n   *\n   * - Otherwise a time-to-live in milliseconds is returned.\n   *\n   * @param now - passing an explicit value is mostly used for testing purposes since this defaults to the `Date.now()`\n   * @public\n   */\n  TTL(now = Date.now()) {\n    if (this.maxAge != null && typeof this.maxAge === \"number\") {\n      return this.maxAge <= 0 ? 0 : this.maxAge * 1e3;\n    }\n    const expires = this.expires;\n    if (expires === \"Infinity\") {\n      return Infinity;\n    }\n    return (expires?.getTime() ?? now) - (now || Date.now());\n  }\n  /**\n   * Computes the absolute unix-epoch milliseconds that this cookie expires.\n   *\n   * The \"Max-Age\" attribute takes precedence over \"Expires\" (as per the RFC). The {@link Cookie.lastAccessed} attribute\n   * (or the `now` parameter if given) is used to offset the {@link Cookie.maxAge} attribute.\n   *\n   * If Expires ({@link Cookie.expires}) is set, that's returned.\n   *\n   * @param now - can be used to provide a time offset (instead of {@link Cookie.lastAccessed}) to use when calculating the \"Max-Age\" value\n   */\n  expiryTime(now) {\n    if (this.maxAge != null) {\n      const relativeTo = now || this.lastAccessed || /* @__PURE__ */ new Date();\n      const maxAge = typeof this.maxAge === \"number\" ? this.maxAge : -Infinity;\n      const age = maxAge <= 0 ? -Infinity : maxAge * 1e3;\n      if (relativeTo === \"Infinity\") {\n        return Infinity;\n      }\n      return relativeTo.getTime() + age;\n    }\n    if (this.expires == \"Infinity\") {\n      return Infinity;\n    }\n    return this.expires ? this.expires.getTime() : void 0;\n  }\n  /**\n   * Similar to {@link Cookie.expiryTime}, computes the absolute unix-epoch milliseconds that this cookie expires and returns it as a Date.\n   *\n   * The \"Max-Age\" attribute takes precedence over \"Expires\" (as per the RFC). The {@link Cookie.lastAccessed} attribute\n   * (or the `now` parameter if given) is used to offset the {@link Cookie.maxAge} attribute.\n   *\n   * If Expires ({@link Cookie.expires}) is set, that's returned.\n   *\n   * @param now - can be used to provide a time offset (instead of {@link Cookie.lastAccessed}) to use when calculating the \"Max-Age\" value\n   */\n  expiryDate(now) {\n    const millisec = this.expiryTime(now);\n    if (millisec == Infinity) {\n      return /* @__PURE__ */ new Date(2147483647e3);\n    } else if (millisec == -Infinity) {\n      return /* @__PURE__ */ new Date(0);\n    } else {\n      return millisec == void 0 ? void 0 : new Date(millisec);\n    }\n  }\n  /**\n   * Indicates if the cookie has been persisted to a store or not.\n   * @public\n   */\n  isPersistent() {\n    return this.maxAge != null || this.expires != \"Infinity\";\n  }\n  /**\n   * Calls {@link canonicalDomain} with the {@link Cookie.domain} property.\n   * @public\n   */\n  canonicalizedDomain() {\n    return canonicalDomain(this.domain);\n  }\n  /**\n   * Alias for {@link Cookie.canonicalizedDomain}\n   * @public\n   */\n  cdomain() {\n    return canonicalDomain(this.domain);\n  }\n  /**\n   * Parses a string into a Cookie object.\n   *\n   * @remarks\n   * Note: when parsing a `Cookie` header it must be split by ';' before each Cookie string can be parsed.\n   *\n   * @example\n   * ```\n   * // parse a `Set-Cookie` header\n   * const setCookieHeader = 'a=bcd; Expires=Tue, 18 Oct 2011 07:05:03 GMT'\n   * const cookie = Cookie.parse(setCookieHeader)\n   * cookie.key === 'a'\n   * cookie.value === 'bcd'\n   * cookie.expires === new Date(Date.parse('Tue, 18 Oct 2011 07:05:03 GMT'))\n   * ```\n   *\n   * @example\n   * ```\n   * // parse a `Cookie` header\n   * const cookieHeader = 'name=value; name2=value2; name3=value3'\n   * const cookies = cookieHeader.split(';').map(Cookie.parse)\n   * cookies[0].name === 'name'\n   * cookies[0].value === 'value'\n   * cookies[1].name === 'name2'\n   * cookies[1].value === 'value2'\n   * cookies[2].name === 'name3'\n   * cookies[2].value === 'value3'\n   * ```\n   *\n   * @param str - The `Set-Cookie` header or a Cookie string to parse.\n   * @param options - Configures `strict` or `loose` mode for cookie parsing\n   */\n  static parse(str, options) {\n    return parse(str, options);\n  }\n  /**\n   * Does the reverse of {@link Cookie.toJSON}.\n   *\n   * @remarks\n   * Any Date properties (such as .expires, .creation, and .lastAccessed) are parsed via Date.parse, not tough-cookie's parseDate, since ISO timestamps are being handled at this layer.\n   *\n   * @example\n   * ```\n   * const json = JSON.stringify({\n   *   key: 'alpha',\n   *   value: 'beta',\n   *   domain: 'example.com',\n   *   path: '/foo',\n   *   expires: '2038-01-19T03:14:07.000Z',\n   * })\n   * const cookie = Cookie.fromJSON(json)\n   * cookie.key === 'alpha'\n   * cookie.value === 'beta'\n   * cookie.domain === 'example.com'\n   * cookie.path === '/foo'\n   * cookie.expires === new Date(Date.parse('2038-01-19T03:14:07.000Z'))\n   * ```\n   *\n   * @param str - An unparsed JSON string or a value that has already been parsed as JSON\n   */\n  static fromJSON(str) {\n    return fromJSON(str);\n  }\n};\n_Cookie.cookiesCreated = 0;\n/**\n * @internal\n */\n_Cookie.sameSiteLevel = {\n  strict: 3,\n  lax: 2,\n  none: 1\n};\n/**\n * @internal\n */\n_Cookie.sameSiteCanonical = {\n  strict: \"Strict\",\n  lax: \"Lax\"\n};\n/**\n * Cookie properties that will be serialized when using {@link Cookie.fromJSON} and {@link Cookie.toJSON}.\n * @public\n */\n_Cookie.serializableProperties = [\n  \"key\",\n  \"value\",\n  \"expires\",\n  \"maxAge\",\n  \"domain\",\n  \"path\",\n  \"secure\",\n  \"httpOnly\",\n  \"extensions\",\n  \"hostOnly\",\n  \"pathIsDefault\",\n  \"creation\",\n  \"lastAccessed\",\n  \"sameSite\"\n];\nvar Cookie = _Cookie;\n\n// lib/cookie/cookieCompare.ts\nvar MAX_TIME = 2147483647e3;\nfunction cookieCompare(a, b) {\n  let cmp;\n  const aPathLen = a.path ? a.path.length : 0;\n  const bPathLen = b.path ? b.path.length : 0;\n  cmp = bPathLen - aPathLen;\n  if (cmp !== 0) {\n    return cmp;\n  }\n  const aTime = a.creation && a.creation instanceof Date ? a.creation.getTime() : MAX_TIME;\n  const bTime = b.creation && b.creation instanceof Date ? b.creation.getTime() : MAX_TIME;\n  cmp = aTime - bTime;\n  if (cmp !== 0) {\n    return cmp;\n  }\n  cmp = (a.creationIndex || 0) - (b.creationIndex || 0);\n  return cmp;\n}\n\n// lib/cookie/defaultPath.ts\nfunction defaultPath(path) {\n  if (!path || path.slice(0, 1) !== \"/\") {\n    return \"/\";\n  }\n  if (path === \"/\") {\n    return path;\n  }\n  const rightSlash = path.lastIndexOf(\"/\");\n  if (rightSlash === 0) {\n    return \"/\";\n  }\n  return path.slice(0, rightSlash);\n}\n\n// lib/cookie/domainMatch.ts\nvar IP_REGEX_LOWERCASE = /(?:^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$)|(?:^(?:(?:[a-f\\d]{1,4}:){7}(?:[a-f\\d]{1,4}|:)|(?:[a-f\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-f\\d]{1,4}|:)|(?:[a-f\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-f\\d]{1,4}){1,2}|:)|(?:[a-f\\d]{1,4}:){4}(?:(?::[a-f\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-f\\d]{1,4}){1,3}|:)|(?:[a-f\\d]{1,4}:){3}(?:(?::[a-f\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-f\\d]{1,4}){1,4}|:)|(?:[a-f\\d]{1,4}:){2}(?:(?::[a-f\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-f\\d]{1,4}){1,5}|:)|(?:[a-f\\d]{1,4}:){1}(?:(?::[a-f\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-f\\d]{1,4}){1,6}|:)|(?::(?:(?::[a-f\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-f\\d]{1,4}){1,7}|:)))$)/;\nfunction domainMatch(domain, cookieDomain, canonicalize) {\n  if (domain == null || cookieDomain == null) {\n    return void 0;\n  }\n  let _str;\n  let _domStr;\n  if (canonicalize !== false) {\n    _str = canonicalDomain(domain);\n    _domStr = canonicalDomain(cookieDomain);\n  } else {\n    _str = domain;\n    _domStr = cookieDomain;\n  }\n  if (_str == null || _domStr == null) {\n    return void 0;\n  }\n  if (_str == _domStr) {\n    return true;\n  }\n  const idx = _str.lastIndexOf(_domStr);\n  if (idx <= 0) {\n    return false;\n  }\n  if (_str.length !== _domStr.length + idx) {\n    return false;\n  }\n  if (_str.substring(idx - 1, idx) !== \".\") {\n    return false;\n  }\n  return !IP_REGEX_LOWERCASE.test(_str);\n}\n\n// lib/cookie/secureContext.ts\nfunction isLoopbackV4(address) {\n  const octets = address.split(\".\");\n  return octets.length === 4 && octets[0] !== void 0 && parseInt(octets[0], 10) === 127;\n}\nfunction isLoopbackV6(address) {\n  return address === \"::1\";\n}\nfunction isNormalizedLocalhostTLD(lowerHost) {\n  return lowerHost.endsWith(\".localhost\");\n}\nfunction isLocalHostname(host) {\n  const lowerHost = host.toLowerCase();\n  return lowerHost === \"localhost\" || isNormalizedLocalhostTLD(lowerHost);\n}\nfunction hostNoBrackets(host) {\n  if (host.length >= 2 && host.startsWith(\"[\") && host.endsWith(\"]\")) {\n    return host.substring(1, host.length - 1);\n  }\n  return host;\n}\nfunction isPotentiallyTrustworthy(inputUrl, allowSecureOnLocal = true) {\n  let url;\n  if (typeof inputUrl === \"string\") {\n    try {\n      url = new URL(inputUrl);\n    } catch {\n      return false;\n    }\n  } else {\n    url = inputUrl;\n  }\n  const scheme = url.protocol.replace(\":\", \"\").toLowerCase();\n  const hostname = hostNoBrackets(url.hostname).replace(/\\.+$/, \"\");\n  if (scheme === \"https\" || scheme === \"wss\") {\n    return true;\n  }\n  if (!allowSecureOnLocal) {\n    return false;\n  }\n  if (IP_V4_REGEX_OBJECT.test(hostname)) {\n    return isLoopbackV4(hostname);\n  }\n  if (IP_V6_REGEX_OBJECT.test(hostname)) {\n    return isLoopbackV6(hostname);\n  }\n  return isLocalHostname(hostname);\n}\n\n// lib/cookie/cookieJar.ts\nvar defaultSetCookieOptions = {\n  loose: false,\n  sameSiteContext: void 0,\n  ignoreError: false,\n  http: true\n};\nvar defaultGetCookieOptions = {\n  http: true,\n  expire: true,\n  allPaths: false,\n  sameSiteContext: void 0,\n  sort: void 0\n};\nvar SAME_SITE_CONTEXT_VAL_ERR = 'Invalid sameSiteContext option for getCookies(); expected one of \"strict\", \"lax\", or \"none\"';\nfunction getCookieContext(url) {\n  if (url && typeof url === \"object\" && \"hostname\" in url && typeof url.hostname === \"string\" && \"pathname\" in url && typeof url.pathname === \"string\" && \"protocol\" in url && typeof url.protocol === \"string\") {\n    return {\n      hostname: url.hostname,\n      pathname: url.pathname,\n      protocol: url.protocol\n    };\n  } else if (typeof url === \"string\") {\n    try {\n      return new URL(decodeURI(url));\n    } catch {\n      return new URL(url);\n    }\n  } else {\n    throw new ParameterError(\"`url` argument is not a string or URL.\");\n  }\n}\nfunction checkSameSiteContext(value) {\n  const context = String(value).toLowerCase();\n  if (context === \"none\" || context === \"lax\" || context === \"strict\") {\n    return context;\n  } else {\n    return void 0;\n  }\n}\nfunction isSecurePrefixConditionMet(cookie) {\n  const startsWithSecurePrefix = typeof cookie.key === \"string\" && cookie.key.startsWith(\"__Secure-\");\n  return !startsWithSecurePrefix || cookie.secure;\n}\nfunction isHostPrefixConditionMet(cookie) {\n  const startsWithHostPrefix = typeof cookie.key === \"string\" && cookie.key.startsWith(\"__Host-\");\n  return !startsWithHostPrefix || Boolean(\n    cookie.secure && cookie.hostOnly && cookie.path != null && cookie.path === \"/\"\n  );\n}\nfunction getNormalizedPrefixSecurity(prefixSecurity) {\n  const normalizedPrefixSecurity = prefixSecurity.toLowerCase();\n  switch (normalizedPrefixSecurity) {\n    case PrefixSecurityEnum.STRICT:\n    case PrefixSecurityEnum.SILENT:\n    case PrefixSecurityEnum.DISABLED:\n      return normalizedPrefixSecurity;\n    default:\n      return PrefixSecurityEnum.SILENT;\n  }\n}\nvar CookieJar = class _CookieJar {\n  /**\n   * Creates a new `CookieJar` instance.\n   *\n   * @remarks\n   * - If a custom store is not passed to the constructor, an in-memory store ({@link MemoryCookieStore} will be created and used.\n   * - If a boolean value is passed as the `options` parameter, this is equivalent to passing `{ rejectPublicSuffixes: <value> }`\n   *\n   * @param store - a custom {@link Store} implementation (defaults to {@link MemoryCookieStore})\n   * @param options - configures how cookies are processed by the cookie jar\n   */\n  constructor(store, options) {\n    if (typeof options === \"boolean\") {\n      options = { rejectPublicSuffixes: options };\n    }\n    this.rejectPublicSuffixes = options?.rejectPublicSuffixes ?? true;\n    this.enableLooseMode = options?.looseMode ?? false;\n    this.allowSpecialUseDomain = options?.allowSpecialUseDomain ?? true;\n    this.allowSecureOnLocal = options?.allowSecureOnLocal ?? true;\n    this.prefixSecurity = getNormalizedPrefixSecurity(\n      options?.prefixSecurity ?? \"silent\"\n    );\n    this.store = store ?? new MemoryCookieStore();\n  }\n  callSync(fn) {\n    if (!this.store.synchronous) {\n      throw new Error(\n        \"CookieJar store is not synchronous; use async API instead.\"\n      );\n    }\n    let syncErr = null;\n    let syncResult = void 0;\n    try {\n      fn.call(this, (error, result) => {\n        syncErr = error;\n        syncResult = result;\n      });\n    } catch (err) {\n      syncErr = err;\n    }\n    if (syncErr) throw syncErr;\n    return syncResult;\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  setCookie(cookie, url, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = void 0;\n    }\n    const promiseCallback = createPromiseCallback(callback);\n    const cb = promiseCallback.callback;\n    let context;\n    try {\n      if (typeof url === \"string\") {\n        validate(\n          isNonEmptyString(url),\n          callback,\n          safeToString(options)\n        );\n      }\n      context = getCookieContext(url);\n      if (typeof url === \"function\") {\n        return promiseCallback.reject(new Error(\"No URL was specified\"));\n      }\n      if (typeof options === \"function\") {\n        options = defaultSetCookieOptions;\n      }\n      validate(typeof cb === \"function\", cb);\n      if (!isNonEmptyString(cookie) && !isObject(cookie) && cookie instanceof String && cookie.length == 0) {\n        return promiseCallback.resolve(void 0);\n      }\n    } catch (err) {\n      return promiseCallback.reject(err);\n    }\n    const host = canonicalDomain(context.hostname) ?? null;\n    const loose = options?.loose || this.enableLooseMode;\n    let sameSiteContext = null;\n    if (options?.sameSiteContext) {\n      sameSiteContext = checkSameSiteContext(options.sameSiteContext);\n      if (!sameSiteContext) {\n        return promiseCallback.reject(new Error(SAME_SITE_CONTEXT_VAL_ERR));\n      }\n    }\n    if (typeof cookie === \"string\" || cookie instanceof String) {\n      const parsedCookie = Cookie.parse(cookie.toString(), { loose });\n      if (!parsedCookie) {\n        const err = new Error(\"Cookie failed to parse\");\n        return options?.ignoreError ? promiseCallback.resolve(void 0) : promiseCallback.reject(err);\n      }\n      cookie = parsedCookie;\n    } else if (!(cookie instanceof Cookie)) {\n      const err = new Error(\n        \"First argument to setCookie must be a Cookie object or string\"\n      );\n      return options?.ignoreError ? promiseCallback.resolve(void 0) : promiseCallback.reject(err);\n    }\n    const now = options?.now || /* @__PURE__ */ new Date();\n    if (this.rejectPublicSuffixes && cookie.domain) {\n      try {\n        const cdomain = cookie.cdomain();\n        const suffix = typeof cdomain === \"string\" ? getPublicSuffix(cdomain, {\n          allowSpecialUseDomain: this.allowSpecialUseDomain,\n          ignoreError: options?.ignoreError\n        }) : null;\n        if (suffix == null && !IP_V6_REGEX_OBJECT.test(cookie.domain)) {\n          const err = new Error(\"Cookie has domain set to a public suffix\");\n          return options?.ignoreError ? promiseCallback.resolve(void 0) : promiseCallback.reject(err);\n        }\n      } catch (err) {\n        return options?.ignoreError ? promiseCallback.resolve(void 0) : (\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n          promiseCallback.reject(err)\n        );\n      }\n    }\n    if (cookie.domain) {\n      if (!domainMatch(host ?? void 0, cookie.cdomain() ?? void 0, false)) {\n        const err = new Error(\n          `Cookie not in this host's domain. Cookie:${cookie.cdomain() ?? \"null\"} Request:${host ?? \"null\"}`\n        );\n        return options?.ignoreError ? promiseCallback.resolve(void 0) : promiseCallback.reject(err);\n      }\n      if (cookie.hostOnly == null) {\n        cookie.hostOnly = false;\n      }\n    } else {\n      cookie.hostOnly = true;\n      cookie.domain = host;\n    }\n    if (!cookie.path || cookie.path[0] !== \"/\") {\n      cookie.path = defaultPath(context.pathname);\n      cookie.pathIsDefault = true;\n    }\n    if (options?.http === false && cookie.httpOnly) {\n      const err = new Error(\"Cookie is HttpOnly and this isn't an HTTP API\");\n      return options.ignoreError ? promiseCallback.resolve(void 0) : promiseCallback.reject(err);\n    }\n    if (cookie.sameSite !== \"none\" && cookie.sameSite !== void 0 && sameSiteContext) {\n      if (sameSiteContext === \"none\") {\n        const err = new Error(\n          \"Cookie is SameSite but this is a cross-origin request\"\n        );\n        return options?.ignoreError ? promiseCallback.resolve(void 0) : promiseCallback.reject(err);\n      }\n    }\n    const ignoreErrorForPrefixSecurity = this.prefixSecurity === PrefixSecurityEnum.SILENT;\n    const prefixSecurityDisabled = this.prefixSecurity === PrefixSecurityEnum.DISABLED;\n    if (!prefixSecurityDisabled) {\n      let errorFound = false;\n      let errorMsg;\n      if (!isSecurePrefixConditionMet(cookie)) {\n        errorFound = true;\n        errorMsg = \"Cookie has __Secure prefix but Secure attribute is not set\";\n      } else if (!isHostPrefixConditionMet(cookie)) {\n        errorFound = true;\n        errorMsg = \"Cookie has __Host prefix but either Secure or HostOnly attribute is not set or Path is not '/'\";\n      }\n      if (errorFound) {\n        return options?.ignoreError || ignoreErrorForPrefixSecurity ? promiseCallback.resolve(void 0) : promiseCallback.reject(new Error(errorMsg));\n      }\n    }\n    const store = this.store;\n    if (!store.updateCookie) {\n      store.updateCookie = async function(_oldCookie, newCookie, cb2) {\n        return this.putCookie(newCookie).then(\n          () => cb2?.(null),\n          (error) => cb2?.(error)\n        );\n      };\n    }\n    const withCookie = function withCookie2(err, oldCookie) {\n      if (err) {\n        cb(err);\n        return;\n      }\n      const next = function(err2) {\n        if (err2) {\n          cb(err2);\n        } else if (typeof cookie === \"string\") {\n          cb(null, void 0);\n        } else {\n          cb(null, cookie);\n        }\n      };\n      if (oldCookie) {\n        if (options && \"http\" in options && options.http === false && oldCookie.httpOnly) {\n          err = new Error(\"old Cookie is HttpOnly and this isn't an HTTP API\");\n          if (options.ignoreError) cb(null, void 0);\n          else cb(err);\n          return;\n        }\n        if (cookie instanceof Cookie) {\n          cookie.creation = oldCookie.creation;\n          cookie.creationIndex = oldCookie.creationIndex;\n          cookie.lastAccessed = now;\n          store.updateCookie(oldCookie, cookie, next);\n        }\n      } else {\n        if (cookie instanceof Cookie) {\n          cookie.creation = cookie.lastAccessed = now;\n          store.putCookie(cookie, next);\n        }\n      }\n    };\n    store.findCookie(cookie.domain, cookie.path, cookie.key, withCookie);\n    return promiseCallback.promise;\n  }\n  /**\n   * Synchronously attempt to set the {@link Cookie} in the {@link CookieJar}.\n   *\n   * <strong>Note:</strong> Only works if the configured {@link Store} is also synchronous.\n   *\n   * @remarks\n   * - If successfully persisted, the {@link Cookie} will have updated\n   *     {@link Cookie.creation}, {@link Cookie.lastAccessed} and {@link Cookie.hostOnly}\n   *     properties.\n   *\n   * - As per the RFC, the {@link Cookie.hostOnly} flag is set if there was no `Domain={value}`\n   *     attribute on the cookie string. The {@link Cookie.domain} property is set to the\n   *     fully-qualified hostname of `currentUrl` in this case. Matching this cookie requires an\n   *     exact hostname match (not a {@link domainMatch} as per usual)\n   *\n   * @param cookie - The cookie object or cookie string to store. A string value will be parsed into a cookie using {@link Cookie.parse}.\n   * @param url - The domain to store the cookie with.\n   * @param options - Configuration settings to use when storing the cookie.\n   * @public\n   */\n  setCookieSync(cookie, url, options) {\n    const setCookieFn = options ? this.setCookie.bind(this, cookie, url, options) : this.setCookie.bind(this, cookie, url);\n    return this.callSync(setCookieFn);\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  getCookies(url, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = defaultGetCookieOptions;\n    } else if (options === void 0) {\n      options = defaultGetCookieOptions;\n    }\n    const promiseCallback = createPromiseCallback(callback);\n    const cb = promiseCallback.callback;\n    let context;\n    try {\n      if (typeof url === \"string\") {\n        validate(isNonEmptyString(url), cb, url);\n      }\n      context = getCookieContext(url);\n      validate(\n        isObject(options),\n        cb,\n        safeToString(options)\n      );\n      validate(typeof cb === \"function\", cb);\n    } catch (parameterError) {\n      return promiseCallback.reject(parameterError);\n    }\n    const host = canonicalDomain(context.hostname);\n    const path = context.pathname || \"/\";\n    const potentiallyTrustworthy = isPotentiallyTrustworthy(\n      url,\n      this.allowSecureOnLocal\n    );\n    let sameSiteLevel = 0;\n    if (options.sameSiteContext) {\n      const sameSiteContext = checkSameSiteContext(options.sameSiteContext);\n      if (sameSiteContext == null) {\n        return promiseCallback.reject(new Error(SAME_SITE_CONTEXT_VAL_ERR));\n      }\n      sameSiteLevel = Cookie.sameSiteLevel[sameSiteContext];\n      if (!sameSiteLevel) {\n        return promiseCallback.reject(new Error(SAME_SITE_CONTEXT_VAL_ERR));\n      }\n    }\n    const http = options.http ?? true;\n    const now = Date.now();\n    const expireCheck = options.expire ?? true;\n    const allPaths = options.allPaths ?? false;\n    const store = this.store;\n    function matchingCookie(c) {\n      if (c.hostOnly) {\n        if (c.domain != host) {\n          return false;\n        }\n      } else {\n        if (!domainMatch(host ?? void 0, c.domain ?? void 0, false)) {\n          return false;\n        }\n      }\n      if (!allPaths && typeof c.path === \"string\" && !pathMatch(path, c.path)) {\n        return false;\n      }\n      if (c.secure && !potentiallyTrustworthy) {\n        return false;\n      }\n      if (c.httpOnly && !http) {\n        return false;\n      }\n      if (sameSiteLevel) {\n        let cookieLevel;\n        if (c.sameSite === \"lax\") {\n          cookieLevel = Cookie.sameSiteLevel.lax;\n        } else if (c.sameSite === \"strict\") {\n          cookieLevel = Cookie.sameSiteLevel.strict;\n        } else {\n          cookieLevel = Cookie.sameSiteLevel.none;\n        }\n        if (cookieLevel > sameSiteLevel) {\n          return false;\n        }\n      }\n      const expiryTime = c.expiryTime();\n      if (expireCheck && expiryTime != void 0 && expiryTime <= now) {\n        store.removeCookie(c.domain, c.path, c.key, () => {\n        });\n        return false;\n      }\n      return true;\n    }\n    store.findCookies(\n      host,\n      allPaths ? null : path,\n      this.allowSpecialUseDomain,\n      (err, cookies) => {\n        if (err) {\n          cb(err);\n          return;\n        }\n        if (cookies == null) {\n          cb(null, []);\n          return;\n        }\n        cookies = cookies.filter(matchingCookie);\n        if (\"sort\" in options && options.sort !== false) {\n          cookies = cookies.sort(cookieCompare);\n        }\n        const now2 = /* @__PURE__ */ new Date();\n        for (const cookie of cookies) {\n          cookie.lastAccessed = now2;\n        }\n        cb(null, cookies);\n      }\n    );\n    return promiseCallback.promise;\n  }\n  /**\n   * Synchronously retrieve the list of cookies that can be sent in a Cookie header for the\n   * current URL.\n   *\n   * <strong>Note</strong>: Only works if the configured Store is also synchronous.\n   *\n   * @remarks\n   * - The array of cookies returned will be sorted according to {@link cookieCompare}.\n   *\n   * - The {@link Cookie.lastAccessed} property will be updated on all returned cookies.\n   *\n   * @param url - The domain to store the cookie with.\n   * @param options - Configuration settings to use when retrieving the cookies.\n   */\n  getCookiesSync(url, options) {\n    return this.callSync(this.getCookies.bind(this, url, options)) ?? [];\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  getCookieString(url, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = void 0;\n    }\n    const promiseCallback = createPromiseCallback(callback);\n    const next = function(err, cookies) {\n      if (err) {\n        promiseCallback.callback(err);\n      } else {\n        promiseCallback.callback(\n          null,\n          cookies?.sort(cookieCompare).map((c) => c.cookieString()).join(\"; \")\n        );\n      }\n    };\n    this.getCookies(url, options, next);\n    return promiseCallback.promise;\n  }\n  /**\n   * Synchronous version of `.getCookieString()`. Accepts the same options as `.getCookies()` but returns a string suitable for a\n   * `Cookie` header rather than an Array.\n   *\n   * <strong>Note</strong>: Only works if the configured Store is also synchronous.\n   *\n   * @param url - The domain to store the cookie with.\n   * @param options - Configuration settings to use when retrieving the cookies.\n   */\n  getCookieStringSync(url, options) {\n    return this.callSync(\n      options ? this.getCookieString.bind(this, url, options) : this.getCookieString.bind(this, url)\n    ) ?? \"\";\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  getSetCookieStrings(url, options, callback) {\n    if (typeof options === \"function\") {\n      callback = options;\n      options = void 0;\n    }\n    const promiseCallback = createPromiseCallback(\n      callback\n    );\n    const next = function(err, cookies) {\n      if (err) {\n        promiseCallback.callback(err);\n      } else {\n        promiseCallback.callback(\n          null,\n          cookies?.map((c) => {\n            return c.toString();\n          })\n        );\n      }\n    };\n    this.getCookies(url, options, next);\n    return promiseCallback.promise;\n  }\n  /**\n   * Synchronous version of `.getSetCookieStrings()`. Returns an array of strings suitable for `Set-Cookie` headers.\n   * Accepts the same options as `.getCookies()`.\n   *\n   * <strong>Note</strong>: Only works if the configured Store is also synchronous.\n   *\n   * @param url - The domain to store the cookie with.\n   * @param options - Configuration settings to use when retrieving the cookies.\n   */\n  getSetCookieStringsSync(url, options = {}) {\n    return this.callSync(this.getSetCookieStrings.bind(this, url, options)) ?? [];\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  serialize(callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    let type = this.store.constructor.name;\n    if (isObject(type)) {\n      type = null;\n    }\n    const serialized = {\n      // The version of tough-cookie that serialized this jar. Generally a good\n      // practice since future versions can make data import decisions based on\n      // known past behavior. When/if this matters, use `semver`.\n      version: `tough-cookie@${version}`,\n      // add the store type, to make humans happy:\n      storeType: type,\n      // CookieJar configuration:\n      rejectPublicSuffixes: this.rejectPublicSuffixes,\n      enableLooseMode: this.enableLooseMode,\n      allowSpecialUseDomain: this.allowSpecialUseDomain,\n      prefixSecurity: getNormalizedPrefixSecurity(this.prefixSecurity),\n      // this gets filled from getAllCookies:\n      cookies: []\n    };\n    if (typeof this.store.getAllCookies !== \"function\") {\n      return promiseCallback.reject(\n        new Error(\n          \"store does not support getAllCookies and cannot be serialized\"\n        )\n      );\n    }\n    this.store.getAllCookies((err, cookies) => {\n      if (err) {\n        promiseCallback.callback(err);\n        return;\n      }\n      if (cookies == null) {\n        promiseCallback.callback(null, serialized);\n        return;\n      }\n      serialized.cookies = cookies.map((cookie) => {\n        const serializedCookie = cookie.toJSON();\n        delete serializedCookie.creationIndex;\n        return serializedCookie;\n      });\n      promiseCallback.callback(null, serialized);\n    });\n    return promiseCallback.promise;\n  }\n  /**\n   * Serialize the CookieJar if the underlying store supports `.getAllCookies`.\n   *\n   * <strong>Note</strong>: Only works if the configured Store is also synchronous.\n   */\n  serializeSync() {\n    return this.callSync((callback) => {\n      this.serialize(callback);\n    });\n  }\n  /**\n   * Alias of {@link CookieJar.serializeSync}. Allows the cookie to be serialized\n   * with `JSON.stringify(cookieJar)`.\n   */\n  toJSON() {\n    return this.serializeSync();\n  }\n  /**\n   * Use the class method CookieJar.deserialize instead of calling this directly\n   * @internal\n   */\n  _importCookies(serialized, callback) {\n    let cookies = void 0;\n    if (serialized && typeof serialized === \"object\" && inOperator(\"cookies\", serialized) && Array.isArray(serialized.cookies)) {\n      cookies = serialized.cookies;\n    }\n    if (!cookies) {\n      callback(new Error(\"serialized jar has no cookies array\"), void 0);\n      return;\n    }\n    cookies = cookies.slice();\n    const putNext = (err) => {\n      if (err) {\n        callback(err, void 0);\n        return;\n      }\n      if (Array.isArray(cookies)) {\n        if (!cookies.length) {\n          callback(err, this);\n          return;\n        }\n        let cookie;\n        try {\n          cookie = Cookie.fromJSON(cookies.shift());\n        } catch (e) {\n          callback(e instanceof Error ? e : new Error(), void 0);\n          return;\n        }\n        if (cookie === void 0) {\n          putNext(null);\n          return;\n        }\n        this.store.putCookie(cookie, putNext);\n      }\n    };\n    putNext(null);\n  }\n  /**\n   * @internal\n   */\n  _importCookiesSync(serialized) {\n    this.callSync(this._importCookies.bind(this, serialized));\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  clone(newStore, callback) {\n    if (typeof newStore === \"function\") {\n      callback = newStore;\n      newStore = void 0;\n    }\n    const promiseCallback = createPromiseCallback(callback);\n    const cb = promiseCallback.callback;\n    this.serialize((err, serialized) => {\n      if (err) {\n        return promiseCallback.reject(err);\n      }\n      return _CookieJar.deserialize(serialized ?? \"\", newStore, cb);\n    });\n    return promiseCallback.promise;\n  }\n  /**\n   * @internal\n   */\n  _cloneSync(newStore) {\n    const cloneFn = newStore && typeof newStore !== \"function\" ? this.clone.bind(this, newStore) : this.clone.bind(this);\n    return this.callSync((callback) => {\n      cloneFn(callback);\n    });\n  }\n  /**\n   * Produces a deep clone of this CookieJar. Modifications to the original do\n   * not affect the clone, and vice versa.\n   *\n   * <strong>Note</strong>: Only works if both the configured Store and destination\n   * Store are synchronous.\n   *\n   * @remarks\n   * - When no {@link Store} is provided, a new {@link MemoryCookieStore} will be used.\n   *\n   * - Transferring between store types is supported so long as the source\n   *     implements `.getAllCookies()` and the destination implements `.putCookie()`.\n   *\n   * @param newStore - The target {@link Store} to clone cookies into.\n   */\n  cloneSync(newStore) {\n    if (!newStore) {\n      return this._cloneSync();\n    }\n    if (!newStore.synchronous) {\n      throw new Error(\n        \"CookieJar clone destination store is not synchronous; use async API instead.\"\n      );\n    }\n    return this._cloneSync(newStore);\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  removeAllCookies(callback) {\n    const promiseCallback = createPromiseCallback(callback);\n    const cb = promiseCallback.callback;\n    const store = this.store;\n    if (typeof store.removeAllCookies === \"function\" && store.removeAllCookies !== Store.prototype.removeAllCookies) {\n      store.removeAllCookies(cb);\n      return promiseCallback.promise;\n    }\n    store.getAllCookies((err, cookies) => {\n      if (err) {\n        cb(err);\n        return;\n      }\n      if (!cookies) {\n        cookies = [];\n      }\n      if (cookies.length === 0) {\n        cb(null, void 0);\n        return;\n      }\n      let completedCount = 0;\n      const removeErrors = [];\n      const removeCookieCb = function removeCookieCb2(removeErr) {\n        if (removeErr) {\n          removeErrors.push(removeErr);\n        }\n        completedCount++;\n        if (completedCount === cookies.length) {\n          if (removeErrors[0]) cb(removeErrors[0]);\n          else cb(null, void 0);\n          return;\n        }\n      };\n      cookies.forEach((cookie) => {\n        store.removeCookie(\n          cookie.domain,\n          cookie.path,\n          cookie.key,\n          removeCookieCb\n        );\n      });\n    });\n    return promiseCallback.promise;\n  }\n  /**\n   * Removes all cookies from the CookieJar.\n   *\n   * <strong>Note</strong>: Only works if the configured Store is also synchronous.\n   *\n   * @remarks\n   * - This is a new backwards-compatible feature of tough-cookie version 2.5,\n   *     so not all Stores will implement it efficiently. For Stores that do not\n   *     implement `removeAllCookies`, the fallback is to call `removeCookie` after\n   *     `getAllCookies`.\n   *\n   * - If `getAllCookies` fails or isn't implemented in the Store, an error is returned.\n   *\n   * - If one or more of the `removeCookie` calls fail, only the first error is returned.\n   */\n  removeAllCookiesSync() {\n    this.callSync((callback) => {\n      this.removeAllCookies(callback);\n    });\n  }\n  /**\n   * @internal No doc because this is the overload implementation\n   */\n  static deserialize(strOrObj, store, callback) {\n    if (typeof store === \"function\") {\n      callback = store;\n      store = void 0;\n    }\n    const promiseCallback = createPromiseCallback(callback);\n    let serialized;\n    if (typeof strOrObj === \"string\") {\n      try {\n        serialized = JSON.parse(strOrObj);\n      } catch (e) {\n        return promiseCallback.reject(e instanceof Error ? e : new Error());\n      }\n    } else {\n      serialized = strOrObj;\n    }\n    const readSerializedProperty = (property) => {\n      return serialized && typeof serialized === \"object\" && inOperator(property, serialized) ? serialized[property] : void 0;\n    };\n    const readSerializedBoolean = (property) => {\n      const value = readSerializedProperty(property);\n      return typeof value === \"boolean\" ? value : void 0;\n    };\n    const readSerializedString = (property) => {\n      const value = readSerializedProperty(property);\n      return typeof value === \"string\" ? value : void 0;\n    };\n    const jar = new _CookieJar(store, {\n      rejectPublicSuffixes: readSerializedBoolean(\"rejectPublicSuffixes\"),\n      looseMode: readSerializedBoolean(\"enableLooseMode\"),\n      allowSpecialUseDomain: readSerializedBoolean(\"allowSpecialUseDomain\"),\n      prefixSecurity: getNormalizedPrefixSecurity(\n        readSerializedString(\"prefixSecurity\") ?? \"silent\"\n      )\n    });\n    jar._importCookies(serialized, (err) => {\n      if (err) {\n        promiseCallback.callback(err);\n        return;\n      }\n      promiseCallback.callback(null, jar);\n    });\n    return promiseCallback.promise;\n  }\n  /**\n   * A new CookieJar is created and the serialized {@link Cookie} values are added to\n   * the underlying store. Each {@link Cookie} is added via `store.putCookie(...)` in\n   * the order in which they appear in the serialization.\n   *\n   * <strong>Note</strong>: Only works if the configured Store is also synchronous.\n   *\n   * @remarks\n   * - When no {@link Store} is provided, a new {@link MemoryCookieStore} will be used.\n   *\n   * - As a convenience, if `strOrObj` is a string, it is passed through `JSON.parse` first.\n   *\n   * @param strOrObj - A JSON string or object representing the deserialized cookies.\n   * @param store - The underlying store to persist the deserialized cookies into.\n   */\n  static deserializeSync(strOrObj, store) {\n    const serialized = typeof strOrObj === \"string\" ? JSON.parse(strOrObj) : strOrObj;\n    const readSerializedProperty = (property) => {\n      return serialized && typeof serialized === \"object\" && inOperator(property, serialized) ? serialized[property] : void 0;\n    };\n    const readSerializedBoolean = (property) => {\n      const value = readSerializedProperty(property);\n      return typeof value === \"boolean\" ? value : void 0;\n    };\n    const readSerializedString = (property) => {\n      const value = readSerializedProperty(property);\n      return typeof value === \"string\" ? value : void 0;\n    };\n    const jar = new _CookieJar(store, {\n      rejectPublicSuffixes: readSerializedBoolean(\"rejectPublicSuffixes\"),\n      looseMode: readSerializedBoolean(\"enableLooseMode\"),\n      allowSpecialUseDomain: readSerializedBoolean(\"allowSpecialUseDomain\"),\n      prefixSecurity: getNormalizedPrefixSecurity(\n        readSerializedString(\"prefixSecurity\") ?? \"silent\"\n      )\n    });\n    if (!jar.store.synchronous) {\n      throw new Error(\n        \"CookieJar store is not synchronous; use async API instead.\"\n      );\n    }\n    jar._importCookiesSync(serialized);\n    return jar;\n  }\n  /**\n   * Alias of {@link CookieJar.deserializeSync}.\n   *\n   * @remarks\n   * - When no {@link Store} is provided, a new {@link MemoryCookieStore} will be used.\n   *\n   * - As a convenience, if `strOrObj` is a string, it is passed through `JSON.parse` first.\n   *\n   * @param jsonString - A JSON string or object representing the deserialized cookies.\n   * @param store - The underlying store to persist the deserialized cookies into.\n   */\n  static fromJSON(jsonString, store) {\n    return _CookieJar.deserializeSync(jsonString, store);\n  }\n};\n\n// lib/cookie/permutePath.ts\nfunction permutePath(path) {\n  if (path === \"/\") {\n    return [\"/\"];\n  }\n  const permutations = [path];\n  while (path.length > 1) {\n    const lindex = path.lastIndexOf(\"/\");\n    if (lindex === 0) {\n      break;\n    }\n    path = path.slice(0, lindex);\n    permutations.push(path);\n  }\n  permutations.push(\"/\");\n  return permutations;\n}\n\n// lib/cookie/index.ts\nfunction parse2(str, options) {\n  return Cookie.parse(str, options);\n}\nfunction fromJSON2(str) {\n  return Cookie.fromJSON(str);\n}\n\n/*!\n * Copyright (c) 2015-2020, Salesforce.com, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of Salesforce.com nor the names of its contributors may\n * be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXN3L25vZGVfbW9kdWxlcy90b3VnaC1jb29raWUvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2tDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QyxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCLEdBQUcsZUFBZTtBQUNwRCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxlQUFlLCtFQUErRSx5REFBeUQ7QUFDNU07QUFDQTtBQUNBLHVCQUF1QixnREFBUztBQUNoQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFLLEdBQUcsSUFBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix3QkFBd0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9CQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxJQUFJLEdBQUcsRUFBRSxlQUFlLElBQUk7QUFDM0MsZUFBZSxJQUFJLEdBQUcsRUFBRSwrRkFBK0YsRUFBRSxjQUFjLElBQUk7QUFDM0ksZUFBZSxJQUFJLEdBQUcsRUFBRSxnR0FBZ0csRUFBRSxpQkFBaUIsSUFBSSxFQUFFLElBQUk7QUFDckosZUFBZSxJQUFJLEdBQUcsRUFBRSxtQkFBbUIsSUFBSSxFQUFFLElBQUksNkZBQTZGLEVBQUUsaUJBQWlCLElBQUksRUFBRSxJQUFJO0FBQy9LLGVBQWUsSUFBSSxHQUFHLEVBQUUsbUJBQW1CLElBQUksRUFBRSxJQUFJLDZGQUE2RixFQUFFLGlCQUFpQixJQUFJLEVBQUUsSUFBSTtBQUMvSyxlQUFlLElBQUksR0FBRyxFQUFFLG1CQUFtQixJQUFJLEVBQUUsSUFBSSw2RkFBNkYsRUFBRSxpQkFBaUIsSUFBSSxFQUFFLElBQUk7QUFDL0ssZUFBZSxJQUFJLEdBQUcsRUFBRSxtQkFBbUIsSUFBSSxFQUFFLElBQUksNkZBQTZGLEVBQUUsaUJBQWlCLElBQUksRUFBRSxJQUFJO0FBQy9LLHVCQUF1QixJQUFJLEVBQUUsSUFBSSw2RkFBNkYsRUFBRSxpQkFBaUIsSUFBSSxFQUFFLElBQUk7QUFDM0osaUJBQWlCLEdBQUc7QUFDcEI7QUFDQSx3Q0FBd0MsWUFBWTtBQUNwRCwrRUFBK0UsRUFBRTtBQUNqRix3Q0FBd0MsWUFBWTs7QUFFcEQ7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3QkFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxzQ0FBc0M7QUFDL0csaUZBQWlGLDBDQUEwQztBQUMzSCxzQkFBc0Isa0JBQWtCLFdBQVcsV0FBVyxPQUFPLFlBQVksT0FBTyxVQUFVO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMscUJBQXFCLEdBQUcsc0JBQXNCLE9BQU8sMEJBQTBCO0FBQ3RIO0FBQ0EseUZBQXlGLHFCQUFxQjtBQUM5Ryw2RUFBNkUsb0NBQW9DO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGdCQUFnQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGtCQUFrQixLQUFLLG9CQUFvQjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVMsR0FBRyxJQUFJO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsVUFBVSx5QkFBeUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVUsb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUyxZQUFZO0FBQ3JDO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTyxVQUFVO0FBQ2pDO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsV0FBVyw4QkFBOEI7QUFDM0QsUUFBUTtBQUNSLGtCQUFrQixXQUFXLGlDQUFpQztBQUM5RCxRQUFRO0FBQ1Isa0JBQWtCLFdBQVcsY0FBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixFQUFFLElBQUk7QUFDeEIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsMkJBQTJCO0FBQy9HLDhEQUE4RCxxQkFBcUI7QUFDbkY7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0Esb0VBQW9FLDBCQUEwQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdCQUF3QjtBQUN6QztBQUNBLG9GQUFvRiwyQkFBMkI7QUFDL0csOERBQThELHFCQUFxQjtBQUNuRjtBQUNBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQSxvRUFBb0UsMEJBQTBCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUJBQXVCLFVBQVUscUJBQXFCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGNBQWM7QUFDckQsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvQkFBb0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELHVCQUF1QixLQUFLLG9CQUFvQjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0dBQStHLEVBQUUscUJBQXFCLElBQUksR0FBRyxFQUFFLFdBQVcsSUFBSSxlQUFlLElBQUksR0FBRyxFQUFFLG9GQUFvRixFQUFFLFVBQVUsSUFBSSxlQUFlLElBQUksR0FBRyxFQUFFLHFGQUFxRixFQUFFLGFBQWEsSUFBSSxFQUFFLElBQUksZUFBZSxJQUFJLEdBQUcsRUFBRSxlQUFlLElBQUksRUFBRSxJQUFJLGtGQUFrRixFQUFFLGFBQWEsSUFBSSxFQUFFLElBQUksZUFBZSxJQUFJLEdBQUcsRUFBRSxlQUFlLElBQUksRUFBRSxJQUFJLGtGQUFrRixFQUFFLGFBQWEsSUFBSSxFQUFFLElBQUksZUFBZSxJQUFJLEdBQUcsRUFBRSxlQUFlLElBQUksRUFBRSxJQUFJLGtGQUFrRixFQUFFLGFBQWEsSUFBSSxFQUFFLElBQUksZUFBZSxJQUFJLEdBQUcsRUFBRSxlQUFlLElBQUksRUFBRSxJQUFJLGtGQUFrRixFQUFFLGFBQWEsSUFBSSxFQUFFLElBQUksdUJBQXVCLElBQUksRUFBRSxJQUFJLGtGQUFrRixFQUFFLGFBQWEsSUFBSSxFQUFFLElBQUk7QUFDNXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLHlCQUF5QjtBQUN6RyxpR0FBaUcsK0JBQStCO0FBQ2hJO0FBQ0EsOEJBQThCLGFBQWEsNkJBQTZCLHdCQUF3QjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxPQUFPO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCw0QkFBNEIsVUFBVSxlQUFlO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGNBQWMsUUFBUSxnQkFBZ0I7QUFDN0U7QUFDQSwwREFBMEQsYUFBYTtBQUN2RTtBQUNBO0FBQ0EsdUNBQXVDLGNBQWM7QUFDckQsVUFBVSxzQkFBc0IsR0FBRywyQkFBMkIsS0FBSztBQUNuRTtBQUNBO0FBQ0EsNEJBQTRCLHVCQUF1QixxQ0FBcUMsTUFBTTtBQUM5Riw4Q0FBOEMscUJBQXFCO0FBQ25FO0FBQ0Esc0NBQXNDLG1CQUFtQjtBQUN6RDtBQUNBLHFIQUFxSCxtQkFBbUI7QUFDeEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0Usb0JBQW9CO0FBQ3RGO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxlQUFlLDhCQUE4QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWEsb0JBQW9CLHlCQUF5QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxhQUFhO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxjQUFjO0FBQ2xFLGlDQUFpQyxjQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYSxvQkFBb0IseUJBQXlCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdDQUFnQztBQUMvQztBQUNBO0FBQ0EsZ0JBQWdCLGFBQWEsb0JBQW9CLHlCQUF5QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcUJFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLCtCQUErQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uaWtvbGFzL25pay9pcXVwL25vZGVfbW9kdWxlcy9tc3cvbm9kZV9tb2R1bGVzL3RvdWdoLWNvb2tpZS9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9wYXRoTWF0Y2gudHNcbmZ1bmN0aW9uIHBhdGhNYXRjaChyZXFQYXRoLCBjb29raWVQYXRoKSB7XG4gIGlmIChjb29raWVQYXRoID09PSByZXFQYXRoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgaWR4ID0gcmVxUGF0aC5pbmRleE9mKGNvb2tpZVBhdGgpO1xuICBpZiAoaWR4ID09PSAwKSB7XG4gICAgaWYgKGNvb2tpZVBhdGhbY29va2llUGF0aC5sZW5ndGggLSAxXSA9PT0gXCIvXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocmVxUGF0aC5zdGFydHNXaXRoKGNvb2tpZVBhdGgpICYmIHJlcVBhdGhbY29va2llUGF0aC5sZW5ndGhdID09PSBcIi9cIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gbGliL2dldFB1YmxpY1N1ZmZpeC50c1xuaW1wb3J0IHsgZ2V0RG9tYWluIH0gZnJvbSBcInRsZHRzXCI7XG52YXIgU1BFQ0lBTF9VU0VfRE9NQUlOUyA9IFtcImxvY2FsXCIsIFwiZXhhbXBsZVwiLCBcImludmFsaWRcIiwgXCJsb2NhbGhvc3RcIiwgXCJ0ZXN0XCJdO1xudmFyIFNQRUNJQUxfVFJFQVRNRU5UX0RPTUFJTlMgPSBbXCJsb2NhbGhvc3RcIiwgXCJpbnZhbGlkXCJdO1xudmFyIGRlZmF1bHRHZXRQdWJsaWNTdWZmaXhPcHRpb25zID0ge1xuICBhbGxvd1NwZWNpYWxVc2VEb21haW46IGZhbHNlLFxuICBpZ25vcmVFcnJvcjogZmFsc2Vcbn07XG5mdW5jdGlvbiBnZXRQdWJsaWNTdWZmaXgoZG9tYWluLCBvcHRpb25zID0ge30pIHtcbiAgb3B0aW9ucyA9IHsgLi4uZGVmYXVsdEdldFB1YmxpY1N1ZmZpeE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgY29uc3QgZG9tYWluUGFydHMgPSBkb21haW4uc3BsaXQoXCIuXCIpO1xuICBjb25zdCB0b3BMZXZlbERvbWFpbiA9IGRvbWFpblBhcnRzW2RvbWFpblBhcnRzLmxlbmd0aCAtIDFdO1xuICBjb25zdCBhbGxvd1NwZWNpYWxVc2VEb21haW4gPSAhIW9wdGlvbnMuYWxsb3dTcGVjaWFsVXNlRG9tYWluO1xuICBjb25zdCBpZ25vcmVFcnJvciA9ICEhb3B0aW9ucy5pZ25vcmVFcnJvcjtcbiAgaWYgKGFsbG93U3BlY2lhbFVzZURvbWFpbiAmJiB0b3BMZXZlbERvbWFpbiAhPT0gdm9pZCAwICYmIFNQRUNJQUxfVVNFX0RPTUFJTlMuaW5jbHVkZXModG9wTGV2ZWxEb21haW4pKSB7XG4gICAgaWYgKGRvbWFpblBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IHNlY29uZExldmVsRG9tYWluID0gZG9tYWluUGFydHNbZG9tYWluUGFydHMubGVuZ3RoIC0gMl07XG4gICAgICByZXR1cm4gYCR7c2Vjb25kTGV2ZWxEb21haW59LiR7dG9wTGV2ZWxEb21haW59YDtcbiAgICB9IGVsc2UgaWYgKFNQRUNJQUxfVFJFQVRNRU5UX0RPTUFJTlMuaW5jbHVkZXModG9wTGV2ZWxEb21haW4pKSB7XG4gICAgICByZXR1cm4gdG9wTGV2ZWxEb21haW47XG4gICAgfVxuICB9XG4gIGlmICghaWdub3JlRXJyb3IgJiYgdG9wTGV2ZWxEb21haW4gIT09IHZvaWQgMCAmJiBTUEVDSUFMX1VTRV9ET01BSU5TLmluY2x1ZGVzKHRvcExldmVsRG9tYWluKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDb29raWUgaGFzIGRvbWFpbiBzZXQgdG8gdGhlIHB1YmxpYyBzdWZmaXggXCIke3RvcExldmVsRG9tYWlufVwiIHdoaWNoIGlzIGEgc3BlY2lhbCB1c2UgZG9tYWluLiBUbyBhbGxvdyB0aGlzLCBjb25maWd1cmUgeW91ciBDb29raWVKYXIgd2l0aCB7YWxsb3dTcGVjaWFsVXNlRG9tYWluOiB0cnVlLCByZWplY3RQdWJsaWNTdWZmaXhlczogZmFsc2V9LmBcbiAgICApO1xuICB9XG4gIGNvbnN0IHB1YmxpY1N1ZmZpeCA9IGdldERvbWFpbihkb21haW4sIHtcbiAgICBhbGxvd0ljYW5uRG9tYWluczogdHJ1ZSxcbiAgICBhbGxvd1ByaXZhdGVEb21haW5zOiB0cnVlXG4gIH0pO1xuICBpZiAocHVibGljU3VmZml4KSByZXR1cm4gcHVibGljU3VmZml4O1xufVxuXG4vLyBsaWIvcGVybXV0ZURvbWFpbi50c1xuZnVuY3Rpb24gcGVybXV0ZURvbWFpbihkb21haW4sIGFsbG93U3BlY2lhbFVzZURvbWFpbikge1xuICBjb25zdCBwdWJTdWYgPSBnZXRQdWJsaWNTdWZmaXgoZG9tYWluLCB7XG4gICAgYWxsb3dTcGVjaWFsVXNlRG9tYWluXG4gIH0pO1xuICBpZiAoIXB1YlN1Zikge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgaWYgKHB1YlN1ZiA9PSBkb21haW4pIHtcbiAgICByZXR1cm4gW2RvbWFpbl07XG4gIH1cbiAgaWYgKGRvbWFpbi5zbGljZSgtMSkgPT0gXCIuXCIpIHtcbiAgICBkb21haW4gPSBkb21haW4uc2xpY2UoMCwgLTEpO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IGRvbWFpbi5zbGljZSgwLCAtKHB1YlN1Zi5sZW5ndGggKyAxKSk7XG4gIGNvbnN0IHBhcnRzID0gcHJlZml4LnNwbGl0KFwiLlwiKS5yZXZlcnNlKCk7XG4gIGxldCBjdXIgPSBwdWJTdWY7XG4gIGNvbnN0IHBlcm11dGF0aW9ucyA9IFtjdXJdO1xuICB3aGlsZSAocGFydHMubGVuZ3RoKSB7XG4gICAgY29uc3QgcGFydCA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgY3VyID0gYCR7cGFydH0uJHtjdXJ9YDtcbiAgICBwZXJtdXRhdGlvbnMucHVzaChjdXIpO1xuICB9XG4gIHJldHVybiBwZXJtdXRhdGlvbnM7XG59XG5cbi8vIGxpYi9zdG9yZS50c1xudmFyIFN0b3JlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN5bmNocm9ub3VzID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIGFuIG92ZXJsb2FkIHRoYXQgc3VwcG9ydHMgdGhlIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBmaW5kQ29va2llKF9kb21haW4sIF9wYXRoLCBfa2V5LCBfY2FsbGJhY2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaW5kQ29va2llIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgYW4gb3ZlcmxvYWQgdGhhdCBzdXBwb3J0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGZpbmRDb29raWVzKF9kb21haW4sIF9wYXRoLCBfYWxsb3dTcGVjaWFsVXNlRG9tYWluID0gZmFsc2UsIF9jYWxsYmFjaykge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpbmRDb29raWVzIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgYW4gb3ZlcmxvYWQgdGhhdCBzdXBwb3J0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIHB1dENvb2tpZShfY29va2llLCBfY2FsbGJhY2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwdXRDb29raWUgaXMgbm90IGltcGxlbWVudGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgTm8gZG9jIGJlY2F1c2UgdGhpcyBpcyBhbiBvdmVybG9hZCB0aGF0IHN1cHBvcnRzIHRoZSBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgdXBkYXRlQ29va2llKF9vbGRDb29raWUsIF9uZXdDb29raWUsIF9jYWxsYmFjaykge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVwZGF0ZUNvb2tpZSBpcyBub3QgaW1wbGVtZW50ZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIGFuIG92ZXJsb2FkIHRoYXQgc3VwcG9ydHMgdGhlIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICByZW1vdmVDb29raWUoX2RvbWFpbiwgX3BhdGgsIF9rZXksIF9jYWxsYmFjaykge1xuICAgIHRocm93IG5ldyBFcnJvcihcInJlbW92ZUNvb2tpZSBpcyBub3QgaW1wbGVtZW50ZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIGFuIG92ZXJsb2FkIHRoYXQgc3VwcG9ydHMgdGhlIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICByZW1vdmVDb29raWVzKF9kb21haW4sIF9wYXRoLCBfY2FsbGJhY2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdmVDb29raWVzIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgYW4gb3ZlcmxvYWQgdGhhdCBzdXBwb3J0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIHJlbW92ZUFsbENvb2tpZXMoX2NhbGxiYWNrKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwicmVtb3ZlQWxsQ29va2llcyBpcyBub3QgaW1wbGVtZW50ZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIGFuIG92ZXJsb2FkIHRoYXQgc3VwcG9ydHMgdGhlIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBnZXRBbGxDb29raWVzKF9jYWxsYmFjaykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiZ2V0QWxsQ29va2llcyBpcyBub3QgaW1wbGVtZW50ZWQgKHRoZXJlZm9yZSBqYXIgY2Fubm90IGJlIHNlcmlhbGl6ZWQpXCJcbiAgICApO1xuICB9XG59O1xuXG4vLyBsaWIvdXRpbHMudHNcbnZhciBvYmplY3RUb1N0cmluZyA9IChvYmopID0+IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopO1xudmFyIHNhZmVBcnJheVRvU3RyaW5nID0gKGFyciwgc2VlbkFycmF5cykgPT4ge1xuICBpZiAodHlwZW9mIGFyci5qb2luICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBvYmplY3RUb1N0cmluZyhhcnIpO1xuICBzZWVuQXJyYXlzLmFkZChhcnIpO1xuICBjb25zdCBtYXBwZWQgPSBhcnIubWFwKFxuICAgICh2YWwpID0+IHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHZvaWQgMCB8fCBzZWVuQXJyYXlzLmhhcyh2YWwpID8gXCJcIiA6IHNhZmVUb1N0cmluZ0ltcGwodmFsLCBzZWVuQXJyYXlzKVxuICApO1xuICByZXR1cm4gbWFwcGVkLmpvaW4oKTtcbn07XG52YXIgc2FmZVRvU3RyaW5nSW1wbCA9ICh2YWwsIHNlZW5BcnJheXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbCAhPT0gXCJvYmplY3RcIiB8fCB2YWwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbC50b1N0cmluZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKSA/IChcbiAgICAgIC8vIEFycmF5cyBoYXZlIGEgd2VpcmQgY3VzdG9tIHRvU3RyaW5nIHRoYXQgd2UgbmVlZCB0byByZXBsaWNhdGVcbiAgICAgIHNhZmVBcnJheVRvU3RyaW5nKHZhbCwgc2VlbkFycmF5cylcbiAgICApIDogKFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1iYXNlLXRvLXN0cmluZ1xuICAgICAgU3RyaW5nKHZhbClcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBvYmplY3RUb1N0cmluZyh2YWwpO1xuICB9XG59O1xudmFyIHNhZmVUb1N0cmluZyA9ICh2YWwpID0+IHNhZmVUb1N0cmluZ0ltcGwodmFsKTtcbmZ1bmN0aW9uIGNyZWF0ZVByb21pc2VDYWxsYmFjayhjYikge1xuICBsZXQgY2FsbGJhY2s7XG4gIGxldCByZXNvbHZlO1xuICBsZXQgcmVqZWN0O1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgIHJlamVjdCA9IF9yZWplY3Q7XG4gIH0pO1xuICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjYWxsYmFjayA9IChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGVycikgY2IoZXJyKTtcbiAgICAgICAgZWxzZSBjYihudWxsLCByZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSBpbnN0YW5jZW9mIEVycm9yID8gZSA6IG5ldyBFcnJvcigpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrID0gKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKTtcbiAgICAgICAgZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlIGluc3RhbmNlb2YgRXJyb3IgPyBlIDogbmV3IEVycm9yKCkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIGNhbGxiYWNrLFxuICAgIHJlc29sdmU6ICh2YWx1ZSkgPT4ge1xuICAgICAgY2FsbGJhY2sobnVsbCwgdmFsdWUpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfSxcbiAgICByZWplY3Q6IChlcnJvcikgPT4ge1xuICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gaW5PcGVyYXRvcihrLCBvKSB7XG4gIHJldHVybiBrIGluIG87XG59XG5cbi8vIGxpYi9tZW1zdG9yZS50c1xudmFyIE1lbW9yeUNvb2tpZVN0b3JlID0gY2xhc3MgZXh0ZW5kcyBTdG9yZSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIE1lbW9yeUNvb2tpZVN0b3JlfS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zeW5jaHJvbm91cyA9IHRydWU7XG4gICAgdGhpcy5pZHggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgYW4gb3ZlcmxvYWQgdGhhdCBzdXBwb3J0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGZpbmRDb29raWUoZG9tYWluLCBwYXRoLCBrZXksIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcHJvbWlzZUNhbGxiYWNrID0gY3JlYXRlUHJvbWlzZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICBpZiAoZG9tYWluID09IG51bGwgfHwgcGF0aCA9PSBudWxsIHx8IGtleSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUodm9pZCAwKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5pZHhbZG9tYWluXT8uW3BhdGhdPy5ba2V5XTtcbiAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUocmVzdWx0KTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgYW4gb3ZlcmxvYWQgdGhhdCBzdXBwb3J0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGZpbmRDb29raWVzKGRvbWFpbiwgcGF0aCwgYWxsb3dTcGVjaWFsVXNlRG9tYWluID0gZmFsc2UsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBhbGxvd1NwZWNpYWxVc2VEb21haW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY2FsbGJhY2sgPSBhbGxvd1NwZWNpYWxVc2VEb21haW47XG4gICAgICBhbGxvd1NwZWNpYWxVc2VEb21haW4gPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgY29uc3QgcHJvbWlzZUNhbGxiYWNrID0gY3JlYXRlUHJvbWlzZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICBpZiAoIWRvbWFpbikge1xuICAgICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5yZXNvbHZlKFtdKTtcbiAgICB9XG4gICAgbGV0IHBhdGhNYXRjaGVyO1xuICAgIGlmICghcGF0aCkge1xuICAgICAgcGF0aE1hdGNoZXIgPSBmdW5jdGlvbiBtYXRjaEFsbChkb21haW5JbmRleCkge1xuICAgICAgICBmb3IgKGNvbnN0IGN1clBhdGggaW4gZG9tYWluSW5kZXgpIHtcbiAgICAgICAgICBjb25zdCBwYXRoSW5kZXggPSBkb21haW5JbmRleFtjdXJQYXRoXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXRoSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGF0aEluZGV4W2tleV07XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGhNYXRjaGVyID0gZnVuY3Rpb24gbWF0Y2hSRkMoZG9tYWluSW5kZXgpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb29raWVQYXRoIGluIGRvbWFpbkluZGV4KSB7XG4gICAgICAgICAgaWYgKHBhdGhNYXRjaChwYXRoLCBjb29raWVQYXRoKSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aEluZGV4ID0gZG9tYWluSW5kZXhbY29va2llUGF0aF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXRoSW5kZXgpIHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXRoSW5kZXhba2V5XTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZG9tYWlucyA9IHBlcm11dGVEb21haW4oZG9tYWluLCBhbGxvd1NwZWNpYWxVc2VEb21haW4pIHx8IFtkb21haW5dO1xuICAgIGNvbnN0IGlkeCA9IHRoaXMuaWR4O1xuICAgIGRvbWFpbnMuZm9yRWFjaCgoY3VyRG9tYWluKSA9PiB7XG4gICAgICBjb25zdCBkb21haW5JbmRleCA9IGlkeFtjdXJEb21haW5dO1xuICAgICAgaWYgKCFkb21haW5JbmRleCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXRoTWF0Y2hlcihkb21haW5JbmRleCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5yZXNvbHZlKHJlc3VsdHMpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgTm8gZG9jIGJlY2F1c2UgdGhpcyBpcyBhbiBvdmVybG9hZCB0aGF0IHN1cHBvcnRzIHRoZSBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgcHV0Q29va2llKGNvb2tpZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBwcm9taXNlQ2FsbGJhY2sgPSBjcmVhdGVQcm9taXNlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIGNvbnN0IHsgZG9tYWluLCBwYXRoLCBrZXkgfSA9IGNvb2tpZTtcbiAgICBpZiAoZG9tYWluID09IG51bGwgfHwgcGF0aCA9PSBudWxsIHx8IGtleSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUodm9pZCAwKTtcbiAgICB9XG4gICAgY29uc3QgZG9tYWluRW50cnkgPSB0aGlzLmlkeFtkb21haW5dID8/IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuaWR4W2RvbWFpbl0gPSBkb21haW5FbnRyeTtcbiAgICBjb25zdCBwYXRoRW50cnkgPSBkb21haW5FbnRyeVtwYXRoXSA/PyAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBkb21haW5FbnRyeVtwYXRoXSA9IHBhdGhFbnRyeTtcbiAgICBwYXRoRW50cnlba2V5XSA9IGNvb2tpZTtcbiAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUodm9pZCAwKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgYW4gb3ZlcmxvYWQgdGhhdCBzdXBwb3J0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIHVwZGF0ZUNvb2tpZShfb2xkQ29va2llLCBuZXdDb29raWUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB0aGlzLnB1dENvb2tpZShuZXdDb29raWUsIGNhbGxiYWNrKTtcbiAgICBlbHNlIHJldHVybiB0aGlzLnB1dENvb2tpZShuZXdDb29raWUpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgTm8gZG9jIGJlY2F1c2UgdGhpcyBpcyBhbiBvdmVybG9hZCB0aGF0IHN1cHBvcnRzIHRoZSBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgcmVtb3ZlQ29va2llKGRvbWFpbiwgcGF0aCwga2V5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHByb21pc2VDYWxsYmFjayA9IGNyZWF0ZVByb21pc2VDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgZGVsZXRlIHRoaXMuaWR4W2RvbWFpbl0/LltwYXRoXT8uW2tleV07XG4gICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5yZXNvbHZlKHZvaWQgMCk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIGFuIG92ZXJsb2FkIHRoYXQgc3VwcG9ydHMgdGhlIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICByZW1vdmVDb29raWVzKGRvbWFpbiwgcGF0aCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBwcm9taXNlQ2FsbGJhY2sgPSBjcmVhdGVQcm9taXNlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIGNvbnN0IGRvbWFpbkVudHJ5ID0gdGhpcy5pZHhbZG9tYWluXTtcbiAgICBpZiAoZG9tYWluRW50cnkpIHtcbiAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgIGRlbGV0ZSBkb21haW5FbnRyeVtwYXRoXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmlkeFtkb21haW5dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUodm9pZCAwKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgYW4gb3ZlcmxvYWQgdGhhdCBzdXBwb3J0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIHJlbW92ZUFsbENvb2tpZXMoY2FsbGJhY2spIHtcbiAgICBjb25zdCBwcm9taXNlQ2FsbGJhY2sgPSBjcmVhdGVQcm9taXNlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIHRoaXMuaWR4ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5yZXNvbHZlKHZvaWQgMCk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIGFuIG92ZXJsb2FkIHRoYXQgc3VwcG9ydHMgdGhlIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBnZXRBbGxDb29raWVzKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcHJvbWlzZUNhbGxiYWNrID0gY3JlYXRlUHJvbWlzZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICBjb25zdCBjb29raWVzID0gW107XG4gICAgY29uc3QgaWR4ID0gdGhpcy5pZHg7XG4gICAgY29uc3QgZG9tYWlucyA9IE9iamVjdC5rZXlzKGlkeCk7XG4gICAgZG9tYWlucy5mb3JFYWNoKChkb21haW4pID0+IHtcbiAgICAgIGNvbnN0IGRvbWFpbkVudHJ5ID0gaWR4W2RvbWFpbl0gPz8ge307XG4gICAgICBjb25zdCBwYXRocyA9IE9iamVjdC5rZXlzKGRvbWFpbkVudHJ5KTtcbiAgICAgIHBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICAgICAgY29uc3QgcGF0aEVudHJ5ID0gZG9tYWluRW50cnlbcGF0aF0gPz8ge307XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwYXRoRW50cnkpO1xuICAgICAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGtleUVudHJ5ID0gcGF0aEVudHJ5W2tleV07XG4gICAgICAgICAgaWYgKGtleUVudHJ5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvb2tpZXMucHVzaChrZXlFbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvb2tpZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIChhLmNyZWF0aW9uSW5kZXggfHwgMCkgLSAoYi5jcmVhdGlvbkluZGV4IHx8IDApO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucmVzb2x2ZShjb29raWVzKTtcbiAgfVxufTtcblxuLy8gbGliL3ZhbGlkYXRvcnMudHNcbmZ1bmN0aW9uIGlzTm9uRW1wdHlTdHJpbmcoZGF0YSkge1xuICByZXR1cm4gaXNTdHJpbmcoZGF0YSkgJiYgZGF0YSAhPT0gXCJcIjtcbn1cbmZ1bmN0aW9uIGlzRW1wdHlTdHJpbmcoZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gXCJcIiB8fCBkYXRhIGluc3RhbmNlb2YgU3RyaW5nICYmIGRhdGEudG9TdHJpbmcoKSA9PT0gXCJcIjtcbn1cbmZ1bmN0aW9uIGlzU3RyaW5nKGRhdGEpIHtcbiAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiIHx8IGRhdGEgaW5zdGFuY2VvZiBTdHJpbmc7XG59XG5mdW5jdGlvbiBpc09iamVjdChkYXRhKSB7XG4gIHJldHVybiBvYmplY3RUb1N0cmluZyhkYXRhKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlKGJvb2wsIGNiT3JNZXNzYWdlLCBtZXNzYWdlKSB7XG4gIGlmIChib29sKSByZXR1cm47XG4gIGNvbnN0IGNiID0gdHlwZW9mIGNiT3JNZXNzYWdlID09PSBcImZ1bmN0aW9uXCIgPyBjYk9yTWVzc2FnZSA6IHZvaWQgMDtcbiAgbGV0IG9wdGlvbnMgPSB0eXBlb2YgY2JPck1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIiA/IG1lc3NhZ2UgOiBjYk9yTWVzc2FnZTtcbiAgaWYgKCFpc09iamVjdChvcHRpb25zKSkgb3B0aW9ucyA9IFwiW29iamVjdCBPYmplY3RdXCI7XG4gIGNvbnN0IGVyciA9IG5ldyBQYXJhbWV0ZXJFcnJvcihzYWZlVG9TdHJpbmcob3B0aW9ucykpO1xuICBpZiAoY2IpIGNiKGVycik7XG4gIGVsc2UgdGhyb3cgZXJyO1xufVxudmFyIFBhcmFtZXRlckVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG59O1xuXG4vLyBsaWIvdmVyc2lvbi50c1xudmFyIHZlcnNpb24gPSBcIjYuMC4wXCI7XG5cbi8vIGxpYi9jb29raWUvY29uc3RhbnRzLnRzXG52YXIgUHJlZml4U2VjdXJpdHlFbnVtID0ge1xuICBTSUxFTlQ6IFwic2lsZW50XCIsXG4gIFNUUklDVDogXCJzdHJpY3RcIixcbiAgRElTQUJMRUQ6IFwidW5zYWZlLWRpc2FibGVkXCJcbn07XG5PYmplY3QuZnJlZXplKFByZWZpeFNlY3VyaXR5RW51bSk7XG52YXIgSVBfVjZfUkVHRVggPSBgXG5cXFxcWz8oPzpcbig/OlthLWZBLUZcXFxcZF17MSw0fTopezd9KD86W2EtZkEtRlxcXFxkXXsxLDR9fDopfFxuKD86W2EtZkEtRlxcXFxkXXsxLDR9Oil7Nn0oPzooPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKD86XFxcXC4oPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKXszfXw6W2EtZkEtRlxcXFxkXXsxLDR9fDopfFxuKD86W2EtZkEtRlxcXFxkXXsxLDR9Oil7NX0oPzo6KD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M318KD86OlthLWZBLUZcXFxcZF17MSw0fSl7MSwyfXw6KXxcbig/OlthLWZBLUZcXFxcZF17MSw0fTopezR9KD86KD86OlthLWZBLUZcXFxcZF17MSw0fSl7MCwxfTooPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKD86XFxcXC4oPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKXszfXwoPzo6W2EtZkEtRlxcXFxkXXsxLDR9KXsxLDN9fDopfFxuKD86W2EtZkEtRlxcXFxkXXsxLDR9Oil7M30oPzooPzo6W2EtZkEtRlxcXFxkXXsxLDR9KXswLDJ9Oig/OjI1WzAtNV18MlswLTRdXFxcXGR8MVxcXFxkXFxcXGR8WzEtOV1cXFxcZHxcXFxcZCkoPzpcXFxcLig/OjI1WzAtNV18MlswLTRdXFxcXGR8MVxcXFxkXFxcXGR8WzEtOV1cXFxcZHxcXFxcZCkpezN9fCg/OjpbYS1mQS1GXFxcXGRdezEsNH0pezEsNH18Oil8XG4oPzpbYS1mQS1GXFxcXGRdezEsNH06KXsyfSg/Oig/OjpbYS1mQS1GXFxcXGRdezEsNH0pezAsM306KD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M318KD86OlthLWZBLUZcXFxcZF17MSw0fSl7MSw1fXw6KXxcbig/OlthLWZBLUZcXFxcZF17MSw0fTopezF9KD86KD86OlthLWZBLUZcXFxcZF17MSw0fSl7MCw0fTooPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKD86XFxcXC4oPzoyNVswLTVdfDJbMC00XVxcXFxkfDFcXFxcZFxcXFxkfFsxLTldXFxcXGR8XFxcXGQpKXszfXwoPzo6W2EtZkEtRlxcXFxkXXsxLDR9KXsxLDZ9fDopfFxuKD86Oig/Oig/OjpbYS1mQS1GXFxcXGRdezEsNH0pezAsNX06KD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M318KD86OlthLWZBLUZcXFxcZF17MSw0fSl7MSw3fXw6KSlcbikoPzolWzAtOWEtekEtWl17MSx9KT9cXFxcXT9cbmAucmVwbGFjZSgvXFxzKlxcL1xcLy4qJC9nbSwgXCJcIikucmVwbGFjZSgvXFxuL2csIFwiXCIpLnRyaW0oKTtcbnZhciBJUF9WNl9SRUdFWF9PQkpFQ1QgPSBuZXcgUmVnRXhwKGBeJHtJUF9WNl9SRUdFWH0kYCk7XG52YXIgSVBfVjRfUkVHRVggPSBgKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlgO1xudmFyIElQX1Y0X1JFR0VYX09CSkVDVCA9IG5ldyBSZWdFeHAoYF4ke0lQX1Y0X1JFR0VYfSRgKTtcblxuLy8gbGliL2Nvb2tpZS9jYW5vbmljYWxEb21haW4udHNcbmZ1bmN0aW9uIGRvbWFpblRvQVNDSUkoZG9tYWluKSB7XG4gIHJldHVybiBuZXcgVVJMKGBodHRwOi8vJHtkb21haW59YCkuaG9zdG5hbWU7XG59XG5mdW5jdGlvbiBjYW5vbmljYWxEb21haW4oZG9tYWluTmFtZSkge1xuICBpZiAoZG9tYWluTmFtZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBsZXQgc3RyID0gZG9tYWluTmFtZS50cmltKCkucmVwbGFjZSgvXlxcLi8sIFwiXCIpO1xuICBpZiAoSVBfVjZfUkVHRVhfT0JKRUNULnRlc3Qoc3RyKSkge1xuICAgIGlmICghc3RyLnN0YXJ0c1dpdGgoXCJbXCIpKSB7XG4gICAgICBzdHIgPSBcIltcIiArIHN0cjtcbiAgICB9XG4gICAgaWYgKCFzdHIuZW5kc1dpdGgoXCJdXCIpKSB7XG4gICAgICBzdHIgPSBzdHIgKyBcIl1cIjtcbiAgICB9XG4gICAgcmV0dXJuIGRvbWFpblRvQVNDSUkoc3RyKS5zbGljZSgxLCAtMSk7XG4gIH1cbiAgaWYgKC9bXlxcdTAwMDEtXFx1MDA3Zl0vLnRlc3Qoc3RyKSkge1xuICAgIHJldHVybiBkb21haW5Ub0FTQ0lJKHN0cik7XG4gIH1cbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xufVxuXG4vLyBsaWIvY29va2llL2Zvcm1hdERhdGUudHNcbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICByZXR1cm4gZGF0ZS50b1VUQ1N0cmluZygpO1xufVxuXG4vLyBsaWIvY29va2llL3BhcnNlRGF0ZS50c1xudmFyIERBVEVfREVMSU0gPSAvW1xceDA5XFx4MjAtXFx4MkZcXHgzQi1cXHg0MFxceDVCLVxceDYwXFx4N0ItXFx4N0VdLztcbnZhciBNT05USF9UT19OVU0gPSB7XG4gIGphbjogMCxcbiAgZmViOiAxLFxuICBtYXI6IDIsXG4gIGFwcjogMyxcbiAgbWF5OiA0LFxuICBqdW46IDUsXG4gIGp1bDogNixcbiAgYXVnOiA3LFxuICBzZXA6IDgsXG4gIG9jdDogOSxcbiAgbm92OiAxMCxcbiAgZGVjOiAxMVxufTtcbmZ1bmN0aW9uIHBhcnNlRGlnaXRzKHRva2VuLCBtaW5EaWdpdHMsIG1heERpZ2l0cywgdHJhaWxpbmdPSykge1xuICBsZXQgY291bnQgPSAwO1xuICB3aGlsZSAoY291bnQgPCB0b2tlbi5sZW5ndGgpIHtcbiAgICBjb25zdCBjID0gdG9rZW4uY2hhckNvZGVBdChjb3VudCk7XG4gICAgaWYgKGMgPD0gNDcgfHwgYyA+PSA1OCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvdW50Kys7XG4gIH1cbiAgaWYgKGNvdW50IDwgbWluRGlnaXRzIHx8IGNvdW50ID4gbWF4RGlnaXRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdHJhaWxpbmdPSyAmJiBjb3VudCAhPSB0b2tlbi5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIHBhcnNlSW50KHRva2VuLnNsaWNlKDAsIGNvdW50KSwgMTApO1xufVxuZnVuY3Rpb24gcGFyc2VUaW1lKHRva2VuKSB7XG4gIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoXCI6XCIpO1xuICBjb25zdCByZXN1bHQgPSBbMCwgMCwgMF07XG4gIGlmIChwYXJ0cy5sZW5ndGggIT09IDMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBjb25zdCB0cmFpbGluZ09LID0gaSA9PSAyO1xuICAgIGNvbnN0IG51bVBhcnQgPSBwYXJ0c1tpXTtcbiAgICBpZiAobnVtUGFydCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG51bSA9IHBhcnNlRGlnaXRzKG51bVBhcnQsIDEsIDIsIHRyYWlsaW5nT0spO1xuICAgIGlmIChudW0gPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXN1bHRbaV0gPSBudW07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHBhcnNlTW9udGgodG9rZW4pIHtcbiAgdG9rZW4gPSBTdHJpbmcodG9rZW4pLnNsaWNlKDAsIDMpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodG9rZW4pIHtcbiAgICBjYXNlIFwiamFuXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLmphbjtcbiAgICBjYXNlIFwiZmViXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLmZlYjtcbiAgICBjYXNlIFwibWFyXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLm1hcjtcbiAgICBjYXNlIFwiYXByXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLmFwcjtcbiAgICBjYXNlIFwibWF5XCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLm1heTtcbiAgICBjYXNlIFwianVuXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLmp1bjtcbiAgICBjYXNlIFwianVsXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLmp1bDtcbiAgICBjYXNlIFwiYXVnXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLmF1ZztcbiAgICBjYXNlIFwic2VwXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLnNlcDtcbiAgICBjYXNlIFwib2N0XCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLm9jdDtcbiAgICBjYXNlIFwibm92XCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLm5vdjtcbiAgICBjYXNlIFwiZGVjXCI6XG4gICAgICByZXR1cm4gTU9OVEhfVE9fTlVNLmRlYztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuO1xuICB9XG59XG5mdW5jdGlvbiBwYXJzZURhdGUoY29va2llRGF0ZSkge1xuICBpZiAoIWNvb2tpZURhdGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdG9rZW5zID0gY29va2llRGF0ZS5zcGxpdChEQVRFX0RFTElNKTtcbiAgbGV0IGhvdXI7XG4gIGxldCBtaW51dGU7XG4gIGxldCBzZWNvbmQ7XG4gIGxldCBkYXlPZk1vbnRoO1xuICBsZXQgbW9udGg7XG4gIGxldCB5ZWFyO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRva2VuID0gKHRva2Vuc1tpXSA/PyBcIlwiKS50cmltKCk7XG4gICAgaWYgKCF0b2tlbi5sZW5ndGgpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoc2Vjb25kID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlVGltZSh0b2tlbik7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGhvdXIgPSByZXN1bHRbMF07XG4gICAgICAgIG1pbnV0ZSA9IHJlc3VsdFsxXTtcbiAgICAgICAgc2Vjb25kID0gcmVzdWx0WzJdO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRheU9mTW9udGggPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VEaWdpdHModG9rZW4sIDEsIDIsIHRydWUpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGRheU9mTW9udGggPSByZXN1bHQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobW9udGggPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gcGFyc2VNb250aCh0b2tlbik7XG4gICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgbW9udGggPSByZXN1bHQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeWVhciA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBwYXJzZURpZ2l0cyh0b2tlbiwgMiwgNCwgdHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgeWVhciA9IHJlc3VsdDtcbiAgICAgICAgaWYgKHllYXIgPj0gNzAgJiYgeWVhciA8PSA5OSkge1xuICAgICAgICAgIHllYXIgKz0gMTkwMDtcbiAgICAgICAgfSBlbHNlIGlmICh5ZWFyID49IDAgJiYgeWVhciA8PSA2OSkge1xuICAgICAgICAgIHllYXIgKz0gMmUzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkYXlPZk1vbnRoID09PSB2b2lkIDAgfHwgbW9udGggPT09IHZvaWQgMCB8fCB5ZWFyID09PSB2b2lkIDAgfHwgaG91ciA9PT0gdm9pZCAwIHx8IG1pbnV0ZSA9PT0gdm9pZCAwIHx8IHNlY29uZCA9PT0gdm9pZCAwIHx8IGRheU9mTW9udGggPCAxIHx8IGRheU9mTW9udGggPiAzMSB8fCB5ZWFyIDwgMTYwMSB8fCBob3VyID4gMjMgfHwgbWludXRlID4gNTkgfHwgc2Vjb25kID4gNTkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoLCBkYXlPZk1vbnRoLCBob3VyLCBtaW51dGUsIHNlY29uZCkpO1xufVxuXG4vLyBsaWIvY29va2llL2Nvb2tpZS50c1xudmFyIENPT0tJRV9PQ1RFVFMgPSAvXltcXHgyMVxceDIzLVxceDJCXFx4MkQtXFx4M0FcXHgzQy1cXHg1QlxceDVELVxceDdFXSskLztcbnZhciBQQVRIX1ZBTFVFID0gL1tcXHgyMC1cXHgzQVxceDNDLVxceDdFXSsvO1xudmFyIENPTlRST0xfQ0hBUlMgPSAvW1xceDAwLVxceDFGXS87XG52YXIgVEVSTUlOQVRPUlMgPSBbXCJcXG5cIiwgXCJcXHJcIiwgXCJcXDBcIl07XG5mdW5jdGlvbiB0cmltVGVybWluYXRvcihzdHIpIHtcbiAgaWYgKGlzRW1wdHlTdHJpbmcoc3RyKSkgcmV0dXJuIHN0cjtcbiAgZm9yIChsZXQgdCA9IDA7IHQgPCBURVJNSU5BVE9SUy5sZW5ndGg7IHQrKykge1xuICAgIGNvbnN0IHRlcm1pbmF0b3IgPSBURVJNSU5BVE9SU1t0XTtcbiAgICBjb25zdCB0ZXJtaW5hdG9ySWR4ID0gdGVybWluYXRvciA/IHN0ci5pbmRleE9mKHRlcm1pbmF0b3IpIDogLTE7XG4gICAgaWYgKHRlcm1pbmF0b3JJZHggIT09IC0xKSB7XG4gICAgICBzdHIgPSBzdHIuc2xpY2UoMCwgdGVybWluYXRvcklkeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiBwYXJzZUNvb2tpZVBhaXIoY29va2llUGFpciwgbG9vc2VNb2RlKSB7XG4gIGNvb2tpZVBhaXIgPSB0cmltVGVybWluYXRvcihjb29raWVQYWlyKTtcbiAgbGV0IGZpcnN0RXEgPSBjb29raWVQYWlyLmluZGV4T2YoXCI9XCIpO1xuICBpZiAobG9vc2VNb2RlKSB7XG4gICAgaWYgKGZpcnN0RXEgPT09IDApIHtcbiAgICAgIGNvb2tpZVBhaXIgPSBjb29raWVQYWlyLnN1YnN0cmluZygxKTtcbiAgICAgIGZpcnN0RXEgPSBjb29raWVQYWlyLmluZGV4T2YoXCI9XCIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZmlyc3RFcSA8PSAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBsZXQgY29va2llTmFtZSwgY29va2llVmFsdWU7XG4gIGlmIChmaXJzdEVxIDw9IDApIHtcbiAgICBjb29raWVOYW1lID0gXCJcIjtcbiAgICBjb29raWVWYWx1ZSA9IGNvb2tpZVBhaXIudHJpbSgpO1xuICB9IGVsc2Uge1xuICAgIGNvb2tpZU5hbWUgPSBjb29raWVQYWlyLnNsaWNlKDAsIGZpcnN0RXEpLnRyaW0oKTtcbiAgICBjb29raWVWYWx1ZSA9IGNvb2tpZVBhaXIuc2xpY2UoZmlyc3RFcSArIDEpLnRyaW0oKTtcbiAgfVxuICBpZiAoQ09OVFJPTF9DSEFSUy50ZXN0KGNvb2tpZU5hbWUpIHx8IENPTlRST0xfQ0hBUlMudGVzdChjb29raWVWYWx1ZSkpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGNvbnN0IGMgPSBuZXcgQ29va2llKCk7XG4gIGMua2V5ID0gY29va2llTmFtZTtcbiAgYy52YWx1ZSA9IGNvb2tpZVZhbHVlO1xuICByZXR1cm4gYztcbn1cbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucykge1xuICBpZiAoaXNFbXB0eVN0cmluZyhzdHIpIHx8ICFpc1N0cmluZyhzdHIpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBzdHIgPSBzdHIudHJpbSgpO1xuICBjb25zdCBmaXJzdFNlbWkgPSBzdHIuaW5kZXhPZihcIjtcIik7XG4gIGNvbnN0IGNvb2tpZVBhaXIgPSBmaXJzdFNlbWkgPT09IC0xID8gc3RyIDogc3RyLnNsaWNlKDAsIGZpcnN0U2VtaSk7XG4gIGNvbnN0IGMgPSBwYXJzZUNvb2tpZVBhaXIoY29va2llUGFpciwgb3B0aW9ucz8ubG9vc2UgPz8gZmFsc2UpO1xuICBpZiAoIWMpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGlmIChmaXJzdFNlbWkgPT09IC0xKSB7XG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgY29uc3QgdW5wYXJzZWQgPSBzdHIuc2xpY2UoZmlyc3RTZW1pICsgMSkudHJpbSgpO1xuICBpZiAodW5wYXJzZWQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgY29uc3QgY29va2llX2F2cyA9IHVucGFyc2VkLnNwbGl0KFwiO1wiKTtcbiAgd2hpbGUgKGNvb2tpZV9hdnMubGVuZ3RoKSB7XG4gICAgY29uc3QgYXYgPSAoY29va2llX2F2cy5zaGlmdCgpID8/IFwiXCIpLnRyaW0oKTtcbiAgICBpZiAoYXYubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgYXZfc2VwID0gYXYuaW5kZXhPZihcIj1cIik7XG4gICAgbGV0IGF2X2tleSwgYXZfdmFsdWU7XG4gICAgaWYgKGF2X3NlcCA9PT0gLTEpIHtcbiAgICAgIGF2X2tleSA9IGF2O1xuICAgICAgYXZfdmFsdWUgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdl9rZXkgPSBhdi5zbGljZSgwLCBhdl9zZXApO1xuICAgICAgYXZfdmFsdWUgPSBhdi5zbGljZShhdl9zZXAgKyAxKTtcbiAgICB9XG4gICAgYXZfa2V5ID0gYXZfa2V5LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChhdl92YWx1ZSkge1xuICAgICAgYXZfdmFsdWUgPSBhdl92YWx1ZS50cmltKCk7XG4gICAgfVxuICAgIHN3aXRjaCAoYXZfa2V5KSB7XG4gICAgICBjYXNlIFwiZXhwaXJlc1wiOlxuICAgICAgICBpZiAoYXZfdmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBleHAgPSBwYXJzZURhdGUoYXZfdmFsdWUpO1xuICAgICAgICAgIGlmIChleHApIHtcbiAgICAgICAgICAgIGMuZXhwaXJlcyA9IGV4cDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibWF4LWFnZVwiOlxuICAgICAgICBpZiAoYXZfdmFsdWUpIHtcbiAgICAgICAgICBpZiAoL14tP1swLTldKyQvLnRlc3QoYXZfdmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IHBhcnNlSW50KGF2X3ZhbHVlLCAxMCk7XG4gICAgICAgICAgICBjLnNldE1heEFnZShkZWx0YSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRvbWFpblwiOlxuICAgICAgICBpZiAoYXZfdmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBkb21haW4gPSBhdl92YWx1ZS50cmltKCkucmVwbGFjZSgvXlxcLi8sIFwiXCIpO1xuICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgIGMuZG9tYWluID0gZG9tYWluLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgYy5wYXRoID0gYXZfdmFsdWUgJiYgYXZfdmFsdWVbMF0gPT09IFwiL1wiID8gYXZfdmFsdWUgOiBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzZWN1cmVcIjpcbiAgICAgICAgYy5zZWN1cmUgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJodHRwb25seVwiOlxuICAgICAgICBjLmh0dHBPbmx5ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2FtZXNpdGVcIjpcbiAgICAgICAgc3dpdGNoIChhdl92YWx1ZSA/IGF2X3ZhbHVlLnRvTG93ZXJDYXNlKCkgOiBcIlwiKSB7XG4gICAgICAgICAgY2FzZSBcInN0cmljdFwiOlxuICAgICAgICAgICAgYy5zYW1lU2l0ZSA9IFwic3RyaWN0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibGF4XCI6XG4gICAgICAgICAgICBjLnNhbWVTaXRlID0gXCJsYXhcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICBjLnNhbWVTaXRlID0gXCJub25lXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYy5zYW1lU2l0ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYy5leHRlbnNpb25zID0gYy5leHRlbnNpb25zIHx8IFtdO1xuICAgICAgICBjLmV4dGVuc2lvbnMucHVzaChhdik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYztcbn1cbmZ1bmN0aW9uIGZyb21KU09OKHN0cikge1xuICBpZiAoIXN0ciB8fCBpc0VtcHR5U3RyaW5nKHN0cikpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGxldCBvYmo7XG4gIGlmICh0eXBlb2Ygc3RyID09PSBcInN0cmluZ1wiKSB7XG4gICAgdHJ5IHtcbiAgICAgIG9iaiA9IEpTT04ucGFyc2Uoc3RyKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9iaiA9IHN0cjtcbiAgfVxuICBjb25zdCBjID0gbmV3IENvb2tpZSgpO1xuICBDb29raWUuc2VyaWFsaXphYmxlUHJvcGVydGllcy5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIGluT3BlcmF0b3IocHJvcCwgb2JqKSkge1xuICAgICAgY29uc3QgdmFsID0gb2JqW3Byb3BdO1xuICAgICAgaWYgKHZhbCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpbk9wZXJhdG9yKHByb3AsIGNvb2tpZURlZmF1bHRzKSAmJiB2YWwgPT09IGNvb2tpZURlZmF1bHRzW3Byb3BdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICBjYXNlIFwia2V5XCI6XG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICBjYXNlIFwic2FtZVNpdGVcIjpcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY1twcm9wXSA9IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJleHBpcmVzXCI6XG4gICAgICAgIGNhc2UgXCJjcmVhdGlvblwiOlxuICAgICAgICBjYXNlIFwibGFzdEFjY2Vzc2VkXCI6XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiB8fCB2YWwgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICBjW3Byb3BdID0gb2JqW3Byb3BdID09IFwiSW5maW5pdHlcIiA/IFwiSW5maW5pdHlcIiA6IG5ldyBEYXRlKHZhbCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNbcHJvcF0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1heEFnZVwiOlxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiIHx8IHZhbCA9PT0gXCJJbmZpbml0eVwiIHx8IHZhbCA9PT0gXCItSW5maW5pdHlcIikge1xuICAgICAgICAgICAgY1twcm9wXSA9IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkb21haW5cIjpcbiAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiB8fCB2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNbcHJvcF0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2VjdXJlXCI6XG4gICAgICAgIGNhc2UgXCJodHRwT25seVwiOlxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgY1twcm9wXSA9IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJleHRlbnNpb25zXCI6XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSAmJiB2YWwuZXZlcnkoKGl0ZW0pID0+IHR5cGVvZiBpdGVtID09PSBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgY1twcm9wXSA9IHZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJob3N0T25seVwiOlxuICAgICAgICBjYXNlIFwicGF0aElzRGVmYXVsdFwiOlxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcImJvb2xlYW5cIiB8fCB2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNbcHJvcF0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjO1xufVxudmFyIGNvb2tpZURlZmF1bHRzID0ge1xuICAvLyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIFJGQyBoYXMgdGhlbTpcbiAga2V5OiBcIlwiLFxuICB2YWx1ZTogXCJcIixcbiAgZXhwaXJlczogXCJJbmZpbml0eVwiLFxuICBtYXhBZ2U6IG51bGwsXG4gIGRvbWFpbjogbnVsbCxcbiAgcGF0aDogbnVsbCxcbiAgc2VjdXJlOiBmYWxzZSxcbiAgaHR0cE9ubHk6IGZhbHNlLFxuICBleHRlbnNpb25zOiBudWxsLFxuICAvLyBzZXQgYnkgdGhlIENvb2tpZUphcjpcbiAgaG9zdE9ubHk6IG51bGwsXG4gIHBhdGhJc0RlZmF1bHQ6IG51bGwsXG4gIGNyZWF0aW9uOiBudWxsLFxuICBsYXN0QWNjZXNzZWQ6IG51bGwsXG4gIHNhbWVTaXRlOiB2b2lkIDBcbn07XG52YXIgX0Nvb2tpZSA9IGNsYXNzIF9Db29raWUge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IENvb2tpZSBpbnN0YW5jZS5cbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBhdHRyaWJ1dGVzIHRvIHNldCBvbiB0aGUgY29va2llXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmtleSA9IG9wdGlvbnMua2V5ID8/IGNvb2tpZURlZmF1bHRzLmtleTtcbiAgICB0aGlzLnZhbHVlID0gb3B0aW9ucy52YWx1ZSA/PyBjb29raWVEZWZhdWx0cy52YWx1ZTtcbiAgICB0aGlzLmV4cGlyZXMgPSBvcHRpb25zLmV4cGlyZXMgPz8gY29va2llRGVmYXVsdHMuZXhwaXJlcztcbiAgICB0aGlzLm1heEFnZSA9IG9wdGlvbnMubWF4QWdlID8/IGNvb2tpZURlZmF1bHRzLm1heEFnZTtcbiAgICB0aGlzLmRvbWFpbiA9IG9wdGlvbnMuZG9tYWluID8/IGNvb2tpZURlZmF1bHRzLmRvbWFpbjtcbiAgICB0aGlzLnBhdGggPSBvcHRpb25zLnBhdGggPz8gY29va2llRGVmYXVsdHMucGF0aDtcbiAgICB0aGlzLnNlY3VyZSA9IG9wdGlvbnMuc2VjdXJlID8/IGNvb2tpZURlZmF1bHRzLnNlY3VyZTtcbiAgICB0aGlzLmh0dHBPbmx5ID0gb3B0aW9ucy5odHRwT25seSA/PyBjb29raWVEZWZhdWx0cy5odHRwT25seTtcbiAgICB0aGlzLmV4dGVuc2lvbnMgPSBvcHRpb25zLmV4dGVuc2lvbnMgPz8gY29va2llRGVmYXVsdHMuZXh0ZW5zaW9ucztcbiAgICB0aGlzLmNyZWF0aW9uID0gb3B0aW9ucy5jcmVhdGlvbiA/PyBjb29raWVEZWZhdWx0cy5jcmVhdGlvbjtcbiAgICB0aGlzLmhvc3RPbmx5ID0gb3B0aW9ucy5ob3N0T25seSA/PyBjb29raWVEZWZhdWx0cy5ob3N0T25seTtcbiAgICB0aGlzLnBhdGhJc0RlZmF1bHQgPSBvcHRpb25zLnBhdGhJc0RlZmF1bHQgPz8gY29va2llRGVmYXVsdHMucGF0aElzRGVmYXVsdDtcbiAgICB0aGlzLmxhc3RBY2Nlc3NlZCA9IG9wdGlvbnMubGFzdEFjY2Vzc2VkID8/IGNvb2tpZURlZmF1bHRzLmxhc3RBY2Nlc3NlZDtcbiAgICB0aGlzLnNhbWVTaXRlID0gb3B0aW9ucy5zYW1lU2l0ZSA/PyBjb29raWVEZWZhdWx0cy5zYW1lU2l0ZTtcbiAgICB0aGlzLmNyZWF0aW9uID0gb3B0aW9ucy5jcmVhdGlvbiA/PyAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcmVhdGlvbkluZGV4XCIsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIC8vIGltcG9ydGFudCBmb3IgYXNzZXJ0LmRlZXBFcXVhbCBjaGVja3NcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6ICsrX0Nvb2tpZS5jb29raWVzQ3JlYXRlZFxuICAgIH0pO1xuICAgIHRoaXMuY3JlYXRpb25JbmRleCA9IF9Db29raWUuY29va2llc0NyZWF0ZWQ7XG4gIH1cbiAgW1N5bWJvbC5mb3IoXCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbVwiKV0oKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBob3N0T25seSA9IHRoaXMuaG9zdE9ubHkgIT0gbnVsbCA/IHRoaXMuaG9zdE9ubHkudG9TdHJpbmcoKSA6IFwiP1wiO1xuICAgIGNvbnN0IGNyZWF0ZUFnZSA9IHRoaXMuY3JlYXRpb24gJiYgdGhpcy5jcmVhdGlvbiAhPT0gXCJJbmZpbml0eVwiID8gYCR7U3RyaW5nKG5vdyAtIHRoaXMuY3JlYXRpb24uZ2V0VGltZSgpKX1tc2AgOiBcIj9cIjtcbiAgICBjb25zdCBhY2Nlc3NBZ2UgPSB0aGlzLmxhc3RBY2Nlc3NlZCAmJiB0aGlzLmxhc3RBY2Nlc3NlZCAhPT0gXCJJbmZpbml0eVwiID8gYCR7U3RyaW5nKG5vdyAtIHRoaXMubGFzdEFjY2Vzc2VkLmdldFRpbWUoKSl9bXNgIDogXCI/XCI7XG4gICAgcmV0dXJuIGBDb29raWU9XCIke3RoaXMudG9TdHJpbmcoKX07IGhvc3RPbmx5PSR7aG9zdE9ubHl9OyBhQWdlPSR7YWNjZXNzQWdlfTsgY0FnZT0ke2NyZWF0ZUFnZX1cImA7XG4gIH1cbiAgLyoqXG4gICAqIEZvciBjb252ZW5pZW5jZSBpbiB1c2luZyBgSlNPTi5zdHJpbmdpZnkoY29va2llKWAuIFJldHVybnMgYSBwbGFpbi1vbGQgT2JqZWN0IHRoYXQgY2FuIGJlIEpTT04tc2VyaWFsaXplZC5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogLSBBbnkgYERhdGVgIHByb3BlcnRpZXMgKHN1Y2ggYXMge0BsaW5rIENvb2tpZS5leHBpcmVzfSwge0BsaW5rIENvb2tpZS5jcmVhdGlvbn0sIGFuZCB7QGxpbmsgQ29va2llLmxhc3RBY2Nlc3NlZH0pIGFyZSBleHBvcnRlZCBpbiBJU08gZm9ybWF0IChgRGF0ZS50b0lTT1N0cmluZygpYCkuXG4gICAqXG4gICAqICAtIEN1c3RvbSBDb29raWUgcHJvcGVydGllcyBhcmUgZGlzY2FyZGVkLiBJbiB0b3VnaC1jb29raWUgMS54LCBzaW5jZSB0aGVyZSB3YXMgbm8ge0BsaW5rIENvb2tpZS50b0pTT059IG1ldGhvZCBleHBsaWNpdGx5IGRlZmluZWQsIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgd2VyZSBjYXB0dXJlZC5cbiAgICogICAgICBJZiB5b3Ugd2FudCBhIHByb3BlcnR5IHRvIGJlIHNlcmlhbGl6ZWQsIGFkZCB0aGUgcHJvcGVydHkgbmFtZSB0byB7QGxpbmsgQ29va2llLnNlcmlhbGl6YWJsZVByb3BlcnRpZXN9LlxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBfQ29va2llLnNlcmlhbGl6YWJsZVByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHZhbCA9IHRoaXNbcHJvcF07XG4gICAgICBpZiAodmFsID09PSBjb29raWVEZWZhdWx0c1twcm9wXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICBjYXNlIFwia2V5XCI6XG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICBjYXNlIFwic2FtZVNpdGVcIjpcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgb2JqW3Byb3BdID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImV4cGlyZXNcIjpcbiAgICAgICAgY2FzZSBcImNyZWF0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJsYXN0QWNjZXNzZWRcIjpcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHZhbCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIG9ialtwcm9wXSA9IHZhbCA9PSBcIkluZmluaXR5XCIgPyBcIkluZmluaXR5XCIgOiBuZXcgRGF0ZSh2YWwpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG9ialtwcm9wXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWF4QWdlXCI6XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgfHwgdmFsID09PSBcIkluZmluaXR5XCIgfHwgdmFsID09PSBcIi1JbmZpbml0eVwiKSB7XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG9tYWluXCI6XG4gICAgICAgIGNhc2UgXCJwYXRoXCI6XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgfHwgdmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2VjdXJlXCI6XG4gICAgICAgIGNhc2UgXCJodHRwT25seVwiOlxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgb2JqW3Byb3BdID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImV4dGVuc2lvbnNcIjpcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaG9zdE9ubHlcIjpcbiAgICAgICAgY2FzZSBcInBhdGhJc0RlZmF1bHRcIjpcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJib29sZWFuXCIgfHwgdmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIC8qKlxuICAgKiBEb2VzIGEgZGVlcCBjbG9uZSBvZiB0aGlzIGNvb2tpZSwgaW1wbGVtZW50ZWQgZXhhY3RseSBhcyBgQ29va2llLmZyb21KU09OKGNvb2tpZS50b0pTT04oKSlgLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gZnJvbUpTT04odGhpcy50b0pTT04oKSk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBjb29raWUgYXR0cmlidXRlcyBmb3Igc2VtYW50aWMgY29ycmVjdG5lc3MuIFVzZWZ1bCBmb3IgXCJsaW50XCIgY2hlY2tpbmcgYW55IGBTZXQtQ29va2llYCBoZWFkZXJzIHlvdSBnZW5lcmF0ZS5cbiAgICogRm9yIG5vdywgaXQgcmV0dXJucyBhIGJvb2xlYW4sIGJ1dCBldmVudHVhbGx5IGNvdWxkIHJldHVybiBhIHJlYXNvbiBzdHJpbmcuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFdvcmtzIGZvciBhIGZldyB0aGluZ3MsIGJ1dCBpcyBieSBubyBtZWFucyBjb21wcmVoZW5zaXZlLlxuICAgKlxuICAgKiBAYmV0YVxuICAgKi9cbiAgdmFsaWRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLnZhbHVlIHx8ICFDT09LSUVfT0NURVRTLnRlc3QodGhpcy52YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZXhwaXJlcyAhPSBcIkluZmluaXR5XCIgJiYgISh0aGlzLmV4cGlyZXMgaW5zdGFuY2VvZiBEYXRlKSAmJiAhcGFyc2VEYXRlKHRoaXMuZXhwaXJlcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWF4QWdlICE9IG51bGwgJiYgdGhpcy5tYXhBZ2UgIT09IFwiSW5maW5pdHlcIiAmJiAodGhpcy5tYXhBZ2UgPT09IFwiLUluZmluaXR5XCIgfHwgdGhpcy5tYXhBZ2UgPD0gMCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucGF0aCAhPSBudWxsICYmICFQQVRIX1ZBTFVFLnRlc3QodGhpcy5wYXRoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjZG9tYWluID0gdGhpcy5jZG9tYWluKCk7XG4gICAgaWYgKGNkb21haW4pIHtcbiAgICAgIGlmIChjZG9tYWluLm1hdGNoKC9cXC4kLykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3VmZml4ID0gZ2V0UHVibGljU3VmZml4KGNkb21haW4pO1xuICAgICAgaWYgKHN1ZmZpeCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlICdFeHBpcmVzJyBhdHRyaWJ1dGUgb24gYSBjb29raWUuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIFdoZW4gZ2l2ZW4gYSBgc3RyaW5nYCB2YWx1ZSBpdCB3aWxsIGJlIHBhcnNlZCB3aXRoIHtAbGluayBwYXJzZURhdGV9LiBJZiB0aGUgdmFsdWUgY2FuJ3QgYmUgcGFyc2VkIGFzIGEgY29va2llIGRhdGVcbiAgICogdGhlbiB0aGUgJ0V4cGlyZXMnIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCB0byBgXCJJbmZpbml0eVwiYC5cbiAgICpcbiAgICogQHBhcmFtIGV4cCAtIHRoZSBuZXcgdmFsdWUgZm9yIHRoZSAnRXhwaXJlcycgYXR0cmlidXRlIG9mIHRoZSBjb29raWUuXG4gICAqL1xuICBzZXRFeHBpcmVzKGV4cCkge1xuICAgIGlmIChleHAgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICB0aGlzLmV4cGlyZXMgPSBleHA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXhwaXJlcyA9IHBhcnNlRGF0ZShleHApIHx8IFwiSW5maW5pdHlcIjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlICdNYXgtQWdlJyBhdHRyaWJ1dGUgKGluIHNlY29uZHMpIG9uIGEgY29va2llLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBDb2VyY2VzIGAtSW5maW5pdHlgIHRvIGBcIi1JbmZpbml0eVwiYCBhbmQgYEluZmluaXR5YCB0byBgXCJJbmZpbml0eVwiYCBzbyBpdCBjYW4gYmUgc2VyaWFsaXplZCB0byBKU09OLlxuICAgKlxuICAgKiBAcGFyYW0gYWdlIC0gdGhlIG5ldyB2YWx1ZSBmb3IgdGhlICdNYXgtQWdlJyBhdHRyaWJ1dGUgKGluIHNlY29uZHMpLlxuICAgKi9cbiAgc2V0TWF4QWdlKGFnZSkge1xuICAgIGlmIChhZ2UgPT09IEluZmluaXR5KSB7XG4gICAgICB0aGlzLm1heEFnZSA9IFwiSW5maW5pdHlcIjtcbiAgICB9IGVsc2UgaWYgKGFnZSA9PT0gLUluZmluaXR5KSB7XG4gICAgICB0aGlzLm1heEFnZSA9IFwiLUluZmluaXR5XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWF4QWdlID0gYWdlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW5jb2RlcyB0byBhIGBDb29raWVgIGhlYWRlciB2YWx1ZSAoc3BlY2lmaWNhbGx5LCB0aGUge0BsaW5rIENvb2tpZS5rZXl9IGFuZCB7QGxpbmsgQ29va2llLnZhbHVlfSBwcm9wZXJ0aWVzIGpvaW5lZCB3aXRoIFwiPVwiKS5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29va2llU3RyaW5nKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMudmFsdWUgfHwgXCJcIjtcbiAgICBpZiAodGhpcy5rZXkpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLmtleX09JHt2YWx9YDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlcyB0byBhIGBTZXQtQ29va2llIGhlYWRlcmAgdmFsdWUuXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCBzdHIgPSB0aGlzLmNvb2tpZVN0cmluZygpO1xuICAgIGlmICh0aGlzLmV4cGlyZXMgIT0gXCJJbmZpbml0eVwiKSB7XG4gICAgICBpZiAodGhpcy5leHBpcmVzIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBzdHIgKz0gYDsgRXhwaXJlcz0ke2Zvcm1hdERhdGUodGhpcy5leHBpcmVzKX1gO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5tYXhBZ2UgIT0gbnVsbCAmJiB0aGlzLm1heEFnZSAhPSBJbmZpbml0eSkge1xuICAgICAgc3RyICs9IGA7IE1heC1BZ2U9JHtTdHJpbmcodGhpcy5tYXhBZ2UpfWA7XG4gICAgfVxuICAgIGlmICh0aGlzLmRvbWFpbiAmJiAhdGhpcy5ob3N0T25seSkge1xuICAgICAgc3RyICs9IGA7IERvbWFpbj0ke3RoaXMuZG9tYWlufWA7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhdGgpIHtcbiAgICAgIHN0ciArPSBgOyBQYXRoPSR7dGhpcy5wYXRofWA7XG4gICAgfVxuICAgIGlmICh0aGlzLnNlY3VyZSkge1xuICAgICAgc3RyICs9IFwiOyBTZWN1cmVcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaHR0cE9ubHkpIHtcbiAgICAgIHN0ciArPSBcIjsgSHR0cE9ubHlcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2FtZVNpdGUgJiYgdGhpcy5zYW1lU2l0ZSAhPT0gXCJub25lXCIpIHtcbiAgICAgIGlmICh0aGlzLnNhbWVTaXRlLnRvTG93ZXJDYXNlKCkgPT09IF9Db29raWUuc2FtZVNpdGVDYW5vbmljYWwubGF4LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgc3RyICs9IGA7IFNhbWVTaXRlPSR7X0Nvb2tpZS5zYW1lU2l0ZUNhbm9uaWNhbC5sYXh9YDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zYW1lU2l0ZS50b0xvd2VyQ2FzZSgpID09PSBfQ29va2llLnNhbWVTaXRlQ2Fub25pY2FsLnN0cmljdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIHN0ciArPSBgOyBTYW1lU2l0ZT0ke19Db29raWUuc2FtZVNpdGVDYW5vbmljYWwuc3RyaWN0fWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgKz0gYDsgU2FtZVNpdGU9JHt0aGlzLnNhbWVTaXRlfWA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmV4dGVuc2lvbnMpIHtcbiAgICAgIHRoaXMuZXh0ZW5zaW9ucy5mb3JFYWNoKChleHQpID0+IHtcbiAgICAgICAgc3RyICs9IGA7ICR7ZXh0fWA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZXMgdGhlIFRUTCByZWxhdGl2ZSB0byBub3cgKG1pbGxpc2Vjb25kcykuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIC0gYEluZmluaXR5YCBpcyByZXR1cm5lZCBmb3IgY29va2llcyB3aXRob3V0IGFuIGV4cGxpY2l0IGV4cGlyeVxuICAgKlxuICAgKiAtIGAwYCBpcyByZXR1cm5lZCBpZiB0aGUgY29va2llIGlzIGV4cGlyZWQuXG4gICAqXG4gICAqIC0gT3RoZXJ3aXNlIGEgdGltZS10by1saXZlIGluIG1pbGxpc2Vjb25kcyBpcyByZXR1cm5lZC5cbiAgICpcbiAgICogQHBhcmFtIG5vdyAtIHBhc3NpbmcgYW4gZXhwbGljaXQgdmFsdWUgaXMgbW9zdGx5IHVzZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgc2luY2UgdGhpcyBkZWZhdWx0cyB0byB0aGUgYERhdGUubm93KClgXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIFRUTChub3cgPSBEYXRlLm5vdygpKSB7XG4gICAgaWYgKHRoaXMubWF4QWdlICE9IG51bGwgJiYgdHlwZW9mIHRoaXMubWF4QWdlID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXhBZ2UgPD0gMCA/IDAgOiB0aGlzLm1heEFnZSAqIDFlMztcbiAgICB9XG4gICAgY29uc3QgZXhwaXJlcyA9IHRoaXMuZXhwaXJlcztcbiAgICBpZiAoZXhwaXJlcyA9PT0gXCJJbmZpbml0eVwiKSB7XG4gICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiAoZXhwaXJlcz8uZ2V0VGltZSgpID8/IG5vdykgLSAobm93IHx8IERhdGUubm93KCkpO1xuICB9XG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgYWJzb2x1dGUgdW5peC1lcG9jaCBtaWxsaXNlY29uZHMgdGhhdCB0aGlzIGNvb2tpZSBleHBpcmVzLlxuICAgKlxuICAgKiBUaGUgXCJNYXgtQWdlXCIgYXR0cmlidXRlIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBcIkV4cGlyZXNcIiAoYXMgcGVyIHRoZSBSRkMpLiBUaGUge0BsaW5rIENvb2tpZS5sYXN0QWNjZXNzZWR9IGF0dHJpYnV0ZVxuICAgKiAob3IgdGhlIGBub3dgIHBhcmFtZXRlciBpZiBnaXZlbikgaXMgdXNlZCB0byBvZmZzZXQgdGhlIHtAbGluayBDb29raWUubWF4QWdlfSBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIElmIEV4cGlyZXMgKHtAbGluayBDb29raWUuZXhwaXJlc30pIGlzIHNldCwgdGhhdCdzIHJldHVybmVkLlxuICAgKlxuICAgKiBAcGFyYW0gbm93IC0gY2FuIGJlIHVzZWQgdG8gcHJvdmlkZSBhIHRpbWUgb2Zmc2V0IChpbnN0ZWFkIG9mIHtAbGluayBDb29raWUubGFzdEFjY2Vzc2VkfSkgdG8gdXNlIHdoZW4gY2FsY3VsYXRpbmcgdGhlIFwiTWF4LUFnZVwiIHZhbHVlXG4gICAqL1xuICBleHBpcnlUaW1lKG5vdykge1xuICAgIGlmICh0aGlzLm1heEFnZSAhPSBudWxsKSB7XG4gICAgICBjb25zdCByZWxhdGl2ZVRvID0gbm93IHx8IHRoaXMubGFzdEFjY2Vzc2VkIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3QgbWF4QWdlID0gdHlwZW9mIHRoaXMubWF4QWdlID09PSBcIm51bWJlclwiID8gdGhpcy5tYXhBZ2UgOiAtSW5maW5pdHk7XG4gICAgICBjb25zdCBhZ2UgPSBtYXhBZ2UgPD0gMCA/IC1JbmZpbml0eSA6IG1heEFnZSAqIDFlMztcbiAgICAgIGlmIChyZWxhdGl2ZVRvID09PSBcIkluZmluaXR5XCIpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbGF0aXZlVG8uZ2V0VGltZSgpICsgYWdlO1xuICAgIH1cbiAgICBpZiAodGhpcy5leHBpcmVzID09IFwiSW5maW5pdHlcIikge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leHBpcmVzID8gdGhpcy5leHBpcmVzLmdldFRpbWUoKSA6IHZvaWQgMDtcbiAgfVxuICAvKipcbiAgICogU2ltaWxhciB0byB7QGxpbmsgQ29va2llLmV4cGlyeVRpbWV9LCBjb21wdXRlcyB0aGUgYWJzb2x1dGUgdW5peC1lcG9jaCBtaWxsaXNlY29uZHMgdGhhdCB0aGlzIGNvb2tpZSBleHBpcmVzIGFuZCByZXR1cm5zIGl0IGFzIGEgRGF0ZS5cbiAgICpcbiAgICogVGhlIFwiTWF4LUFnZVwiIGF0dHJpYnV0ZSB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgXCJFeHBpcmVzXCIgKGFzIHBlciB0aGUgUkZDKS4gVGhlIHtAbGluayBDb29raWUubGFzdEFjY2Vzc2VkfSBhdHRyaWJ1dGVcbiAgICogKG9yIHRoZSBgbm93YCBwYXJhbWV0ZXIgaWYgZ2l2ZW4pIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSB7QGxpbmsgQ29va2llLm1heEFnZX0gYXR0cmlidXRlLlxuICAgKlxuICAgKiBJZiBFeHBpcmVzICh7QGxpbmsgQ29va2llLmV4cGlyZXN9KSBpcyBzZXQsIHRoYXQncyByZXR1cm5lZC5cbiAgICpcbiAgICogQHBhcmFtIG5vdyAtIGNhbiBiZSB1c2VkIHRvIHByb3ZpZGUgYSB0aW1lIG9mZnNldCAoaW5zdGVhZCBvZiB7QGxpbmsgQ29va2llLmxhc3RBY2Nlc3NlZH0pIHRvIHVzZSB3aGVuIGNhbGN1bGF0aW5nIHRoZSBcIk1heC1BZ2VcIiB2YWx1ZVxuICAgKi9cbiAgZXhwaXJ5RGF0ZShub3cpIHtcbiAgICBjb25zdCBtaWxsaXNlYyA9IHRoaXMuZXhwaXJ5VGltZShub3cpO1xuICAgIGlmIChtaWxsaXNlYyA9PSBJbmZpbml0eSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgyMTQ3NDgzNjQ3ZTMpO1xuICAgIH0gZWxzZSBpZiAobWlsbGlzZWMgPT0gLUluZmluaXR5KSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWlsbGlzZWMgPT0gdm9pZCAwID8gdm9pZCAwIDogbmV3IERhdGUobWlsbGlzZWMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSW5kaWNhdGVzIGlmIHRoZSBjb29raWUgaGFzIGJlZW4gcGVyc2lzdGVkIHRvIGEgc3RvcmUgb3Igbm90LlxuICAgKiBAcHVibGljXG4gICAqL1xuICBpc1BlcnNpc3RlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4QWdlICE9IG51bGwgfHwgdGhpcy5leHBpcmVzICE9IFwiSW5maW5pdHlcIjtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMge0BsaW5rIGNhbm9uaWNhbERvbWFpbn0gd2l0aCB0aGUge0BsaW5rIENvb2tpZS5kb21haW59IHByb3BlcnR5LlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjYW5vbmljYWxpemVkRG9tYWluKCkge1xuICAgIHJldHVybiBjYW5vbmljYWxEb21haW4odGhpcy5kb21haW4pO1xuICB9XG4gIC8qKlxuICAgKiBBbGlhcyBmb3Ige0BsaW5rIENvb2tpZS5jYW5vbmljYWxpemVkRG9tYWlufVxuICAgKiBAcHVibGljXG4gICAqL1xuICBjZG9tYWluKCkge1xuICAgIHJldHVybiBjYW5vbmljYWxEb21haW4odGhpcy5kb21haW4pO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZXMgYSBzdHJpbmcgaW50byBhIENvb2tpZSBvYmplY3QuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIE5vdGU6IHdoZW4gcGFyc2luZyBhIGBDb29raWVgIGhlYWRlciBpdCBtdXN0IGJlIHNwbGl0IGJ5ICc7JyBiZWZvcmUgZWFjaCBDb29raWUgc3RyaW5nIGNhbiBiZSBwYXJzZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiAvLyBwYXJzZSBhIGBTZXQtQ29va2llYCBoZWFkZXJcbiAgICogY29uc3Qgc2V0Q29va2llSGVhZGVyID0gJ2E9YmNkOyBFeHBpcmVzPVR1ZSwgMTggT2N0IDIwMTEgMDc6MDU6MDMgR01UJ1xuICAgKiBjb25zdCBjb29raWUgPSBDb29raWUucGFyc2Uoc2V0Q29va2llSGVhZGVyKVxuICAgKiBjb29raWUua2V5ID09PSAnYSdcbiAgICogY29va2llLnZhbHVlID09PSAnYmNkJ1xuICAgKiBjb29raWUuZXhwaXJlcyA9PT0gbmV3IERhdGUoRGF0ZS5wYXJzZSgnVHVlLCAxOCBPY3QgMjAxMSAwNzowNTowMyBHTVQnKSlcbiAgICogYGBgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYFxuICAgKiAvLyBwYXJzZSBhIGBDb29raWVgIGhlYWRlclxuICAgKiBjb25zdCBjb29raWVIZWFkZXIgPSAnbmFtZT12YWx1ZTsgbmFtZTI9dmFsdWUyOyBuYW1lMz12YWx1ZTMnXG4gICAqIGNvbnN0IGNvb2tpZXMgPSBjb29raWVIZWFkZXIuc3BsaXQoJzsnKS5tYXAoQ29va2llLnBhcnNlKVxuICAgKiBjb29raWVzWzBdLm5hbWUgPT09ICduYW1lJ1xuICAgKiBjb29raWVzWzBdLnZhbHVlID09PSAndmFsdWUnXG4gICAqIGNvb2tpZXNbMV0ubmFtZSA9PT0gJ25hbWUyJ1xuICAgKiBjb29raWVzWzFdLnZhbHVlID09PSAndmFsdWUyJ1xuICAgKiBjb29raWVzWzJdLm5hbWUgPT09ICduYW1lMydcbiAgICogY29va2llc1syXS52YWx1ZSA9PT0gJ3ZhbHVlMydcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBzdHIgLSBUaGUgYFNldC1Db29raWVgIGhlYWRlciBvciBhIENvb2tpZSBzdHJpbmcgdG8gcGFyc2UuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJlcyBgc3RyaWN0YCBvciBgbG9vc2VgIG1vZGUgZm9yIGNvb2tpZSBwYXJzaW5nXG4gICAqL1xuICBzdGF0aWMgcGFyc2Uoc3RyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHBhcnNlKHN0ciwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIERvZXMgdGhlIHJldmVyc2Ugb2Yge0BsaW5rIENvb2tpZS50b0pTT059LlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiBBbnkgRGF0ZSBwcm9wZXJ0aWVzIChzdWNoIGFzIC5leHBpcmVzLCAuY3JlYXRpb24sIGFuZCAubGFzdEFjY2Vzc2VkKSBhcmUgcGFyc2VkIHZpYSBEYXRlLnBhcnNlLCBub3QgdG91Z2gtY29va2llJ3MgcGFyc2VEYXRlLCBzaW5jZSBJU08gdGltZXN0YW1wcyBhcmUgYmVpbmcgaGFuZGxlZCBhdCB0aGlzIGxheWVyLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGBcbiAgICogY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICogICBrZXk6ICdhbHBoYScsXG4gICAqICAgdmFsdWU6ICdiZXRhJyxcbiAgICogICBkb21haW46ICdleGFtcGxlLmNvbScsXG4gICAqICAgcGF0aDogJy9mb28nLFxuICAgKiAgIGV4cGlyZXM6ICcyMDM4LTAxLTE5VDAzOjE0OjA3LjAwMFonLFxuICAgKiB9KVxuICAgKiBjb25zdCBjb29raWUgPSBDb29raWUuZnJvbUpTT04oanNvbilcbiAgICogY29va2llLmtleSA9PT0gJ2FscGhhJ1xuICAgKiBjb29raWUudmFsdWUgPT09ICdiZXRhJ1xuICAgKiBjb29raWUuZG9tYWluID09PSAnZXhhbXBsZS5jb20nXG4gICAqIGNvb2tpZS5wYXRoID09PSAnL2ZvbydcbiAgICogY29va2llLmV4cGlyZXMgPT09IG5ldyBEYXRlKERhdGUucGFyc2UoJzIwMzgtMDEtMTlUMDM6MTQ6MDcuMDAwWicpKVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHN0ciAtIEFuIHVucGFyc2VkIEpTT04gc3RyaW5nIG9yIGEgdmFsdWUgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIHBhcnNlZCBhcyBKU09OXG4gICAqL1xuICBzdGF0aWMgZnJvbUpTT04oc3RyKSB7XG4gICAgcmV0dXJuIGZyb21KU09OKHN0cik7XG4gIH1cbn07XG5fQ29va2llLmNvb2tpZXNDcmVhdGVkID0gMDtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbl9Db29raWUuc2FtZVNpdGVMZXZlbCA9IHtcbiAgc3RyaWN0OiAzLFxuICBsYXg6IDIsXG4gIG5vbmU6IDFcbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5fQ29va2llLnNhbWVTaXRlQ2Fub25pY2FsID0ge1xuICBzdHJpY3Q6IFwiU3RyaWN0XCIsXG4gIGxheDogXCJMYXhcIlxufTtcbi8qKlxuICogQ29va2llIHByb3BlcnRpZXMgdGhhdCB3aWxsIGJlIHNlcmlhbGl6ZWQgd2hlbiB1c2luZyB7QGxpbmsgQ29va2llLmZyb21KU09OfSBhbmQge0BsaW5rIENvb2tpZS50b0pTT059LlxuICogQHB1YmxpY1xuICovXG5fQ29va2llLnNlcmlhbGl6YWJsZVByb3BlcnRpZXMgPSBbXG4gIFwia2V5XCIsXG4gIFwidmFsdWVcIixcbiAgXCJleHBpcmVzXCIsXG4gIFwibWF4QWdlXCIsXG4gIFwiZG9tYWluXCIsXG4gIFwicGF0aFwiLFxuICBcInNlY3VyZVwiLFxuICBcImh0dHBPbmx5XCIsXG4gIFwiZXh0ZW5zaW9uc1wiLFxuICBcImhvc3RPbmx5XCIsXG4gIFwicGF0aElzRGVmYXVsdFwiLFxuICBcImNyZWF0aW9uXCIsXG4gIFwibGFzdEFjY2Vzc2VkXCIsXG4gIFwic2FtZVNpdGVcIlxuXTtcbnZhciBDb29raWUgPSBfQ29va2llO1xuXG4vLyBsaWIvY29va2llL2Nvb2tpZUNvbXBhcmUudHNcbnZhciBNQVhfVElNRSA9IDIxNDc0ODM2NDdlMztcbmZ1bmN0aW9uIGNvb2tpZUNvbXBhcmUoYSwgYikge1xuICBsZXQgY21wO1xuICBjb25zdCBhUGF0aExlbiA9IGEucGF0aCA/IGEucGF0aC5sZW5ndGggOiAwO1xuICBjb25zdCBiUGF0aExlbiA9IGIucGF0aCA/IGIucGF0aC5sZW5ndGggOiAwO1xuICBjbXAgPSBiUGF0aExlbiAtIGFQYXRoTGVuO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuICBjb25zdCBhVGltZSA9IGEuY3JlYXRpb24gJiYgYS5jcmVhdGlvbiBpbnN0YW5jZW9mIERhdGUgPyBhLmNyZWF0aW9uLmdldFRpbWUoKSA6IE1BWF9USU1FO1xuICBjb25zdCBiVGltZSA9IGIuY3JlYXRpb24gJiYgYi5jcmVhdGlvbiBpbnN0YW5jZW9mIERhdGUgPyBiLmNyZWF0aW9uLmdldFRpbWUoKSA6IE1BWF9USU1FO1xuICBjbXAgPSBhVGltZSAtIGJUaW1lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuICBjbXAgPSAoYS5jcmVhdGlvbkluZGV4IHx8IDApIC0gKGIuY3JlYXRpb25JbmRleCB8fCAwKTtcbiAgcmV0dXJuIGNtcDtcbn1cblxuLy8gbGliL2Nvb2tpZS9kZWZhdWx0UGF0aC50c1xuZnVuY3Rpb24gZGVmYXVsdFBhdGgocGF0aCkge1xuICBpZiAoIXBhdGggfHwgcGF0aC5zbGljZSgwLCAxKSAhPT0gXCIvXCIpIHtcbiAgICByZXR1cm4gXCIvXCI7XG4gIH1cbiAgaWYgKHBhdGggPT09IFwiL1wiKSB7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbiAgY29uc3QgcmlnaHRTbGFzaCA9IHBhdGgubGFzdEluZGV4T2YoXCIvXCIpO1xuICBpZiAocmlnaHRTbGFzaCA9PT0gMCkge1xuICAgIHJldHVybiBcIi9cIjtcbiAgfVxuICByZXR1cm4gcGF0aC5zbGljZSgwLCByaWdodFNsYXNoKTtcbn1cblxuLy8gbGliL2Nvb2tpZS9kb21haW5NYXRjaC50c1xudmFyIElQX1JFR0VYX0xPV0VSQ0FTRSA9IC8oPzpeKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKXszfSQpfCg/Ol4oPzooPzpbYS1mXFxkXXsxLDR9Oil7N30oPzpbYS1mXFxkXXsxLDR9fDopfCg/OlthLWZcXGRdezEsNH06KXs2fSg/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV1cXGR8XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV1cXGR8XFxkKSl7M318OlthLWZcXGRdezEsNH18Oil8KD86W2EtZlxcZF17MSw0fTopezV9KD86Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV1cXGR8XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV1cXGR8XFxkKSl7M318KD86OlthLWZcXGRdezEsNH0pezEsMn18Oil8KD86W2EtZlxcZF17MSw0fTopezR9KD86KD86OlthLWZcXGRdezEsNH0pezAsMX06KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKXszfXwoPzo6W2EtZlxcZF17MSw0fSl7MSwzfXw6KXwoPzpbYS1mXFxkXXsxLDR9Oil7M30oPzooPzo6W2EtZlxcZF17MSw0fSl7MCwyfTooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldXFxkfFxcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldXFxkfFxcZCkpezN9fCg/OjpbYS1mXFxkXXsxLDR9KXsxLDR9fDopfCg/OlthLWZcXGRdezEsNH06KXsyfSg/Oig/OjpbYS1mXFxkXXsxLDR9KXswLDN9Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV1cXGR8XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV1cXGR8XFxkKSl7M318KD86OlthLWZcXGRdezEsNH0pezEsNX18Oil8KD86W2EtZlxcZF17MSw0fTopezF9KD86KD86OlthLWZcXGRdezEsNH0pezAsNH06KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKXszfXwoPzo6W2EtZlxcZF17MSw0fSl7MSw2fXw6KXwoPzo6KD86KD86OlthLWZcXGRdezEsNH0pezAsNX06KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XVxcZHxcXGQpKXszfXwoPzo6W2EtZlxcZF17MSw0fSl7MSw3fXw6KSkpJCkvO1xuZnVuY3Rpb24gZG9tYWluTWF0Y2goZG9tYWluLCBjb29raWVEb21haW4sIGNhbm9uaWNhbGl6ZSkge1xuICBpZiAoZG9tYWluID09IG51bGwgfHwgY29va2llRG9tYWluID09IG51bGwpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGxldCBfc3RyO1xuICBsZXQgX2RvbVN0cjtcbiAgaWYgKGNhbm9uaWNhbGl6ZSAhPT0gZmFsc2UpIHtcbiAgICBfc3RyID0gY2Fub25pY2FsRG9tYWluKGRvbWFpbik7XG4gICAgX2RvbVN0ciA9IGNhbm9uaWNhbERvbWFpbihjb29raWVEb21haW4pO1xuICB9IGVsc2Uge1xuICAgIF9zdHIgPSBkb21haW47XG4gICAgX2RvbVN0ciA9IGNvb2tpZURvbWFpbjtcbiAgfVxuICBpZiAoX3N0ciA9PSBudWxsIHx8IF9kb21TdHIgPT0gbnVsbCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgaWYgKF9zdHIgPT0gX2RvbVN0cikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IGlkeCA9IF9zdHIubGFzdEluZGV4T2YoX2RvbVN0cik7XG4gIGlmIChpZHggPD0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoX3N0ci5sZW5ndGggIT09IF9kb21TdHIubGVuZ3RoICsgaWR4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChfc3RyLnN1YnN0cmluZyhpZHggLSAxLCBpZHgpICE9PSBcIi5cIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gIUlQX1JFR0VYX0xPV0VSQ0FTRS50ZXN0KF9zdHIpO1xufVxuXG4vLyBsaWIvY29va2llL3NlY3VyZUNvbnRleHQudHNcbmZ1bmN0aW9uIGlzTG9vcGJhY2tWNChhZGRyZXNzKSB7XG4gIGNvbnN0IG9jdGV0cyA9IGFkZHJlc3Muc3BsaXQoXCIuXCIpO1xuICByZXR1cm4gb2N0ZXRzLmxlbmd0aCA9PT0gNCAmJiBvY3RldHNbMF0gIT09IHZvaWQgMCAmJiBwYXJzZUludChvY3RldHNbMF0sIDEwKSA9PT0gMTI3O1xufVxuZnVuY3Rpb24gaXNMb29wYmFja1Y2KGFkZHJlc3MpIHtcbiAgcmV0dXJuIGFkZHJlc3MgPT09IFwiOjoxXCI7XG59XG5mdW5jdGlvbiBpc05vcm1hbGl6ZWRMb2NhbGhvc3RUTEQobG93ZXJIb3N0KSB7XG4gIHJldHVybiBsb3dlckhvc3QuZW5kc1dpdGgoXCIubG9jYWxob3N0XCIpO1xufVxuZnVuY3Rpb24gaXNMb2NhbEhvc3RuYW1lKGhvc3QpIHtcbiAgY29uc3QgbG93ZXJIb3N0ID0gaG9zdC50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gbG93ZXJIb3N0ID09PSBcImxvY2FsaG9zdFwiIHx8IGlzTm9ybWFsaXplZExvY2FsaG9zdFRMRChsb3dlckhvc3QpO1xufVxuZnVuY3Rpb24gaG9zdE5vQnJhY2tldHMoaG9zdCkge1xuICBpZiAoaG9zdC5sZW5ndGggPj0gMiAmJiBob3N0LnN0YXJ0c1dpdGgoXCJbXCIpICYmIGhvc3QuZW5kc1dpdGgoXCJdXCIpKSB7XG4gICAgcmV0dXJuIGhvc3Quc3Vic3RyaW5nKDEsIGhvc3QubGVuZ3RoIC0gMSk7XG4gIH1cbiAgcmV0dXJuIGhvc3Q7XG59XG5mdW5jdGlvbiBpc1BvdGVudGlhbGx5VHJ1c3R3b3J0aHkoaW5wdXRVcmwsIGFsbG93U2VjdXJlT25Mb2NhbCA9IHRydWUpIHtcbiAgbGV0IHVybDtcbiAgaWYgKHR5cGVvZiBpbnB1dFVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRyeSB7XG4gICAgICB1cmwgPSBuZXcgVVJMKGlucHV0VXJsKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdXJsID0gaW5wdXRVcmw7XG4gIH1cbiAgY29uc3Qgc2NoZW1lID0gdXJsLnByb3RvY29sLnJlcGxhY2UoXCI6XCIsIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGhvc3RuYW1lID0gaG9zdE5vQnJhY2tldHModXJsLmhvc3RuYW1lKS5yZXBsYWNlKC9cXC4rJC8sIFwiXCIpO1xuICBpZiAoc2NoZW1lID09PSBcImh0dHBzXCIgfHwgc2NoZW1lID09PSBcIndzc1wiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFhbGxvd1NlY3VyZU9uTG9jYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKElQX1Y0X1JFR0VYX09CSkVDVC50ZXN0KGhvc3RuYW1lKSkge1xuICAgIHJldHVybiBpc0xvb3BiYWNrVjQoaG9zdG5hbWUpO1xuICB9XG4gIGlmIChJUF9WNl9SRUdFWF9PQkpFQ1QudGVzdChob3N0bmFtZSkpIHtcbiAgICByZXR1cm4gaXNMb29wYmFja1Y2KGhvc3RuYW1lKTtcbiAgfVxuICByZXR1cm4gaXNMb2NhbEhvc3RuYW1lKGhvc3RuYW1lKTtcbn1cblxuLy8gbGliL2Nvb2tpZS9jb29raWVKYXIudHNcbnZhciBkZWZhdWx0U2V0Q29va2llT3B0aW9ucyA9IHtcbiAgbG9vc2U6IGZhbHNlLFxuICBzYW1lU2l0ZUNvbnRleHQ6IHZvaWQgMCxcbiAgaWdub3JlRXJyb3I6IGZhbHNlLFxuICBodHRwOiB0cnVlXG59O1xudmFyIGRlZmF1bHRHZXRDb29raWVPcHRpb25zID0ge1xuICBodHRwOiB0cnVlLFxuICBleHBpcmU6IHRydWUsXG4gIGFsbFBhdGhzOiBmYWxzZSxcbiAgc2FtZVNpdGVDb250ZXh0OiB2b2lkIDAsXG4gIHNvcnQ6IHZvaWQgMFxufTtcbnZhciBTQU1FX1NJVEVfQ09OVEVYVF9WQUxfRVJSID0gJ0ludmFsaWQgc2FtZVNpdGVDb250ZXh0IG9wdGlvbiBmb3IgZ2V0Q29va2llcygpOyBleHBlY3RlZCBvbmUgb2YgXCJzdHJpY3RcIiwgXCJsYXhcIiwgb3IgXCJub25lXCInO1xuZnVuY3Rpb24gZ2V0Q29va2llQ29udGV4dCh1cmwpIHtcbiAgaWYgKHVybCAmJiB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICYmIFwiaG9zdG5hbWVcIiBpbiB1cmwgJiYgdHlwZW9mIHVybC5ob3N0bmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBcInBhdGhuYW1lXCIgaW4gdXJsICYmIHR5cGVvZiB1cmwucGF0aG5hbWUgPT09IFwic3RyaW5nXCIgJiYgXCJwcm90b2NvbFwiIGluIHVybCAmJiB0eXBlb2YgdXJsLnByb3RvY29sID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhvc3RuYW1lOiB1cmwuaG9zdG5hbWUsXG4gICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgcHJvdG9jb2w6IHVybC5wcm90b2NvbFxuICAgIH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IFVSTChkZWNvZGVVUkkodXJsKSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbmV3IFVSTCh1cmwpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgUGFyYW1ldGVyRXJyb3IoXCJgdXJsYCBhcmd1bWVudCBpcyBub3QgYSBzdHJpbmcgb3IgVVJMLlwiKTtcbiAgfVxufVxuZnVuY3Rpb24gY2hlY2tTYW1lU2l0ZUNvbnRleHQodmFsdWUpIHtcbiAgY29uc3QgY29udGV4dCA9IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGNvbnRleHQgPT09IFwibm9uZVwiIHx8IGNvbnRleHQgPT09IFwibGF4XCIgfHwgY29udGV4dCA9PT0gXCJzdHJpY3RcIikge1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU2VjdXJlUHJlZml4Q29uZGl0aW9uTWV0KGNvb2tpZSkge1xuICBjb25zdCBzdGFydHNXaXRoU2VjdXJlUHJlZml4ID0gdHlwZW9mIGNvb2tpZS5rZXkgPT09IFwic3RyaW5nXCIgJiYgY29va2llLmtleS5zdGFydHNXaXRoKFwiX19TZWN1cmUtXCIpO1xuICByZXR1cm4gIXN0YXJ0c1dpdGhTZWN1cmVQcmVmaXggfHwgY29va2llLnNlY3VyZTtcbn1cbmZ1bmN0aW9uIGlzSG9zdFByZWZpeENvbmRpdGlvbk1ldChjb29raWUpIHtcbiAgY29uc3Qgc3RhcnRzV2l0aEhvc3RQcmVmaXggPSB0eXBlb2YgY29va2llLmtleSA9PT0gXCJzdHJpbmdcIiAmJiBjb29raWUua2V5LnN0YXJ0c1dpdGgoXCJfX0hvc3QtXCIpO1xuICByZXR1cm4gIXN0YXJ0c1dpdGhIb3N0UHJlZml4IHx8IEJvb2xlYW4oXG4gICAgY29va2llLnNlY3VyZSAmJiBjb29raWUuaG9zdE9ubHkgJiYgY29va2llLnBhdGggIT0gbnVsbCAmJiBjb29raWUucGF0aCA9PT0gXCIvXCJcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRQcmVmaXhTZWN1cml0eShwcmVmaXhTZWN1cml0eSkge1xuICBjb25zdCBub3JtYWxpemVkUHJlZml4U2VjdXJpdHkgPSBwcmVmaXhTZWN1cml0eS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKG5vcm1hbGl6ZWRQcmVmaXhTZWN1cml0eSkge1xuICAgIGNhc2UgUHJlZml4U2VjdXJpdHlFbnVtLlNUUklDVDpcbiAgICBjYXNlIFByZWZpeFNlY3VyaXR5RW51bS5TSUxFTlQ6XG4gICAgY2FzZSBQcmVmaXhTZWN1cml0eUVudW0uRElTQUJMRUQ6XG4gICAgICByZXR1cm4gbm9ybWFsaXplZFByZWZpeFNlY3VyaXR5O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gUHJlZml4U2VjdXJpdHlFbnVtLlNJTEVOVDtcbiAgfVxufVxudmFyIENvb2tpZUphciA9IGNsYXNzIF9Db29raWVKYXIge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgQ29va2llSmFyYCBpbnN0YW5jZS5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogLSBJZiBhIGN1c3RvbSBzdG9yZSBpcyBub3QgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciwgYW4gaW4tbWVtb3J5IHN0b3JlICh7QGxpbmsgTWVtb3J5Q29va2llU3RvcmV9IHdpbGwgYmUgY3JlYXRlZCBhbmQgdXNlZC5cbiAgICogLSBJZiBhIGJvb2xlYW4gdmFsdWUgaXMgcGFzc2VkIGFzIHRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyLCB0aGlzIGlzIGVxdWl2YWxlbnQgdG8gcGFzc2luZyBgeyByZWplY3RQdWJsaWNTdWZmaXhlczogPHZhbHVlPiB9YFxuICAgKlxuICAgKiBAcGFyYW0gc3RvcmUgLSBhIGN1c3RvbSB7QGxpbmsgU3RvcmV9IGltcGxlbWVudGF0aW9uIChkZWZhdWx0cyB0byB7QGxpbmsgTWVtb3J5Q29va2llU3RvcmV9KVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIGNvbmZpZ3VyZXMgaG93IGNvb2tpZXMgYXJlIHByb2Nlc3NlZCBieSB0aGUgY29va2llIGphclxuICAgKi9cbiAgY29uc3RydWN0b3Ioc3RvcmUsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICBvcHRpb25zID0geyByZWplY3RQdWJsaWNTdWZmaXhlczogb3B0aW9ucyB9O1xuICAgIH1cbiAgICB0aGlzLnJlamVjdFB1YmxpY1N1ZmZpeGVzID0gb3B0aW9ucz8ucmVqZWN0UHVibGljU3VmZml4ZXMgPz8gdHJ1ZTtcbiAgICB0aGlzLmVuYWJsZUxvb3NlTW9kZSA9IG9wdGlvbnM/Lmxvb3NlTW9kZSA/PyBmYWxzZTtcbiAgICB0aGlzLmFsbG93U3BlY2lhbFVzZURvbWFpbiA9IG9wdGlvbnM/LmFsbG93U3BlY2lhbFVzZURvbWFpbiA/PyB0cnVlO1xuICAgIHRoaXMuYWxsb3dTZWN1cmVPbkxvY2FsID0gb3B0aW9ucz8uYWxsb3dTZWN1cmVPbkxvY2FsID8/IHRydWU7XG4gICAgdGhpcy5wcmVmaXhTZWN1cml0eSA9IGdldE5vcm1hbGl6ZWRQcmVmaXhTZWN1cml0eShcbiAgICAgIG9wdGlvbnM/LnByZWZpeFNlY3VyaXR5ID8/IFwic2lsZW50XCJcbiAgICApO1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZSA/PyBuZXcgTWVtb3J5Q29va2llU3RvcmUoKTtcbiAgfVxuICBjYWxsU3luYyhmbikge1xuICAgIGlmICghdGhpcy5zdG9yZS5zeW5jaHJvbm91cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNvb2tpZUphciBzdG9yZSBpcyBub3Qgc3luY2hyb25vdXM7IHVzZSBhc3luYyBBUEkgaW5zdGVhZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHN5bmNFcnIgPSBudWxsO1xuICAgIGxldCBzeW5jUmVzdWx0ID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICBmbi5jYWxsKHRoaXMsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIHN5bmNFcnIgPSBlcnJvcjtcbiAgICAgICAgc3luY1Jlc3VsdCA9IHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgc3luY0VyciA9IGVycjtcbiAgICB9XG4gICAgaWYgKHN5bmNFcnIpIHRocm93IHN5bmNFcnI7XG4gICAgcmV0dXJuIHN5bmNSZXN1bHQ7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIHRoZSBvdmVybG9hZCBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgc2V0Q29va2llKGNvb2tpZSwgdXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCBwcm9taXNlQ2FsbGJhY2sgPSBjcmVhdGVQcm9taXNlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIGNvbnN0IGNiID0gcHJvbWlzZUNhbGxiYWNrLmNhbGxiYWNrO1xuICAgIGxldCBjb250ZXh0O1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YWxpZGF0ZShcbiAgICAgICAgICBpc05vbkVtcHR5U3RyaW5nKHVybCksXG4gICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgc2FmZVRvU3RyaW5nKG9wdGlvbnMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb250ZXh0ID0gZ2V0Q29va2llQ29udGV4dCh1cmwpO1xuICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlamVjdChuZXcgRXJyb3IoXCJObyBVUkwgd2FzIHNwZWNpZmllZFwiKSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvcHRpb25zID0gZGVmYXVsdFNldENvb2tpZU9wdGlvbnM7XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZSh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIiwgY2IpO1xuICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKGNvb2tpZSkgJiYgIWlzT2JqZWN0KGNvb2tpZSkgJiYgY29va2llIGluc3RhbmNlb2YgU3RyaW5nICYmIGNvb2tpZS5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUodm9pZCAwKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KGVycik7XG4gICAgfVxuICAgIGNvbnN0IGhvc3QgPSBjYW5vbmljYWxEb21haW4oY29udGV4dC5ob3N0bmFtZSkgPz8gbnVsbDtcbiAgICBjb25zdCBsb29zZSA9IG9wdGlvbnM/Lmxvb3NlIHx8IHRoaXMuZW5hYmxlTG9vc2VNb2RlO1xuICAgIGxldCBzYW1lU2l0ZUNvbnRleHQgPSBudWxsO1xuICAgIGlmIChvcHRpb25zPy5zYW1lU2l0ZUNvbnRleHQpIHtcbiAgICAgIHNhbWVTaXRlQ29udGV4dCA9IGNoZWNrU2FtZVNpdGVDb250ZXh0KG9wdGlvbnMuc2FtZVNpdGVDb250ZXh0KTtcbiAgICAgIGlmICghc2FtZVNpdGVDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KG5ldyBFcnJvcihTQU1FX1NJVEVfQ09OVEVYVF9WQUxfRVJSKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29va2llID09PSBcInN0cmluZ1wiIHx8IGNvb2tpZSBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgY29uc3QgcGFyc2VkQ29va2llID0gQ29va2llLnBhcnNlKGNvb2tpZS50b1N0cmluZygpLCB7IGxvb3NlIH0pO1xuICAgICAgaWYgKCFwYXJzZWRDb29raWUpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwiQ29va2llIGZhaWxlZCB0byBwYXJzZVwiKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM/Lmlnbm9yZUVycm9yID8gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUodm9pZCAwKSA6IHByb21pc2VDYWxsYmFjay5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICAgIGNvb2tpZSA9IHBhcnNlZENvb2tpZTtcbiAgICB9IGVsc2UgaWYgKCEoY29va2llIGluc3RhbmNlb2YgQ29va2llKSkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICBcIkZpcnN0IGFyZ3VtZW50IHRvIHNldENvb2tpZSBtdXN0IGJlIGEgQ29va2llIG9iamVjdCBvciBzdHJpbmdcIlxuICAgICAgKTtcbiAgICAgIHJldHVybiBvcHRpb25zPy5pZ25vcmVFcnJvciA/IHByb21pc2VDYWxsYmFjay5yZXNvbHZlKHZvaWQgMCkgOiBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KGVycik7XG4gICAgfVxuICAgIGNvbnN0IG5vdyA9IG9wdGlvbnM/Lm5vdyB8fCAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICBpZiAodGhpcy5yZWplY3RQdWJsaWNTdWZmaXhlcyAmJiBjb29raWUuZG9tYWluKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjZG9tYWluID0gY29va2llLmNkb21haW4oKTtcbiAgICAgICAgY29uc3Qgc3VmZml4ID0gdHlwZW9mIGNkb21haW4gPT09IFwic3RyaW5nXCIgPyBnZXRQdWJsaWNTdWZmaXgoY2RvbWFpbiwge1xuICAgICAgICAgIGFsbG93U3BlY2lhbFVzZURvbWFpbjogdGhpcy5hbGxvd1NwZWNpYWxVc2VEb21haW4sXG4gICAgICAgICAgaWdub3JlRXJyb3I6IG9wdGlvbnM/Lmlnbm9yZUVycm9yXG4gICAgICAgIH0pIDogbnVsbDtcbiAgICAgICAgaWYgKHN1ZmZpeCA9PSBudWxsICYmICFJUF9WNl9SRUdFWF9PQkpFQ1QudGVzdChjb29raWUuZG9tYWluKSkge1xuICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcIkNvb2tpZSBoYXMgZG9tYWluIHNldCB0byBhIHB1YmxpYyBzdWZmaXhcIik7XG4gICAgICAgICAgcmV0dXJuIG9wdGlvbnM/Lmlnbm9yZUVycm9yID8gcHJvbWlzZUNhbGxiYWNrLnJlc29sdmUodm9pZCAwKSA6IHByb21pc2VDYWxsYmFjay5yZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zPy5pZ25vcmVFcnJvciA/IHByb21pc2VDYWxsYmFjay5yZXNvbHZlKHZvaWQgMCkgOiAoXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgICAgICAgICBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KGVycilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvb2tpZS5kb21haW4pIHtcbiAgICAgIGlmICghZG9tYWluTWF0Y2goaG9zdCA/PyB2b2lkIDAsIGNvb2tpZS5jZG9tYWluKCkgPz8gdm9pZCAwLCBmYWxzZSkpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgIGBDb29raWUgbm90IGluIHRoaXMgaG9zdCdzIGRvbWFpbi4gQ29va2llOiR7Y29va2llLmNkb21haW4oKSA/PyBcIm51bGxcIn0gUmVxdWVzdDoke2hvc3QgPz8gXCJudWxsXCJ9YFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gb3B0aW9ucz8uaWdub3JlRXJyb3IgPyBwcm9taXNlQ2FsbGJhY2sucmVzb2x2ZSh2b2lkIDApIDogcHJvbWlzZUNhbGxiYWNrLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgICAgaWYgKGNvb2tpZS5ob3N0T25seSA9PSBudWxsKSB7XG4gICAgICAgIGNvb2tpZS5ob3N0T25seSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb29raWUuaG9zdE9ubHkgPSB0cnVlO1xuICAgICAgY29va2llLmRvbWFpbiA9IGhvc3Q7XG4gICAgfVxuICAgIGlmICghY29va2llLnBhdGggfHwgY29va2llLnBhdGhbMF0gIT09IFwiL1wiKSB7XG4gICAgICBjb29raWUucGF0aCA9IGRlZmF1bHRQYXRoKGNvbnRleHQucGF0aG5hbWUpO1xuICAgICAgY29va2llLnBhdGhJc0RlZmF1bHQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucz8uaHR0cCA9PT0gZmFsc2UgJiYgY29va2llLmh0dHBPbmx5KSB7XG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXCJDb29raWUgaXMgSHR0cE9ubHkgYW5kIHRoaXMgaXNuJ3QgYW4gSFRUUCBBUElcIik7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pZ25vcmVFcnJvciA/IHByb21pc2VDYWxsYmFjay5yZXNvbHZlKHZvaWQgMCkgOiBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KGVycik7XG4gICAgfVxuICAgIGlmIChjb29raWUuc2FtZVNpdGUgIT09IFwibm9uZVwiICYmIGNvb2tpZS5zYW1lU2l0ZSAhPT0gdm9pZCAwICYmIHNhbWVTaXRlQ29udGV4dCkge1xuICAgICAgaWYgKHNhbWVTaXRlQ29udGV4dCA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgIFwiQ29va2llIGlzIFNhbWVTaXRlIGJ1dCB0aGlzIGlzIGEgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RcIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gb3B0aW9ucz8uaWdub3JlRXJyb3IgPyBwcm9taXNlQ2FsbGJhY2sucmVzb2x2ZSh2b2lkIDApIDogcHJvbWlzZUNhbGxiYWNrLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpZ25vcmVFcnJvckZvclByZWZpeFNlY3VyaXR5ID0gdGhpcy5wcmVmaXhTZWN1cml0eSA9PT0gUHJlZml4U2VjdXJpdHlFbnVtLlNJTEVOVDtcbiAgICBjb25zdCBwcmVmaXhTZWN1cml0eURpc2FibGVkID0gdGhpcy5wcmVmaXhTZWN1cml0eSA9PT0gUHJlZml4U2VjdXJpdHlFbnVtLkRJU0FCTEVEO1xuICAgIGlmICghcHJlZml4U2VjdXJpdHlEaXNhYmxlZCkge1xuICAgICAgbGV0IGVycm9yRm91bmQgPSBmYWxzZTtcbiAgICAgIGxldCBlcnJvck1zZztcbiAgICAgIGlmICghaXNTZWN1cmVQcmVmaXhDb25kaXRpb25NZXQoY29va2llKSkge1xuICAgICAgICBlcnJvckZvdW5kID0gdHJ1ZTtcbiAgICAgICAgZXJyb3JNc2cgPSBcIkNvb2tpZSBoYXMgX19TZWN1cmUgcHJlZml4IGJ1dCBTZWN1cmUgYXR0cmlidXRlIGlzIG5vdCBzZXRcIjtcbiAgICAgIH0gZWxzZSBpZiAoIWlzSG9zdFByZWZpeENvbmRpdGlvbk1ldChjb29raWUpKSB7XG4gICAgICAgIGVycm9yRm91bmQgPSB0cnVlO1xuICAgICAgICBlcnJvck1zZyA9IFwiQ29va2llIGhhcyBfX0hvc3QgcHJlZml4IGJ1dCBlaXRoZXIgU2VjdXJlIG9yIEhvc3RPbmx5IGF0dHJpYnV0ZSBpcyBub3Qgc2V0IG9yIFBhdGggaXMgbm90ICcvJ1wiO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9yRm91bmQpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM/Lmlnbm9yZUVycm9yIHx8IGlnbm9yZUVycm9yRm9yUHJlZml4U2VjdXJpdHkgPyBwcm9taXNlQ2FsbGJhY2sucmVzb2x2ZSh2b2lkIDApIDogcHJvbWlzZUNhbGxiYWNrLnJlamVjdChuZXcgRXJyb3IoZXJyb3JNc2cpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgIGlmICghc3RvcmUudXBkYXRlQ29va2llKSB7XG4gICAgICBzdG9yZS51cGRhdGVDb29raWUgPSBhc3luYyBmdW5jdGlvbihfb2xkQ29va2llLCBuZXdDb29raWUsIGNiMikge1xuICAgICAgICByZXR1cm4gdGhpcy5wdXRDb29raWUobmV3Q29va2llKS50aGVuKFxuICAgICAgICAgICgpID0+IGNiMj8uKG51bGwpLFxuICAgICAgICAgIChlcnJvcikgPT4gY2IyPy4oZXJyb3IpXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB3aXRoQ29va2llID0gZnVuY3Rpb24gd2l0aENvb2tpZTIoZXJyLCBvbGRDb29raWUpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV4dCA9IGZ1bmN0aW9uKGVycjIpIHtcbiAgICAgICAgaWYgKGVycjIpIHtcbiAgICAgICAgICBjYihlcnIyKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29va2llID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY2IobnVsbCwgdm9pZCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYihudWxsLCBjb29raWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKG9sZENvb2tpZSkge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBcImh0dHBcIiBpbiBvcHRpb25zICYmIG9wdGlvbnMuaHR0cCA9PT0gZmFsc2UgJiYgb2xkQ29va2llLmh0dHBPbmx5KSB7XG4gICAgICAgICAgZXJyID0gbmV3IEVycm9yKFwib2xkIENvb2tpZSBpcyBIdHRwT25seSBhbmQgdGhpcyBpc24ndCBhbiBIVFRQIEFQSVwiKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5pZ25vcmVFcnJvcikgY2IobnVsbCwgdm9pZCAwKTtcbiAgICAgICAgICBlbHNlIGNiKGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb29raWUgaW5zdGFuY2VvZiBDb29raWUpIHtcbiAgICAgICAgICBjb29raWUuY3JlYXRpb24gPSBvbGRDb29raWUuY3JlYXRpb247XG4gICAgICAgICAgY29va2llLmNyZWF0aW9uSW5kZXggPSBvbGRDb29raWUuY3JlYXRpb25JbmRleDtcbiAgICAgICAgICBjb29raWUubGFzdEFjY2Vzc2VkID0gbm93O1xuICAgICAgICAgIHN0b3JlLnVwZGF0ZUNvb2tpZShvbGRDb29raWUsIGNvb2tpZSwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb29raWUgaW5zdGFuY2VvZiBDb29raWUpIHtcbiAgICAgICAgICBjb29raWUuY3JlYXRpb24gPSBjb29raWUubGFzdEFjY2Vzc2VkID0gbm93O1xuICAgICAgICAgIHN0b3JlLnB1dENvb2tpZShjb29raWUsIG5leHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBzdG9yZS5maW5kQ29va2llKGNvb2tpZS5kb21haW4sIGNvb2tpZS5wYXRoLCBjb29raWUua2V5LCB3aXRoQ29va2llKTtcbiAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnByb21pc2U7XG4gIH1cbiAgLyoqXG4gICAqIFN5bmNocm9ub3VzbHkgYXR0ZW1wdCB0byBzZXQgdGhlIHtAbGluayBDb29raWV9IGluIHRoZSB7QGxpbmsgQ29va2llSmFyfS5cbiAgICpcbiAgICogPHN0cm9uZz5Ob3RlOjwvc3Ryb25nPiBPbmx5IHdvcmtzIGlmIHRoZSBjb25maWd1cmVkIHtAbGluayBTdG9yZX0gaXMgYWxzbyBzeW5jaHJvbm91cy5cbiAgICpcbiAgICogQHJlbWFya3NcbiAgICogLSBJZiBzdWNjZXNzZnVsbHkgcGVyc2lzdGVkLCB0aGUge0BsaW5rIENvb2tpZX0gd2lsbCBoYXZlIHVwZGF0ZWRcbiAgICogICAgIHtAbGluayBDb29raWUuY3JlYXRpb259LCB7QGxpbmsgQ29va2llLmxhc3RBY2Nlc3NlZH0gYW5kIHtAbGluayBDb29raWUuaG9zdE9ubHl9XG4gICAqICAgICBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiAtIEFzIHBlciB0aGUgUkZDLCB0aGUge0BsaW5rIENvb2tpZS5ob3N0T25seX0gZmxhZyBpcyBzZXQgaWYgdGhlcmUgd2FzIG5vIGBEb21haW49e3ZhbHVlfWBcbiAgICogICAgIGF0dHJpYnV0ZSBvbiB0aGUgY29va2llIHN0cmluZy4gVGhlIHtAbGluayBDb29raWUuZG9tYWlufSBwcm9wZXJ0eSBpcyBzZXQgdG8gdGhlXG4gICAqICAgICBmdWxseS1xdWFsaWZpZWQgaG9zdG5hbWUgb2YgYGN1cnJlbnRVcmxgIGluIHRoaXMgY2FzZS4gTWF0Y2hpbmcgdGhpcyBjb29raWUgcmVxdWlyZXMgYW5cbiAgICogICAgIGV4YWN0IGhvc3RuYW1lIG1hdGNoIChub3QgYSB7QGxpbmsgZG9tYWluTWF0Y2h9IGFzIHBlciB1c3VhbClcbiAgICpcbiAgICogQHBhcmFtIGNvb2tpZSAtIFRoZSBjb29raWUgb2JqZWN0IG9yIGNvb2tpZSBzdHJpbmcgdG8gc3RvcmUuIEEgc3RyaW5nIHZhbHVlIHdpbGwgYmUgcGFyc2VkIGludG8gYSBjb29raWUgdXNpbmcge0BsaW5rIENvb2tpZS5wYXJzZX0uXG4gICAqIEBwYXJhbSB1cmwgLSBUaGUgZG9tYWluIHRvIHN0b3JlIHRoZSBjb29raWUgd2l0aC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIHNldHRpbmdzIHRvIHVzZSB3aGVuIHN0b3JpbmcgdGhlIGNvb2tpZS5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2V0Q29va2llU3luYyhjb29raWUsIHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHNldENvb2tpZUZuID0gb3B0aW9ucyA/IHRoaXMuc2V0Q29va2llLmJpbmQodGhpcywgY29va2llLCB1cmwsIG9wdGlvbnMpIDogdGhpcy5zZXRDb29raWUuYmluZCh0aGlzLCBjb29raWUsIHVybCk7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFN5bmMoc2V0Q29va2llRm4pO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgTm8gZG9jIGJlY2F1c2UgdGhpcyBpcyB0aGUgb3ZlcmxvYWQgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGdldENvb2tpZXModXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gZGVmYXVsdEdldENvb2tpZU9wdGlvbnM7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0R2V0Q29va2llT3B0aW9ucztcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZUNhbGxiYWNrID0gY3JlYXRlUHJvbWlzZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICBjb25zdCBjYiA9IHByb21pc2VDYWxsYmFjay5jYWxsYmFjaztcbiAgICBsZXQgY29udGV4dDtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFsaWRhdGUoaXNOb25FbXB0eVN0cmluZyh1cmwpLCBjYiwgdXJsKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQgPSBnZXRDb29raWVDb250ZXh0KHVybCk7XG4gICAgICB2YWxpZGF0ZShcbiAgICAgICAgaXNPYmplY3Qob3B0aW9ucyksXG4gICAgICAgIGNiLFxuICAgICAgICBzYWZlVG9TdHJpbmcob3B0aW9ucylcbiAgICAgICk7XG4gICAgICB2YWxpZGF0ZSh0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIiwgY2IpO1xuICAgIH0gY2F0Y2ggKHBhcmFtZXRlckVycm9yKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnJlamVjdChwYXJhbWV0ZXJFcnJvcik7XG4gICAgfVxuICAgIGNvbnN0IGhvc3QgPSBjYW5vbmljYWxEb21haW4oY29udGV4dC5ob3N0bmFtZSk7XG4gICAgY29uc3QgcGF0aCA9IGNvbnRleHQucGF0aG5hbWUgfHwgXCIvXCI7XG4gICAgY29uc3QgcG90ZW50aWFsbHlUcnVzdHdvcnRoeSA9IGlzUG90ZW50aWFsbHlUcnVzdHdvcnRoeShcbiAgICAgIHVybCxcbiAgICAgIHRoaXMuYWxsb3dTZWN1cmVPbkxvY2FsXG4gICAgKTtcbiAgICBsZXQgc2FtZVNpdGVMZXZlbCA9IDA7XG4gICAgaWYgKG9wdGlvbnMuc2FtZVNpdGVDb250ZXh0KSB7XG4gICAgICBjb25zdCBzYW1lU2l0ZUNvbnRleHQgPSBjaGVja1NhbWVTaXRlQ29udGV4dChvcHRpb25zLnNhbWVTaXRlQ29udGV4dCk7XG4gICAgICBpZiAoc2FtZVNpdGVDb250ZXh0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5yZWplY3QobmV3IEVycm9yKFNBTUVfU0lURV9DT05URVhUX1ZBTF9FUlIpKTtcbiAgICAgIH1cbiAgICAgIHNhbWVTaXRlTGV2ZWwgPSBDb29raWUuc2FtZVNpdGVMZXZlbFtzYW1lU2l0ZUNvbnRleHRdO1xuICAgICAgaWYgKCFzYW1lU2l0ZUxldmVsKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KG5ldyBFcnJvcihTQU1FX1NJVEVfQ09OVEVYVF9WQUxfRVJSKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGh0dHAgPSBvcHRpb25zLmh0dHAgPz8gdHJ1ZTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGV4cGlyZUNoZWNrID0gb3B0aW9ucy5leHBpcmUgPz8gdHJ1ZTtcbiAgICBjb25zdCBhbGxQYXRocyA9IG9wdGlvbnMuYWxsUGF0aHMgPz8gZmFsc2U7XG4gICAgY29uc3Qgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgIGZ1bmN0aW9uIG1hdGNoaW5nQ29va2llKGMpIHtcbiAgICAgIGlmIChjLmhvc3RPbmx5KSB7XG4gICAgICAgIGlmIChjLmRvbWFpbiAhPSBob3N0KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWRvbWFpbk1hdGNoKGhvc3QgPz8gdm9pZCAwLCBjLmRvbWFpbiA/PyB2b2lkIDAsIGZhbHNlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFhbGxQYXRocyAmJiB0eXBlb2YgYy5wYXRoID09PSBcInN0cmluZ1wiICYmICFwYXRoTWF0Y2gocGF0aCwgYy5wYXRoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoYy5zZWN1cmUgJiYgIXBvdGVudGlhbGx5VHJ1c3R3b3J0aHkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGMuaHR0cE9ubHkgJiYgIWh0dHApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHNhbWVTaXRlTGV2ZWwpIHtcbiAgICAgICAgbGV0IGNvb2tpZUxldmVsO1xuICAgICAgICBpZiAoYy5zYW1lU2l0ZSA9PT0gXCJsYXhcIikge1xuICAgICAgICAgIGNvb2tpZUxldmVsID0gQ29va2llLnNhbWVTaXRlTGV2ZWwubGF4O1xuICAgICAgICB9IGVsc2UgaWYgKGMuc2FtZVNpdGUgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICBjb29raWVMZXZlbCA9IENvb2tpZS5zYW1lU2l0ZUxldmVsLnN0cmljdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb29raWVMZXZlbCA9IENvb2tpZS5zYW1lU2l0ZUxldmVsLm5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvb2tpZUxldmVsID4gc2FtZVNpdGVMZXZlbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZXhwaXJ5VGltZSA9IGMuZXhwaXJ5VGltZSgpO1xuICAgICAgaWYgKGV4cGlyZUNoZWNrICYmIGV4cGlyeVRpbWUgIT0gdm9pZCAwICYmIGV4cGlyeVRpbWUgPD0gbm93KSB7XG4gICAgICAgIHN0b3JlLnJlbW92ZUNvb2tpZShjLmRvbWFpbiwgYy5wYXRoLCBjLmtleSwgKCkgPT4ge1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHN0b3JlLmZpbmRDb29raWVzKFxuICAgICAgaG9zdCxcbiAgICAgIGFsbFBhdGhzID8gbnVsbCA6IHBhdGgsXG4gICAgICB0aGlzLmFsbG93U3BlY2lhbFVzZURvbWFpbixcbiAgICAgIChlcnIsIGNvb2tpZXMpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNiKGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb29raWVzID09IG51bGwpIHtcbiAgICAgICAgICBjYihudWxsLCBbXSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvb2tpZXMgPSBjb29raWVzLmZpbHRlcihtYXRjaGluZ0Nvb2tpZSk7XG4gICAgICAgIGlmIChcInNvcnRcIiBpbiBvcHRpb25zICYmIG9wdGlvbnMuc29ydCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBjb29raWVzID0gY29va2llcy5zb3J0KGNvb2tpZUNvbXBhcmUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vdzIgPSAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgICAgICAgZm9yIChjb25zdCBjb29raWUgb2YgY29va2llcykge1xuICAgICAgICAgIGNvb2tpZS5sYXN0QWNjZXNzZWQgPSBub3cyO1xuICAgICAgICB9XG4gICAgICAgIGNiKG51bGwsIGNvb2tpZXMpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5wcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBTeW5jaHJvbm91c2x5IHJldHJpZXZlIHRoZSBsaXN0IG9mIGNvb2tpZXMgdGhhdCBjYW4gYmUgc2VudCBpbiBhIENvb2tpZSBoZWFkZXIgZm9yIHRoZVxuICAgKiBjdXJyZW50IFVSTC5cbiAgICpcbiAgICogPHN0cm9uZz5Ob3RlPC9zdHJvbmc+OiBPbmx5IHdvcmtzIGlmIHRoZSBjb25maWd1cmVkIFN0b3JlIGlzIGFsc28gc3luY2hyb25vdXMuXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIC0gVGhlIGFycmF5IG9mIGNvb2tpZXMgcmV0dXJuZWQgd2lsbCBiZSBzb3J0ZWQgYWNjb3JkaW5nIHRvIHtAbGluayBjb29raWVDb21wYXJlfS5cbiAgICpcbiAgICogLSBUaGUge0BsaW5rIENvb2tpZS5sYXN0QWNjZXNzZWR9IHByb3BlcnR5IHdpbGwgYmUgdXBkYXRlZCBvbiBhbGwgcmV0dXJuZWQgY29va2llcy5cbiAgICpcbiAgICogQHBhcmFtIHVybCAtIFRoZSBkb21haW4gdG8gc3RvcmUgdGhlIGNvb2tpZSB3aXRoLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gc2V0dGluZ3MgdG8gdXNlIHdoZW4gcmV0cmlldmluZyB0aGUgY29va2llcy5cbiAgICovXG4gIGdldENvb2tpZXNTeW5jKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmNhbGxTeW5jKHRoaXMuZ2V0Q29va2llcy5iaW5kKHRoaXMsIHVybCwgb3B0aW9ucykpID8/IFtdO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWwgTm8gZG9jIGJlY2F1c2UgdGhpcyBpcyB0aGUgb3ZlcmxvYWQgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGdldENvb2tpZVN0cmluZyh1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2VDYWxsYmFjayA9IGNyZWF0ZVByb21pc2VDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgY29uc3QgbmV4dCA9IGZ1bmN0aW9uKGVyciwgY29va2llcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcm9taXNlQ2FsbGJhY2suY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2VDYWxsYmFjay5jYWxsYmFjayhcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGNvb2tpZXM/LnNvcnQoY29va2llQ29tcGFyZSkubWFwKChjKSA9PiBjLmNvb2tpZVN0cmluZygpKS5qb2luKFwiOyBcIilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0Q29va2llcyh1cmwsIG9wdGlvbnMsIG5leHQpO1xuICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucHJvbWlzZTtcbiAgfVxuICAvKipcbiAgICogU3luY2hyb25vdXMgdmVyc2lvbiBvZiBgLmdldENvb2tpZVN0cmluZygpYC4gQWNjZXB0cyB0aGUgc2FtZSBvcHRpb25zIGFzIGAuZ2V0Q29va2llcygpYCBidXQgcmV0dXJucyBhIHN0cmluZyBzdWl0YWJsZSBmb3IgYVxuICAgKiBgQ29va2llYCBoZWFkZXIgcmF0aGVyIHRoYW4gYW4gQXJyYXkuXG4gICAqXG4gICAqIDxzdHJvbmc+Tm90ZTwvc3Ryb25nPjogT25seSB3b3JrcyBpZiB0aGUgY29uZmlndXJlZCBTdG9yZSBpcyBhbHNvIHN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIC0gVGhlIGRvbWFpbiB0byBzdG9yZSB0aGUgY29va2llIHdpdGguXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBzZXR0aW5ncyB0byB1c2Ugd2hlbiByZXRyaWV2aW5nIHRoZSBjb29raWVzLlxuICAgKi9cbiAgZ2V0Q29va2llU3RyaW5nU3luYyh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsU3luYyhcbiAgICAgIG9wdGlvbnMgPyB0aGlzLmdldENvb2tpZVN0cmluZy5iaW5kKHRoaXMsIHVybCwgb3B0aW9ucykgOiB0aGlzLmdldENvb2tpZVN0cmluZy5iaW5kKHRoaXMsIHVybClcbiAgICApID8/IFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIHRoZSBvdmVybG9hZCBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgZ2V0U2V0Q29va2llU3RyaW5ncyh1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2VDYWxsYmFjayA9IGNyZWF0ZVByb21pc2VDYWxsYmFjayhcbiAgICAgIGNhbGxiYWNrXG4gICAgKTtcbiAgICBjb25zdCBuZXh0ID0gZnVuY3Rpb24oZXJyLCBjb29raWVzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByb21pc2VDYWxsYmFjay5jYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZUNhbGxiYWNrLmNhbGxiYWNrKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgY29va2llcz8ubWFwKChjKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYy50b1N0cmluZygpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldENvb2tpZXModXJsLCBvcHRpb25zLCBuZXh0KTtcbiAgICByZXR1cm4gcHJvbWlzZUNhbGxiYWNrLnByb21pc2U7XG4gIH1cbiAgLyoqXG4gICAqIFN5bmNocm9ub3VzIHZlcnNpb24gb2YgYC5nZXRTZXRDb29raWVTdHJpbmdzKClgLiBSZXR1cm5zIGFuIGFycmF5IG9mIHN0cmluZ3Mgc3VpdGFibGUgZm9yIGBTZXQtQ29va2llYCBoZWFkZXJzLlxuICAgKiBBY2NlcHRzIHRoZSBzYW1lIG9wdGlvbnMgYXMgYC5nZXRDb29raWVzKClgLlxuICAgKlxuICAgKiA8c3Ryb25nPk5vdGU8L3N0cm9uZz46IE9ubHkgd29ya3MgaWYgdGhlIGNvbmZpZ3VyZWQgU3RvcmUgaXMgYWxzbyBzeW5jaHJvbm91cy5cbiAgICpcbiAgICogQHBhcmFtIHVybCAtIFRoZSBkb21haW4gdG8gc3RvcmUgdGhlIGNvb2tpZSB3aXRoLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gc2V0dGluZ3MgdG8gdXNlIHdoZW4gcmV0cmlldmluZyB0aGUgY29va2llcy5cbiAgICovXG4gIGdldFNldENvb2tpZVN0cmluZ3NTeW5jKHVybCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFN5bmModGhpcy5nZXRTZXRDb29raWVTdHJpbmdzLmJpbmQodGhpcywgdXJsLCBvcHRpb25zKSkgPz8gW107XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbCBObyBkb2MgYmVjYXVzZSB0aGlzIGlzIHRoZSBvdmVybG9hZCBpbXBsZW1lbnRhdGlvblxuICAgKi9cbiAgc2VyaWFsaXplKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcHJvbWlzZUNhbGxiYWNrID0gY3JlYXRlUHJvbWlzZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICBsZXQgdHlwZSA9IHRoaXMuc3RvcmUuY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAoaXNPYmplY3QodHlwZSkpIHtcbiAgICAgIHR5cGUgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzZXJpYWxpemVkID0ge1xuICAgICAgLy8gVGhlIHZlcnNpb24gb2YgdG91Z2gtY29va2llIHRoYXQgc2VyaWFsaXplZCB0aGlzIGphci4gR2VuZXJhbGx5IGEgZ29vZFxuICAgICAgLy8gcHJhY3RpY2Ugc2luY2UgZnV0dXJlIHZlcnNpb25zIGNhbiBtYWtlIGRhdGEgaW1wb3J0IGRlY2lzaW9ucyBiYXNlZCBvblxuICAgICAgLy8ga25vd24gcGFzdCBiZWhhdmlvci4gV2hlbi9pZiB0aGlzIG1hdHRlcnMsIHVzZSBgc2VtdmVyYC5cbiAgICAgIHZlcnNpb246IGB0b3VnaC1jb29raWVAJHt2ZXJzaW9ufWAsXG4gICAgICAvLyBhZGQgdGhlIHN0b3JlIHR5cGUsIHRvIG1ha2UgaHVtYW5zIGhhcHB5OlxuICAgICAgc3RvcmVUeXBlOiB0eXBlLFxuICAgICAgLy8gQ29va2llSmFyIGNvbmZpZ3VyYXRpb246XG4gICAgICByZWplY3RQdWJsaWNTdWZmaXhlczogdGhpcy5yZWplY3RQdWJsaWNTdWZmaXhlcyxcbiAgICAgIGVuYWJsZUxvb3NlTW9kZTogdGhpcy5lbmFibGVMb29zZU1vZGUsXG4gICAgICBhbGxvd1NwZWNpYWxVc2VEb21haW46IHRoaXMuYWxsb3dTcGVjaWFsVXNlRG9tYWluLFxuICAgICAgcHJlZml4U2VjdXJpdHk6IGdldE5vcm1hbGl6ZWRQcmVmaXhTZWN1cml0eSh0aGlzLnByZWZpeFNlY3VyaXR5KSxcbiAgICAgIC8vIHRoaXMgZ2V0cyBmaWxsZWQgZnJvbSBnZXRBbGxDb29raWVzOlxuICAgICAgY29va2llczogW11cbiAgICB9O1xuICAgIGlmICh0eXBlb2YgdGhpcy5zdG9yZS5nZXRBbGxDb29raWVzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJzdG9yZSBkb2VzIG5vdCBzdXBwb3J0IGdldEFsbENvb2tpZXMgYW5kIGNhbm5vdCBiZSBzZXJpYWxpemVkXCJcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zdG9yZS5nZXRBbGxDb29raWVzKChlcnIsIGNvb2tpZXMpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJvbWlzZUNhbGxiYWNrLmNhbGxiYWNrKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjb29raWVzID09IG51bGwpIHtcbiAgICAgICAgcHJvbWlzZUNhbGxiYWNrLmNhbGxiYWNrKG51bGwsIHNlcmlhbGl6ZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXJpYWxpemVkLmNvb2tpZXMgPSBjb29raWVzLm1hcCgoY29va2llKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRDb29raWUgPSBjb29raWUudG9KU09OKCk7XG4gICAgICAgIGRlbGV0ZSBzZXJpYWxpemVkQ29va2llLmNyZWF0aW9uSW5kZXg7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVkQ29va2llO1xuICAgICAgfSk7XG4gICAgICBwcm9taXNlQ2FsbGJhY2suY2FsbGJhY2sobnVsbCwgc2VyaWFsaXplZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5wcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBTZXJpYWxpemUgdGhlIENvb2tpZUphciBpZiB0aGUgdW5kZXJseWluZyBzdG9yZSBzdXBwb3J0cyBgLmdldEFsbENvb2tpZXNgLlxuICAgKlxuICAgKiA8c3Ryb25nPk5vdGU8L3N0cm9uZz46IE9ubHkgd29ya3MgaWYgdGhlIGNvbmZpZ3VyZWQgU3RvcmUgaXMgYWxzbyBzeW5jaHJvbm91cy5cbiAgICovXG4gIHNlcmlhbGl6ZVN5bmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbFN5bmMoKGNhbGxiYWNrKSA9PiB7XG4gICAgICB0aGlzLnNlcmlhbGl6ZShjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFsaWFzIG9mIHtAbGluayBDb29raWVKYXIuc2VyaWFsaXplU3luY30uIEFsbG93cyB0aGUgY29va2llIHRvIGJlIHNlcmlhbGl6ZWRcbiAgICogd2l0aCBgSlNPTi5zdHJpbmdpZnkoY29va2llSmFyKWAuXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplU3luYygpO1xuICB9XG4gIC8qKlxuICAgKiBVc2UgdGhlIGNsYXNzIG1ldGhvZCBDb29raWVKYXIuZGVzZXJpYWxpemUgaW5zdGVhZCBvZiBjYWxsaW5nIHRoaXMgZGlyZWN0bHlcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfaW1wb3J0Q29va2llcyhzZXJpYWxpemVkLCBjYWxsYmFjaykge1xuICAgIGxldCBjb29raWVzID0gdm9pZCAwO1xuICAgIGlmIChzZXJpYWxpemVkICYmIHR5cGVvZiBzZXJpYWxpemVkID09PSBcIm9iamVjdFwiICYmIGluT3BlcmF0b3IoXCJjb29raWVzXCIsIHNlcmlhbGl6ZWQpICYmIEFycmF5LmlzQXJyYXkoc2VyaWFsaXplZC5jb29raWVzKSkge1xuICAgICAgY29va2llcyA9IHNlcmlhbGl6ZWQuY29va2llcztcbiAgICB9XG4gICAgaWYgKCFjb29raWVzKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoXCJzZXJpYWxpemVkIGphciBoYXMgbm8gY29va2llcyBhcnJheVwiKSwgdm9pZCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29va2llcyA9IGNvb2tpZXMuc2xpY2UoKTtcbiAgICBjb25zdCBwdXROZXh0ID0gKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIsIHZvaWQgMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvb2tpZXMpKSB7XG4gICAgICAgIGlmICghY29va2llcy5sZW5ndGgpIHtcbiAgICAgICAgICBjYWxsYmFjayhlcnIsIHRoaXMpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29va2llO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvb2tpZSA9IENvb2tpZS5mcm9tSlNPTihjb29raWVzLnNoaWZ0KCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY2FsbGJhY2soZSBpbnN0YW5jZW9mIEVycm9yID8gZSA6IG5ldyBFcnJvcigpLCB2b2lkIDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29va2llID09PSB2b2lkIDApIHtcbiAgICAgICAgICBwdXROZXh0KG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b3JlLnB1dENvb2tpZShjb29raWUsIHB1dE5leHQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcHV0TmV4dChudWxsKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfaW1wb3J0Q29va2llc1N5bmMoc2VyaWFsaXplZCkge1xuICAgIHRoaXMuY2FsbFN5bmModGhpcy5faW1wb3J0Q29va2llcy5iaW5kKHRoaXMsIHNlcmlhbGl6ZWQpKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgdGhlIG92ZXJsb2FkIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBjbG9uZShuZXdTdG9yZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG5ld1N0b3JlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNhbGxiYWNrID0gbmV3U3RvcmU7XG4gICAgICBuZXdTdG9yZSA9IHZvaWQgMDtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZUNhbGxiYWNrID0gY3JlYXRlUHJvbWlzZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICBjb25zdCBjYiA9IHByb21pc2VDYWxsYmFjay5jYWxsYmFjaztcbiAgICB0aGlzLnNlcmlhbGl6ZSgoZXJyLCBzZXJpYWxpemVkKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm4gX0Nvb2tpZUphci5kZXNlcmlhbGl6ZShzZXJpYWxpemVkID8/IFwiXCIsIG5ld1N0b3JlLCBjYik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5wcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9jbG9uZVN5bmMobmV3U3RvcmUpIHtcbiAgICBjb25zdCBjbG9uZUZuID0gbmV3U3RvcmUgJiYgdHlwZW9mIG5ld1N0b3JlICE9PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmNsb25lLmJpbmQodGhpcywgbmV3U3RvcmUpIDogdGhpcy5jbG9uZS5iaW5kKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLmNhbGxTeW5jKChjYWxsYmFjaykgPT4ge1xuICAgICAgY2xvbmVGbihjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2R1Y2VzIGEgZGVlcCBjbG9uZSBvZiB0aGlzIENvb2tpZUphci4gTW9kaWZpY2F0aW9ucyB0byB0aGUgb3JpZ2luYWwgZG9cbiAgICogbm90IGFmZmVjdCB0aGUgY2xvbmUsIGFuZCB2aWNlIHZlcnNhLlxuICAgKlxuICAgKiA8c3Ryb25nPk5vdGU8L3N0cm9uZz46IE9ubHkgd29ya3MgaWYgYm90aCB0aGUgY29uZmlndXJlZCBTdG9yZSBhbmQgZGVzdGluYXRpb25cbiAgICogU3RvcmUgYXJlIHN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiAtIFdoZW4gbm8ge0BsaW5rIFN0b3JlfSBpcyBwcm92aWRlZCwgYSBuZXcge0BsaW5rIE1lbW9yeUNvb2tpZVN0b3JlfSB3aWxsIGJlIHVzZWQuXG4gICAqXG4gICAqIC0gVHJhbnNmZXJyaW5nIGJldHdlZW4gc3RvcmUgdHlwZXMgaXMgc3VwcG9ydGVkIHNvIGxvbmcgYXMgdGhlIHNvdXJjZVxuICAgKiAgICAgaW1wbGVtZW50cyBgLmdldEFsbENvb2tpZXMoKWAgYW5kIHRoZSBkZXN0aW5hdGlvbiBpbXBsZW1lbnRzIGAucHV0Q29va2llKClgLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3U3RvcmUgLSBUaGUgdGFyZ2V0IHtAbGluayBTdG9yZX0gdG8gY2xvbmUgY29va2llcyBpbnRvLlxuICAgKi9cbiAgY2xvbmVTeW5jKG5ld1N0b3JlKSB7XG4gICAgaWYgKCFuZXdTdG9yZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lU3luYygpO1xuICAgIH1cbiAgICBpZiAoIW5ld1N0b3JlLnN5bmNocm9ub3VzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQ29va2llSmFyIGNsb25lIGRlc3RpbmF0aW9uIHN0b3JlIGlzIG5vdCBzeW5jaHJvbm91czsgdXNlIGFzeW5jIEFQSSBpbnN0ZWFkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2xvbmVTeW5jKG5ld1N0b3JlKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgdGhlIG92ZXJsb2FkIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICByZW1vdmVBbGxDb29raWVzKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcHJvbWlzZUNhbGxiYWNrID0gY3JlYXRlUHJvbWlzZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICBjb25zdCBjYiA9IHByb21pc2VDYWxsYmFjay5jYWxsYmFjaztcbiAgICBjb25zdCBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgaWYgKHR5cGVvZiBzdG9yZS5yZW1vdmVBbGxDb29raWVzID09PSBcImZ1bmN0aW9uXCIgJiYgc3RvcmUucmVtb3ZlQWxsQ29va2llcyAhPT0gU3RvcmUucHJvdG90eXBlLnJlbW92ZUFsbENvb2tpZXMpIHtcbiAgICAgIHN0b3JlLnJlbW92ZUFsbENvb2tpZXMoY2IpO1xuICAgICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5wcm9taXNlO1xuICAgIH1cbiAgICBzdG9yZS5nZXRBbGxDb29raWVzKChlcnIsIGNvb2tpZXMpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2IoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjb29raWVzKSB7XG4gICAgICAgIGNvb2tpZXMgPSBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChjb29raWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjYihudWxsLCB2b2lkIDApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwO1xuICAgICAgY29uc3QgcmVtb3ZlRXJyb3JzID0gW107XG4gICAgICBjb25zdCByZW1vdmVDb29raWVDYiA9IGZ1bmN0aW9uIHJlbW92ZUNvb2tpZUNiMihyZW1vdmVFcnIpIHtcbiAgICAgICAgaWYgKHJlbW92ZUVycikge1xuICAgICAgICAgIHJlbW92ZUVycm9ycy5wdXNoKHJlbW92ZUVycik7XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVkQ291bnQrKztcbiAgICAgICAgaWYgKGNvbXBsZXRlZENvdW50ID09PSBjb29raWVzLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChyZW1vdmVFcnJvcnNbMF0pIGNiKHJlbW92ZUVycm9yc1swXSk7XG4gICAgICAgICAgZWxzZSBjYihudWxsLCB2b2lkIDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvb2tpZXMuZm9yRWFjaCgoY29va2llKSA9PiB7XG4gICAgICAgIHN0b3JlLnJlbW92ZUNvb2tpZShcbiAgICAgICAgICBjb29raWUuZG9tYWluLFxuICAgICAgICAgIGNvb2tpZS5wYXRoLFxuICAgICAgICAgIGNvb2tpZS5rZXksXG4gICAgICAgICAgcmVtb3ZlQ29va2llQ2JcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9taXNlQ2FsbGJhY2sucHJvbWlzZTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgY29va2llcyBmcm9tIHRoZSBDb29raWVKYXIuXG4gICAqXG4gICAqIDxzdHJvbmc+Tm90ZTwvc3Ryb25nPjogT25seSB3b3JrcyBpZiB0aGUgY29uZmlndXJlZCBTdG9yZSBpcyBhbHNvIHN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiAtIFRoaXMgaXMgYSBuZXcgYmFja3dhcmRzLWNvbXBhdGlibGUgZmVhdHVyZSBvZiB0b3VnaC1jb29raWUgdmVyc2lvbiAyLjUsXG4gICAqICAgICBzbyBub3QgYWxsIFN0b3JlcyB3aWxsIGltcGxlbWVudCBpdCBlZmZpY2llbnRseS4gRm9yIFN0b3JlcyB0aGF0IGRvIG5vdFxuICAgKiAgICAgaW1wbGVtZW50IGByZW1vdmVBbGxDb29raWVzYCwgdGhlIGZhbGxiYWNrIGlzIHRvIGNhbGwgYHJlbW92ZUNvb2tpZWAgYWZ0ZXJcbiAgICogICAgIGBnZXRBbGxDb29raWVzYC5cbiAgICpcbiAgICogLSBJZiBgZ2V0QWxsQ29va2llc2AgZmFpbHMgb3IgaXNuJ3QgaW1wbGVtZW50ZWQgaW4gdGhlIFN0b3JlLCBhbiBlcnJvciBpcyByZXR1cm5lZC5cbiAgICpcbiAgICogLSBJZiBvbmUgb3IgbW9yZSBvZiB0aGUgYHJlbW92ZUNvb2tpZWAgY2FsbHMgZmFpbCwgb25seSB0aGUgZmlyc3QgZXJyb3IgaXMgcmV0dXJuZWQuXG4gICAqL1xuICByZW1vdmVBbGxDb29raWVzU3luYygpIHtcbiAgICB0aGlzLmNhbGxTeW5jKChjYWxsYmFjaykgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVBbGxDb29raWVzKGNhbGxiYWNrKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIE5vIGRvYyBiZWNhdXNlIHRoaXMgaXMgdGhlIG92ZXJsb2FkIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBzdGF0aWMgZGVzZXJpYWxpemUoc3RyT3JPYmosIHN0b3JlLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygc3RvcmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY2FsbGJhY2sgPSBzdG9yZTtcbiAgICAgIHN0b3JlID0gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCBwcm9taXNlQ2FsbGJhY2sgPSBjcmVhdGVQcm9taXNlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgIGxldCBzZXJpYWxpemVkO1xuICAgIGlmICh0eXBlb2Ygc3RyT3JPYmogPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNlcmlhbGl6ZWQgPSBKU09OLnBhcnNlKHN0ck9yT2JqKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5yZWplY3QoZSBpbnN0YW5jZW9mIEVycm9yID8gZSA6IG5ldyBFcnJvcigpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZCA9IHN0ck9yT2JqO1xuICAgIH1cbiAgICBjb25zdCByZWFkU2VyaWFsaXplZFByb3BlcnR5ID0gKHByb3BlcnR5KSA9PiB7XG4gICAgICByZXR1cm4gc2VyaWFsaXplZCAmJiB0eXBlb2Ygc2VyaWFsaXplZCA9PT0gXCJvYmplY3RcIiAmJiBpbk9wZXJhdG9yKHByb3BlcnR5LCBzZXJpYWxpemVkKSA/IHNlcmlhbGl6ZWRbcHJvcGVydHldIDogdm9pZCAwO1xuICAgIH07XG4gICAgY29uc3QgcmVhZFNlcmlhbGl6ZWRCb29sZWFuID0gKHByb3BlcnR5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHJlYWRTZXJpYWxpemVkUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgPyB2YWx1ZSA6IHZvaWQgMDtcbiAgICB9O1xuICAgIGNvbnN0IHJlYWRTZXJpYWxpemVkU3RyaW5nID0gKHByb3BlcnR5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHJlYWRTZXJpYWxpemVkUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogdm9pZCAwO1xuICAgIH07XG4gICAgY29uc3QgamFyID0gbmV3IF9Db29raWVKYXIoc3RvcmUsIHtcbiAgICAgIHJlamVjdFB1YmxpY1N1ZmZpeGVzOiByZWFkU2VyaWFsaXplZEJvb2xlYW4oXCJyZWplY3RQdWJsaWNTdWZmaXhlc1wiKSxcbiAgICAgIGxvb3NlTW9kZTogcmVhZFNlcmlhbGl6ZWRCb29sZWFuKFwiZW5hYmxlTG9vc2VNb2RlXCIpLFxuICAgICAgYWxsb3dTcGVjaWFsVXNlRG9tYWluOiByZWFkU2VyaWFsaXplZEJvb2xlYW4oXCJhbGxvd1NwZWNpYWxVc2VEb21haW5cIiksXG4gICAgICBwcmVmaXhTZWN1cml0eTogZ2V0Tm9ybWFsaXplZFByZWZpeFNlY3VyaXR5KFxuICAgICAgICByZWFkU2VyaWFsaXplZFN0cmluZyhcInByZWZpeFNlY3VyaXR5XCIpID8/IFwic2lsZW50XCJcbiAgICAgIClcbiAgICB9KTtcbiAgICBqYXIuX2ltcG9ydENvb2tpZXMoc2VyaWFsaXplZCwgKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcm9taXNlQ2FsbGJhY2suY2FsbGJhY2soZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJvbWlzZUNhbGxiYWNrLmNhbGxiYWNrKG51bGwsIGphcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2VDYWxsYmFjay5wcm9taXNlO1xuICB9XG4gIC8qKlxuICAgKiBBIG5ldyBDb29raWVKYXIgaXMgY3JlYXRlZCBhbmQgdGhlIHNlcmlhbGl6ZWQge0BsaW5rIENvb2tpZX0gdmFsdWVzIGFyZSBhZGRlZCB0b1xuICAgKiB0aGUgdW5kZXJseWluZyBzdG9yZS4gRWFjaCB7QGxpbmsgQ29va2llfSBpcyBhZGRlZCB2aWEgYHN0b3JlLnB1dENvb2tpZSguLi4pYCBpblxuICAgKiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcHBlYXIgaW4gdGhlIHNlcmlhbGl6YXRpb24uXG4gICAqXG4gICAqIDxzdHJvbmc+Tm90ZTwvc3Ryb25nPjogT25seSB3b3JrcyBpZiB0aGUgY29uZmlndXJlZCBTdG9yZSBpcyBhbHNvIHN5bmNocm9ub3VzLlxuICAgKlxuICAgKiBAcmVtYXJrc1xuICAgKiAtIFdoZW4gbm8ge0BsaW5rIFN0b3JlfSBpcyBwcm92aWRlZCwgYSBuZXcge0BsaW5rIE1lbW9yeUNvb2tpZVN0b3JlfSB3aWxsIGJlIHVzZWQuXG4gICAqXG4gICAqIC0gQXMgYSBjb252ZW5pZW5jZSwgaWYgYHN0ck9yT2JqYCBpcyBhIHN0cmluZywgaXQgaXMgcGFzc2VkIHRocm91Z2ggYEpTT04ucGFyc2VgIGZpcnN0LlxuICAgKlxuICAgKiBAcGFyYW0gc3RyT3JPYmogLSBBIEpTT04gc3RyaW5nIG9yIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGRlc2VyaWFsaXplZCBjb29raWVzLlxuICAgKiBAcGFyYW0gc3RvcmUgLSBUaGUgdW5kZXJseWluZyBzdG9yZSB0byBwZXJzaXN0IHRoZSBkZXNlcmlhbGl6ZWQgY29va2llcyBpbnRvLlxuICAgKi9cbiAgc3RhdGljIGRlc2VyaWFsaXplU3luYyhzdHJPck9iaiwgc3RvcmUpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkID0gdHlwZW9mIHN0ck9yT2JqID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShzdHJPck9iaikgOiBzdHJPck9iajtcbiAgICBjb25zdCByZWFkU2VyaWFsaXplZFByb3BlcnR5ID0gKHByb3BlcnR5KSA9PiB7XG4gICAgICByZXR1cm4gc2VyaWFsaXplZCAmJiB0eXBlb2Ygc2VyaWFsaXplZCA9PT0gXCJvYmplY3RcIiAmJiBpbk9wZXJhdG9yKHByb3BlcnR5LCBzZXJpYWxpemVkKSA/IHNlcmlhbGl6ZWRbcHJvcGVydHldIDogdm9pZCAwO1xuICAgIH07XG4gICAgY29uc3QgcmVhZFNlcmlhbGl6ZWRCb29sZWFuID0gKHByb3BlcnR5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHJlYWRTZXJpYWxpemVkUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgPyB2YWx1ZSA6IHZvaWQgMDtcbiAgICB9O1xuICAgIGNvbnN0IHJlYWRTZXJpYWxpemVkU3RyaW5nID0gKHByb3BlcnR5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHJlYWRTZXJpYWxpemVkUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogdm9pZCAwO1xuICAgIH07XG4gICAgY29uc3QgamFyID0gbmV3IF9Db29raWVKYXIoc3RvcmUsIHtcbiAgICAgIHJlamVjdFB1YmxpY1N1ZmZpeGVzOiByZWFkU2VyaWFsaXplZEJvb2xlYW4oXCJyZWplY3RQdWJsaWNTdWZmaXhlc1wiKSxcbiAgICAgIGxvb3NlTW9kZTogcmVhZFNlcmlhbGl6ZWRCb29sZWFuKFwiZW5hYmxlTG9vc2VNb2RlXCIpLFxuICAgICAgYWxsb3dTcGVjaWFsVXNlRG9tYWluOiByZWFkU2VyaWFsaXplZEJvb2xlYW4oXCJhbGxvd1NwZWNpYWxVc2VEb21haW5cIiksXG4gICAgICBwcmVmaXhTZWN1cml0eTogZ2V0Tm9ybWFsaXplZFByZWZpeFNlY3VyaXR5KFxuICAgICAgICByZWFkU2VyaWFsaXplZFN0cmluZyhcInByZWZpeFNlY3VyaXR5XCIpID8/IFwic2lsZW50XCJcbiAgICAgIClcbiAgICB9KTtcbiAgICBpZiAoIWphci5zdG9yZS5zeW5jaHJvbm91cykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNvb2tpZUphciBzdG9yZSBpcyBub3Qgc3luY2hyb25vdXM7IHVzZSBhc3luYyBBUEkgaW5zdGVhZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgamFyLl9pbXBvcnRDb29raWVzU3luYyhzZXJpYWxpemVkKTtcbiAgICByZXR1cm4gamFyO1xuICB9XG4gIC8qKlxuICAgKiBBbGlhcyBvZiB7QGxpbmsgQ29va2llSmFyLmRlc2VyaWFsaXplU3luY30uXG4gICAqXG4gICAqIEByZW1hcmtzXG4gICAqIC0gV2hlbiBubyB7QGxpbmsgU3RvcmV9IGlzIHByb3ZpZGVkLCBhIG5ldyB7QGxpbmsgTWVtb3J5Q29va2llU3RvcmV9IHdpbGwgYmUgdXNlZC5cbiAgICpcbiAgICogLSBBcyBhIGNvbnZlbmllbmNlLCBpZiBgc3RyT3JPYmpgIGlzIGEgc3RyaW5nLCBpdCBpcyBwYXNzZWQgdGhyb3VnaCBgSlNPTi5wYXJzZWAgZmlyc3QuXG4gICAqXG4gICAqIEBwYXJhbSBqc29uU3RyaW5nIC0gQSBKU09OIHN0cmluZyBvciBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBkZXNlcmlhbGl6ZWQgY29va2llcy5cbiAgICogQHBhcmFtIHN0b3JlIC0gVGhlIHVuZGVybHlpbmcgc3RvcmUgdG8gcGVyc2lzdCB0aGUgZGVzZXJpYWxpemVkIGNvb2tpZXMgaW50by5cbiAgICovXG4gIHN0YXRpYyBmcm9tSlNPTihqc29uU3RyaW5nLCBzdG9yZSkge1xuICAgIHJldHVybiBfQ29va2llSmFyLmRlc2VyaWFsaXplU3luYyhqc29uU3RyaW5nLCBzdG9yZSk7XG4gIH1cbn07XG5cbi8vIGxpYi9jb29raWUvcGVybXV0ZVBhdGgudHNcbmZ1bmN0aW9uIHBlcm11dGVQYXRoKHBhdGgpIHtcbiAgaWYgKHBhdGggPT09IFwiL1wiKSB7XG4gICAgcmV0dXJuIFtcIi9cIl07XG4gIH1cbiAgY29uc3QgcGVybXV0YXRpb25zID0gW3BhdGhdO1xuICB3aGlsZSAocGF0aC5sZW5ndGggPiAxKSB7XG4gICAgY29uc3QgbGluZGV4ID0gcGF0aC5sYXN0SW5kZXhPZihcIi9cIik7XG4gICAgaWYgKGxpbmRleCA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIGxpbmRleCk7XG4gICAgcGVybXV0YXRpb25zLnB1c2gocGF0aCk7XG4gIH1cbiAgcGVybXV0YXRpb25zLnB1c2goXCIvXCIpO1xuICByZXR1cm4gcGVybXV0YXRpb25zO1xufVxuXG4vLyBsaWIvY29va2llL2luZGV4LnRzXG5mdW5jdGlvbiBwYXJzZTIoc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiBDb29raWUucGFyc2Uoc3RyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGZyb21KU09OMihzdHIpIHtcbiAgcmV0dXJuIENvb2tpZS5mcm9tSlNPTihzdHIpO1xufVxuZXhwb3J0IHtcbiAgQ29va2llLFxuICBDb29raWVKYXIsXG4gIE1lbW9yeUNvb2tpZVN0b3JlLFxuICBQYXJhbWV0ZXJFcnJvcixcbiAgUHJlZml4U2VjdXJpdHlFbnVtLFxuICBTdG9yZSxcbiAgY2Fub25pY2FsRG9tYWluLFxuICBjb29raWVDb21wYXJlLFxuICBkZWZhdWx0UGF0aCxcbiAgZG9tYWluTWF0Y2gsXG4gIGZvcm1hdERhdGUsXG4gIGZyb21KU09OMiBhcyBmcm9tSlNPTixcbiAgZ2V0UHVibGljU3VmZml4LFxuICBwYXJzZTIgYXMgcGFyc2UsXG4gIHBhcnNlRGF0ZSxcbiAgcGF0aE1hdGNoLFxuICBwZXJtdXRlRG9tYWluLFxuICBwZXJtdXRlUGF0aCxcbiAgdmVyc2lvblxufTtcbi8qIVxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMjAsIFNhbGVzZm9yY2UuY29tLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uXG4gKiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIFNhbGVzZm9yY2UuY29tIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXlcbiAqIGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXRcbiAqIHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxuICogQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRVxuICogSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiAqIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1JcbiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GXG4gKiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1NcbiAqIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOXG4gKiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICogQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/msw/node_modules/tough-cookie/dist/index.js\n");

/***/ })

};
;